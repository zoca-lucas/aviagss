function x$(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function st(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Um={exports:{}},zl={},qm={exports:{}},et={};var i_;function w$(){if(i_)return et;i_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function b(W,J,D){this.props=W,this.context=J,this.refs=S,this.updater=D||y}b.prototype.isReactComponent={},b.prototype.setState=function(W,J){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,J,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function _(){}_.prototype=b.prototype;function A(W,J,D){this.props=W,this.context=J,this.refs=S,this.updater=D||y}var x=A.prototype=new _;x.constructor=A,w(x,b.prototype),x.isPureReactComponent=!0;var T=Array.isArray,C=Object.prototype.hasOwnProperty,E={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(W,J,D){var re,K={},fe=null,Me=null;if(J!=null)for(re in J.ref!==void 0&&(Me=J.ref),J.key!==void 0&&(fe=""+J.key),J)C.call(J,re)&&!P.hasOwnProperty(re)&&(K[re]=J[re]);var Re=arguments.length-2;if(Re===1)K.children=D;else if(1<Re){for(var he=Array(Re),Ee=0;Ee<Re;Ee++)he[Ee]=arguments[Ee+2];K.children=he}if(W&&W.defaultProps)for(re in Re=W.defaultProps,Re)K[re]===void 0&&(K[re]=Re[re]);return{$$typeof:t,type:W,key:fe,ref:Me,props:K,_owner:E.current}}function M(W,J){return{$$typeof:t,type:W.type,key:J,ref:W.ref,props:W.props,_owner:W._owner}}function $(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function k(W){var J={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(D){return J[D]})}var L=/\/+/g;function F(W,J){return typeof W=="object"&&W!==null&&W.key!=null?k(""+W.key):J.toString(36)}function z(W,J,D,re,K){var fe=typeof W;(fe==="undefined"||fe==="boolean")&&(W=null);var Me=!1;if(W===null)Me=!0;else switch(fe){case"string":case"number":Me=!0;break;case"object":switch(W.$$typeof){case t:case e:Me=!0}}if(Me)return Me=W,K=K(Me),W=re===""?"."+F(Me,0):re,T(K)?(D="",W!=null&&(D=W.replace(L,"$&/")+"/"),z(K,J,D,"",function(Ee){return Ee})):K!=null&&($(K)&&(K=M(K,D+(!K.key||Me&&Me.key===K.key?"":(""+K.key).replace(L,"$&/")+"/")+W)),J.push(K)),1;if(Me=0,re=re===""?".":re+":",T(W))for(var Re=0;Re<W.length;Re++){fe=W[Re];var he=re+F(fe,Re);Me+=z(fe,J,D,he,K)}else if(he=v(W),typeof he=="function")for(W=he.call(W),Re=0;!(fe=W.next()).done;)fe=fe.value,he=re+F(fe,Re++),Me+=z(fe,J,D,he,K);else if(fe==="object")throw J=String(W),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Me}function q(W,J,D){if(W==null)return W;var re=[],K=0;return z(W,re,"","",function(fe){return J.call(D,fe,K++)}),re}function Y(W){if(W._status===-1){var J=W._result;J=J(),J.then(function(D){(W._status===0||W._status===-1)&&(W._status=1,W._result=D)},function(D){(W._status===0||W._status===-1)&&(W._status=2,W._result=D)}),W._status===-1&&(W._status=0,W._result=J)}if(W._status===1)return W._result.default;throw W._result}var te={current:null},ee={transition:null},oe={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:ee,ReactCurrentOwner:E};function ue(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:q,forEach:function(W,J,D){q(W,function(){J.apply(this,arguments)},D)},count:function(W){var J=0;return q(W,function(){J++}),J},toArray:function(W){return q(W,function(J){return J})||[]},only:function(W){if(!$(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},et.Component=b,et.Fragment=r,et.Profiler=a,et.PureComponent=A,et.StrictMode=n,et.Suspense=d,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,et.act=ue,et.cloneElement=function(W,J,D){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var re=w({},W.props),K=W.key,fe=W.ref,Me=W._owner;if(J!=null){if(J.ref!==void 0&&(fe=J.ref,Me=E.current),J.key!==void 0&&(K=""+J.key),W.type&&W.type.defaultProps)var Re=W.type.defaultProps;for(he in J)C.call(J,he)&&!P.hasOwnProperty(he)&&(re[he]=J[he]===void 0&&Re!==void 0?Re[he]:J[he])}var he=arguments.length-2;if(he===1)re.children=D;else if(1<he){Re=Array(he);for(var Ee=0;Ee<he;Ee++)Re[Ee]=arguments[Ee+2];re.children=Re}return{$$typeof:t,type:W.type,key:K,ref:fe,props:re,_owner:Me}},et.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:i,_context:W},W.Consumer=W},et.createElement=R,et.createFactory=function(W){var J=R.bind(null,W);return J.type=W,J},et.createRef=function(){return{current:null}},et.forwardRef=function(W){return{$$typeof:c,render:W}},et.isValidElement=$,et.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:Y}},et.memo=function(W,J){return{$$typeof:f,type:W,compare:J===void 0?null:J}},et.startTransition=function(W){var J=ee.transition;ee.transition={};try{W()}finally{ee.transition=J}},et.unstable_act=ue,et.useCallback=function(W,J){return te.current.useCallback(W,J)},et.useContext=function(W){return te.current.useContext(W)},et.useDebugValue=function(){},et.useDeferredValue=function(W){return te.current.useDeferredValue(W)},et.useEffect=function(W,J){return te.current.useEffect(W,J)},et.useId=function(){return te.current.useId()},et.useImperativeHandle=function(W,J,D){return te.current.useImperativeHandle(W,J,D)},et.useInsertionEffect=function(W,J){return te.current.useInsertionEffect(W,J)},et.useLayoutEffect=function(W,J){return te.current.useLayoutEffect(W,J)},et.useMemo=function(W,J){return te.current.useMemo(W,J)},et.useReducer=function(W,J,D){return te.current.useReducer(W,J,D)},et.useRef=function(W){return te.current.useRef(W)},et.useState=function(W){return te.current.useState(W)},et.useSyncExternalStore=function(W,J,D){return te.current.useSyncExternalStore(W,J,D)},et.useTransition=function(){return te.current.useTransition()},et.version="18.3.1",et}var o_;function Zx(){return o_||(o_=1,qm.exports=w$()),qm.exports}var s_;function S$(){if(s_)return zl;s_=1;var t=Zx(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(c,d,f){var p,m={},v=null,y=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(y=d.ref);for(p in d)n.call(d,p)&&!i.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:c,key:v,ref:y,props:m,_owner:a.current}}return zl.Fragment=r,zl.jsx=s,zl.jsxs=s,zl}var l_;function j$(){return l_||(l_=1,Um.exports=S$()),Um.exports}var o=j$(),N=Zx();const G=st(N),_$=x$({__proto__:null,default:G},[N]);var Od={},Vm={exports:{}},Fr={},Hm={exports:{}},Wm={};var c_;function A$(){return c_||(c_=1,(function(t){function e(ee,oe){var ue=ee.length;ee.push(oe);e:for(;0<ue;){var W=ue-1>>>1,J=ee[W];if(0<a(J,oe))ee[W]=oe,ee[ue]=J,ue=W;else break e}}function r(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var oe=ee[0],ue=ee.pop();if(ue!==oe){ee[0]=ue;e:for(var W=0,J=ee.length,D=J>>>1;W<D;){var re=2*(W+1)-1,K=ee[re],fe=re+1,Me=ee[fe];if(0>a(K,ue))fe<J&&0>a(Me,K)?(ee[W]=Me,ee[fe]=ue,W=fe):(ee[W]=K,ee[re]=ue,W=re);else if(fe<J&&0>a(Me,ue))ee[W]=Me,ee[fe]=ue,W=fe;else break e}}return oe}function a(ee,oe){var ue=ee.sortIndex-oe.sortIndex;return ue!==0?ue:ee.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var d=[],f=[],p=1,m=null,v=3,y=!1,w=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(ee){for(var oe=r(f);oe!==null;){if(oe.callback===null)n(f);else if(oe.startTime<=ee)n(f),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=r(f)}}function T(ee){if(S=!1,x(ee),!w)if(r(d)!==null)w=!0,Y(C);else{var oe=r(f);oe!==null&&te(T,oe.startTime-ee)}}function C(ee,oe){w=!1,S&&(S=!1,_(R),R=-1),y=!0;var ue=v;try{for(x(oe),m=r(d);m!==null&&(!(m.expirationTime>oe)||ee&&!k());){var W=m.callback;if(typeof W=="function"){m.callback=null,v=m.priorityLevel;var J=W(m.expirationTime<=oe);oe=t.unstable_now(),typeof J=="function"?m.callback=J:m===r(d)&&n(d),x(oe)}else n(d);m=r(d)}if(m!==null)var D=!0;else{var re=r(f);re!==null&&te(T,re.startTime-oe),D=!1}return D}finally{m=null,v=ue,y=!1}}var E=!1,P=null,R=-1,M=5,$=-1;function k(){return!(t.unstable_now()-$<M)}function L(){if(P!==null){var ee=t.unstable_now();$=ee;var oe=!0;try{oe=P(!0,ee)}finally{oe?F():(E=!1,P=null)}}else E=!1}var F;if(typeof A=="function")F=function(){A(L)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,q=z.port2;z.port1.onmessage=L,F=function(){q.postMessage(null)}}else F=function(){b(L,0)};function Y(ee){P=ee,E||(E=!0,F())}function te(ee,oe){R=b(function(){ee(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,Y(C))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(ee){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var ue=v;v=oe;try{return ee()}finally{v=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,oe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ue=v;v=ee;try{return oe()}finally{v=ue}},t.unstable_scheduleCallback=function(ee,oe,ue){var W=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?W+ue:W):ue=W,ee){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ue+J,ee={id:p++,callback:oe,priorityLevel:ee,startTime:ue,expirationTime:J,sortIndex:-1},ue>W?(ee.sortIndex=ue,e(f,ee),r(d)===null&&ee===r(f)&&(S?(_(R),R=-1):S=!0,te(T,ue-W))):(ee.sortIndex=J,e(d,ee),w||y||(w=!0,Y(C))),ee},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(ee){var oe=v;return function(){var ue=v;v=oe;try{return ee.apply(this,arguments)}finally{v=ue}}}})(Wm)),Wm}var u_;function O$(){return u_||(u_=1,Hm.exports=A$()),Hm.exports}var d_;function C$(){if(d_)return Fr;d_=1;var t=Zx(),e=O$();function r(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,h=1;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(l,u){s(l,u),s(l+"Capture",u)}function s(l,u){for(a[l]=u,l=0;l<u.length;l++)n.add(u[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(l){return d.call(m,l)?!0:d.call(p,l)?!1:f.test(l)?m[l]=!0:(p[l]=!0,!1)}function y(l,u,h,g){if(h!==null&&h.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,u,h,g){if(u===null||typeof u>"u"||y(l,u,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function S(l,u,h,g,j,O,I){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=g,this.attributeNamespace=j,this.mustUseProperty=h,this.propertyName=l,this.type=u,this.sanitizeURL=O,this.removeEmptyString=I}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){b[l]=new S(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];b[u]=new S(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){b[l]=new S(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){b[l]=new S(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){b[l]=new S(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){b[l]=new S(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){b[l]=new S(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){b[l]=new S(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){b[l]=new S(l,5,!1,l.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function A(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(_,A);b[u]=new S(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(_,A);b[u]=new S(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(_,A);b[u]=new S(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){b[l]=new S(l,1,!1,l.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){b[l]=new S(l,1,!1,l.toLowerCase(),null,!0,!0)});function x(l,u,h,g){var j=b.hasOwnProperty(u)?b[u]:null;(j!==null?j.type!==0:g||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,h,j,g)&&(h=null),g||j===null?v(u)&&(h===null?l.removeAttribute(u):l.setAttribute(u,""+h)):j.mustUseProperty?l[j.propertyName]=h===null?j.type===3?!1:"":h:(u=j.attributeName,g=j.attributeNamespace,h===null?l.removeAttribute(u):(j=j.type,h=j===3||j===4&&h===!0?"":""+h,g?l.setAttributeNS(g,u,h):l.setAttribute(u,h))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),E=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),k=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),ee=Symbol.iterator;function oe(l){return l===null||typeof l!="object"?null:(l=ee&&l[ee]||l["@@iterator"],typeof l=="function"?l:null)}var ue=Object.assign,W;function J(l){if(W===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+l}var D=!1;function re(l,u){if(!l||D)return"";D=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(se){var g=se}Reflect.construct(l,[],u)}else{try{u.call()}catch(se){g=se}l.call(u.prototype)}else{try{throw Error()}catch(se){g=se}l()}}catch(se){if(se&&g&&typeof se.stack=="string"){for(var j=se.stack.split(`
`),O=g.stack.split(`
`),I=j.length-1,H=O.length-1;1<=I&&0<=H&&j[I]!==O[H];)H--;for(;1<=I&&0<=H;I--,H--)if(j[I]!==O[H]){if(I!==1||H!==1)do if(I--,H--,0>H||j[I]!==O[H]){var X=`
`+j[I].replace(" at new "," at ");return l.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",l.displayName)),X}while(1<=I&&0<=H);break}}}finally{D=!1,Error.prepareStackTrace=h}return(l=l?l.displayName||l.name:"")?J(l):""}function K(l){switch(l.tag){case 5:return J(l.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return l=re(l.type,!1),l;case 11:return l=re(l.type.render,!1),l;case 1:return l=re(l.type,!0),l;default:return""}}function fe(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case P:return"Fragment";case E:return"Portal";case M:return"Profiler";case R:return"StrictMode";case F:return"Suspense";case z:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case k:return(l.displayName||"Context")+".Consumer";case $:return(l._context.displayName||"Context")+".Provider";case L:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case q:return u=l.displayName||null,u!==null?u:fe(l.type)||"Memo";case Y:u=l._payload,l=l._init;try{return fe(l(u))}catch{}}return null}function Me(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(u);case 8:return u===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Re(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function he(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ee(l){var u=he(l)?"checked":"value",h=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),g=""+l[u];if(!l.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var j=h.get,O=h.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return j.call(this)},set:function(I){g=""+I,O.call(this,I)}}),Object.defineProperty(l,u,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(I){g=""+I},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function _e(l){l._valueTracker||(l._valueTracker=Ee(l))}function ve(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var h=u.getValue(),g="";return l&&(g=he(l)?l.checked?"true":"false":l.value),l=g,l!==h?(u.setValue(l),!0):!1}function Ye(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function V(l,u){var h=u.checked;return ue({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??l._wrapperState.initialChecked})}function Fe(l,u){var h=u.defaultValue==null?"":u.defaultValue,g=u.checked!=null?u.checked:u.defaultChecked;h=Re(u.value!=null?u.value:h),l._wrapperState={initialChecked:g,initialValue:h,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function lt(l,u){u=u.checked,u!=null&&x(l,"checked",u,!1)}function It(l,u){lt(l,u);var h=Re(u.value),g=u.type;if(h!=null)g==="number"?(h===0&&l.value===""||l.value!=h)&&(l.value=""+h):l.value!==""+h&&(l.value=""+h);else if(g==="submit"||g==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?dn(l,u.type,h):u.hasOwnProperty("defaultValue")&&dn(l,u.type,Re(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function Gr(l,u,h){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var g=u.type;if(!(g!=="submit"&&g!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,h||u===l.value||(l.value=u),l.defaultValue=u}h=l.name,h!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,h!==""&&(l.name=h)}function dn(l,u,h){(u!=="number"||Ye(l.ownerDocument)!==l)&&(h==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+h&&(l.defaultValue=""+h))}var fn=Array.isArray;function dr(l,u,h,g){if(l=l.options,u){u={};for(var j=0;j<h.length;j++)u["$"+h[j]]=!0;for(h=0;h<l.length;h++)j=u.hasOwnProperty("$"+l[h].value),l[h].selected!==j&&(l[h].selected=j),j&&g&&(l[h].defaultSelected=!0)}else{for(h=""+Re(h),u=null,j=0;j<l.length;j++){if(l[j].value===h){l[j].selected=!0,g&&(l[j].defaultSelected=!0);return}u!==null||l[j].disabled||(u=l[j])}u!==null&&(u.selected=!0)}}function Mr(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return ue({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function da(l,u){var h=u.value;if(h==null){if(h=u.children,u=u.defaultValue,h!=null){if(u!=null)throw Error(r(92));if(fn(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),h=u}l._wrapperState={initialValue:Re(h)}}function Oi(l,u){var h=Re(u.value),g=Re(u.defaultValue);h!=null&&(h=""+h,h!==l.value&&(l.value=h),u.defaultValue==null&&l.defaultValue!==h&&(l.defaultValue=h)),g!=null&&(l.defaultValue=""+g)}function B(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function ce(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function we(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?ce(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Le,gt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,h,g,j){MSApp.execUnsafeLocalFunction(function(){return l(u,h,g,j)})}:l})(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Le.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function ct(l,u){if(u){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=u;return}}l.textContent=u}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_R=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(l){_R.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),fa[u]=fa[l]})});function xS(l,u,h){return u==null||typeof u=="boolean"||u===""?"":h||typeof u!="number"||u===0||fa.hasOwnProperty(l)&&fa[l]?(""+u).trim():u+"px"}function wS(l,u){l=l.style;for(var h in u)if(u.hasOwnProperty(h)){var g=h.indexOf("--")===0,j=xS(h,u[h],g);h==="float"&&(h="cssFloat"),g?l.setProperty(h,j):l[h]=j}}var AR=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ep(l,u){if(u){if(AR[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function tp(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rp=null;function np(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ap=null,jo=null,_o=null;function SS(l){if(l=Ol(l)){if(typeof ap!="function")throw Error(r(280));var u=l.stateNode;u&&(u=Fu(u),ap(l.stateNode,l.type,u))}}function jS(l){jo?_o?_o.push(l):_o=[l]:jo=l}function _S(){if(jo){var l=jo,u=_o;if(_o=jo=null,SS(l),u)for(l=0;l<u.length;l++)SS(u[l])}}function AS(l,u){return l(u)}function OS(){}var ip=!1;function CS(l,u,h){if(ip)return l(u,h);ip=!0;try{return AS(l,u,h)}finally{ip=!1,(jo!==null||_o!==null)&&(OS(),_S())}}function il(l,u){var h=l.stateNode;if(h===null)return null;var g=Fu(h);if(g===null)return null;h=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(l=l.type,g=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!g;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var op=!1;if(c)try{var ol={};Object.defineProperty(ol,"passive",{get:function(){op=!0}}),window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{op=!1}function OR(l,u,h,g,j,O,I,H,X){var se=Array.prototype.slice.call(arguments,3);try{u.apply(h,se)}catch(ye){this.onError(ye)}}var sl=!1,yu=null,bu=!1,sp=null,CR={onError:function(l){sl=!0,yu=l}};function TR(l,u,h,g,j,O,I,H,X){sl=!1,yu=null,OR.apply(CR,arguments)}function ER(l,u,h,g,j,O,I,H,X){if(TR.apply(this,arguments),sl){if(sl){var se=yu;sl=!1,yu=null}else throw Error(r(198));bu||(bu=!0,sp=se)}}function Ci(l){var u=l,h=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(h=u.return),l=u.return;while(l)}return u.tag===3?h:null}function TS(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function ES(l){if(Ci(l)!==l)throw Error(r(188))}function PR(l){var u=l.alternate;if(!u){if(u=Ci(l),u===null)throw Error(r(188));return u!==l?null:l}for(var h=l,g=u;;){var j=h.return;if(j===null)break;var O=j.alternate;if(O===null){if(g=j.return,g!==null){h=g;continue}break}if(j.child===O.child){for(O=j.child;O;){if(O===h)return ES(j),l;if(O===g)return ES(j),u;O=O.sibling}throw Error(r(188))}if(h.return!==g.return)h=j,g=O;else{for(var I=!1,H=j.child;H;){if(H===h){I=!0,h=j,g=O;break}if(H===g){I=!0,g=j,h=O;break}H=H.sibling}if(!I){for(H=O.child;H;){if(H===h){I=!0,h=O,g=j;break}if(H===g){I=!0,g=O,h=j;break}H=H.sibling}if(!I)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?l:u}function PS(l){return l=PR(l),l!==null?kS(l):null}function kS(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=kS(l);if(u!==null)return u;l=l.sibling}return null}var NS=e.unstable_scheduleCallback,IS=e.unstable_cancelCallback,kR=e.unstable_shouldYield,NR=e.unstable_requestPaint,$t=e.unstable_now,IR=e.unstable_getCurrentPriorityLevel,lp=e.unstable_ImmediatePriority,MS=e.unstable_UserBlockingPriority,xu=e.unstable_NormalPriority,MR=e.unstable_LowPriority,RS=e.unstable_IdlePriority,wu=null,Wn=null;function RR(l){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(wu,l,void 0,(l.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:LR,DR=Math.log,$R=Math.LN2;function LR(l){return l>>>=0,l===0?32:31-(DR(l)/$R|0)|0}var Su=64,ju=4194304;function ll(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function _u(l,u){var h=l.pendingLanes;if(h===0)return 0;var g=0,j=l.suspendedLanes,O=l.pingedLanes,I=h&268435455;if(I!==0){var H=I&~j;H!==0?g=ll(H):(O&=I,O!==0&&(g=ll(O)))}else I=h&~j,I!==0?g=ll(I):O!==0&&(g=ll(O));if(g===0)return 0;if(u!==0&&u!==g&&(u&j)===0&&(j=g&-g,O=u&-u,j>=O||j===16&&(O&4194240)!==0))return u;if((g&4)!==0&&(g|=h&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=g;0<u;)h=31-Tn(u),j=1<<h,g|=l[h],u&=~j;return g}function BR(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FR(l,u){for(var h=l.suspendedLanes,g=l.pingedLanes,j=l.expirationTimes,O=l.pendingLanes;0<O;){var I=31-Tn(O),H=1<<I,X=j[I];X===-1?((H&h)===0||(H&g)!==0)&&(j[I]=BR(H,u)):X<=u&&(l.expiredLanes|=H),O&=~H}}function cp(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function DS(){var l=Su;return Su<<=1,(Su&4194240)===0&&(Su=64),l}function up(l){for(var u=[],h=0;31>h;h++)u.push(l);return u}function cl(l,u,h){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-Tn(u),l[u]=h}function zR(l,u){var h=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var g=l.eventTimes;for(l=l.expirationTimes;0<h;){var j=31-Tn(h),O=1<<j;u[j]=0,g[j]=-1,l[j]=-1,h&=~O}}function dp(l,u){var h=l.entangledLanes|=u;for(l=l.entanglements;h;){var g=31-Tn(h),j=1<<g;j&u|l[g]&u&&(l[g]|=u),h&=~j}}var ut=0;function $S(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var LS,fp,BS,FS,zS,hp=!1,Au=[],Fa=null,za=null,Ua=null,ul=new Map,dl=new Map,qa=[],UR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function US(l,u){switch(l){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":ul.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(u.pointerId)}}function fl(l,u,h,g,j,O){return l===null||l.nativeEvent!==O?(l={blockedOn:u,domEventName:h,eventSystemFlags:g,nativeEvent:O,targetContainers:[j]},u!==null&&(u=Ol(u),u!==null&&fp(u)),l):(l.eventSystemFlags|=g,u=l.targetContainers,j!==null&&u.indexOf(j)===-1&&u.push(j),l)}function qR(l,u,h,g,j){switch(u){case"focusin":return Fa=fl(Fa,l,u,h,g,j),!0;case"dragenter":return za=fl(za,l,u,h,g,j),!0;case"mouseover":return Ua=fl(Ua,l,u,h,g,j),!0;case"pointerover":var O=j.pointerId;return ul.set(O,fl(ul.get(O)||null,l,u,h,g,j)),!0;case"gotpointercapture":return O=j.pointerId,dl.set(O,fl(dl.get(O)||null,l,u,h,g,j)),!0}return!1}function qS(l){var u=Ti(l.target);if(u!==null){var h=Ci(u);if(h!==null){if(u=h.tag,u===13){if(u=TS(h),u!==null){l.blockedOn=u,zS(l.priority,function(){BS(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Ou(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var h=mp(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(h===null){h=l.nativeEvent;var g=new h.constructor(h.type,h);rp=g,h.target.dispatchEvent(g),rp=null}else return u=Ol(h),u!==null&&fp(u),l.blockedOn=h,!1;u.shift()}return!0}function VS(l,u,h){Ou(l)&&h.delete(u)}function VR(){hp=!1,Fa!==null&&Ou(Fa)&&(Fa=null),za!==null&&Ou(za)&&(za=null),Ua!==null&&Ou(Ua)&&(Ua=null),ul.forEach(VS),dl.forEach(VS)}function hl(l,u){l.blockedOn===u&&(l.blockedOn=null,hp||(hp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,VR)))}function pl(l){function u(j){return hl(j,l)}if(0<Au.length){hl(Au[0],l);for(var h=1;h<Au.length;h++){var g=Au[h];g.blockedOn===l&&(g.blockedOn=null)}}for(Fa!==null&&hl(Fa,l),za!==null&&hl(za,l),Ua!==null&&hl(Ua,l),ul.forEach(u),dl.forEach(u),h=0;h<qa.length;h++)g=qa[h],g.blockedOn===l&&(g.blockedOn=null);for(;0<qa.length&&(h=qa[0],h.blockedOn===null);)qS(h),h.blockedOn===null&&qa.shift()}var Ao=T.ReactCurrentBatchConfig,Cu=!0;function HR(l,u,h,g){var j=ut,O=Ao.transition;Ao.transition=null;try{ut=1,pp(l,u,h,g)}finally{ut=j,Ao.transition=O}}function WR(l,u,h,g){var j=ut,O=Ao.transition;Ao.transition=null;try{ut=4,pp(l,u,h,g)}finally{ut=j,Ao.transition=O}}function pp(l,u,h,g){if(Cu){var j=mp(l,u,h,g);if(j===null)Np(l,u,g,Tu,h),US(l,g);else if(qR(j,l,u,h,g))g.stopPropagation();else if(US(l,g),u&4&&-1<UR.indexOf(l)){for(;j!==null;){var O=Ol(j);if(O!==null&&LS(O),O=mp(l,u,h,g),O===null&&Np(l,u,g,Tu,h),O===j)break;j=O}j!==null&&g.stopPropagation()}else Np(l,u,g,null,h)}}var Tu=null;function mp(l,u,h,g){if(Tu=null,l=np(g),l=Ti(l),l!==null)if(u=Ci(l),u===null)l=null;else if(h=u.tag,h===13){if(l=TS(u),l!==null)return l;l=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Tu=l,null}function HS(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IR()){case lp:return 1;case MS:return 4;case xu:case MR:return 16;case RS:return 536870912;default:return 16}default:return 16}}var Va=null,vp=null,Eu=null;function WS(){if(Eu)return Eu;var l,u=vp,h=u.length,g,j="value"in Va?Va.value:Va.textContent,O=j.length;for(l=0;l<h&&u[l]===j[l];l++);var I=h-l;for(g=1;g<=I&&u[h-g]===j[O-g];g++);return Eu=j.slice(l,1<g?1-g:void 0)}function Pu(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function ku(){return!0}function GS(){return!1}function Kr(l){function u(h,g,j,O,I){this._reactName=h,this._targetInst=j,this.type=g,this.nativeEvent=O,this.target=I,this.currentTarget=null;for(var H in l)l.hasOwnProperty(H)&&(h=l[H],this[H]=h?h(O):O[H]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?ku:GS,this.isPropagationStopped=GS,this}return ue(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),u}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gp=Kr(Oo),ml=ue({},Oo,{view:0,detail:0}),GR=Kr(ml),yp,bp,vl,Nu=ue({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wp,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==vl&&(vl&&l.type==="mousemove"?(yp=l.screenX-vl.screenX,bp=l.screenY-vl.screenY):bp=yp=0,vl=l),yp)},movementY:function(l){return"movementY"in l?l.movementY:bp}}),KS=Kr(Nu),KR=ue({},Nu,{dataTransfer:0}),YR=Kr(KR),XR=ue({},ml,{relatedTarget:0}),xp=Kr(XR),JR=ue({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),QR=Kr(JR),ZR=ue({},Oo,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),eD=Kr(ZR),tD=ue({},Oo,{data:0}),YS=Kr(tD),rD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iD(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=aD[l])?!!u[l]:!1}function wp(){return iD}var oD=ue({},ml,{key:function(l){if(l.key){var u=rD[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Pu(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?nD[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wp,charCode:function(l){return l.type==="keypress"?Pu(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Pu(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),sD=Kr(oD),lD=ue({},Nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XS=Kr(lD),cD=ue({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wp}),uD=Kr(cD),dD=ue({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),fD=Kr(dD),hD=ue({},Nu,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),pD=Kr(hD),mD=[9,13,27,32],Sp=c&&"CompositionEvent"in window,gl=null;c&&"documentMode"in document&&(gl=document.documentMode);var vD=c&&"TextEvent"in window&&!gl,JS=c&&(!Sp||gl&&8<gl&&11>=gl),QS=" ",ZS=!1;function e1(l,u){switch(l){case"keyup":return mD.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t1(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Co=!1;function gD(l,u){switch(l){case"compositionend":return t1(u);case"keypress":return u.which!==32?null:(ZS=!0,QS);case"textInput":return l=u.data,l===QS&&ZS?null:l;default:return null}}function yD(l,u){if(Co)return l==="compositionend"||!Sp&&e1(l,u)?(l=WS(),Eu=vp=Va=null,Co=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return JS&&u.locale!=="ko"?null:u.data;default:return null}}var bD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r1(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!bD[l.type]:u==="textarea"}function n1(l,u,h,g){jS(g),u=$u(u,"onChange"),0<u.length&&(h=new gp("onChange","change",null,h,g),l.push({event:h,listeners:u}))}var yl=null,bl=null;function xD(l){w1(l,0)}function Iu(l){var u=No(l);if(ve(u))return l}function wD(l,u){if(l==="change")return u}var a1=!1;if(c){var jp;if(c){var _p="oninput"in document;if(!_p){var i1=document.createElement("div");i1.setAttribute("oninput","return;"),_p=typeof i1.oninput=="function"}jp=_p}else jp=!1;a1=jp&&(!document.documentMode||9<document.documentMode)}function o1(){yl&&(yl.detachEvent("onpropertychange",s1),bl=yl=null)}function s1(l){if(l.propertyName==="value"&&Iu(bl)){var u=[];n1(u,bl,l,np(l)),CS(xD,u)}}function SD(l,u,h){l==="focusin"?(o1(),yl=u,bl=h,yl.attachEvent("onpropertychange",s1)):l==="focusout"&&o1()}function jD(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Iu(bl)}function _D(l,u){if(l==="click")return Iu(u)}function AD(l,u){if(l==="input"||l==="change")return Iu(u)}function OD(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var En=typeof Object.is=="function"?Object.is:OD;function xl(l,u){if(En(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var h=Object.keys(l),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var j=h[g];if(!d.call(u,j)||!En(l[j],u[j]))return!1}return!0}function l1(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function c1(l,u){var h=l1(l);l=0;for(var g;h;){if(h.nodeType===3){if(g=l+h.textContent.length,l<=u&&g>=u)return{node:h,offset:u-l};l=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=l1(h)}}function u1(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?u1(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function d1(){for(var l=window,u=Ye();u instanceof l.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)l=u.contentWindow;else break;u=Ye(l.document)}return u}function Ap(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function CD(l){var u=d1(),h=l.focusedElem,g=l.selectionRange;if(u!==h&&h&&h.ownerDocument&&u1(h.ownerDocument.documentElement,h)){if(g!==null&&Ap(h)){if(u=g.start,l=g.end,l===void 0&&(l=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(l,h.value.length);else if(l=(u=h.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var j=h.textContent.length,O=Math.min(g.start,j);g=g.end===void 0?O:Math.min(g.end,j),!l.extend&&O>g&&(j=g,g=O,O=j),j=c1(h,O);var I=c1(h,g);j&&I&&(l.rangeCount!==1||l.anchorNode!==j.node||l.anchorOffset!==j.offset||l.focusNode!==I.node||l.focusOffset!==I.offset)&&(u=u.createRange(),u.setStart(j.node,j.offset),l.removeAllRanges(),O>g?(l.addRange(u),l.extend(I.node,I.offset)):(u.setEnd(I.node,I.offset),l.addRange(u)))}}for(u=[],l=h;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<u.length;h++)l=u[h],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var TD=c&&"documentMode"in document&&11>=document.documentMode,To=null,Op=null,wl=null,Cp=!1;function f1(l,u,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Cp||To==null||To!==Ye(g)||(g=To,"selectionStart"in g&&Ap(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),wl&&xl(wl,g)||(wl=g,g=$u(Op,"onSelect"),0<g.length&&(u=new gp("onSelect","select",null,u,h),l.push({event:u,listeners:g}),u.target=To)))}function Mu(l,u){var h={};return h[l.toLowerCase()]=u.toLowerCase(),h["Webkit"+l]="webkit"+u,h["Moz"+l]="moz"+u,h}var Eo={animationend:Mu("Animation","AnimationEnd"),animationiteration:Mu("Animation","AnimationIteration"),animationstart:Mu("Animation","AnimationStart"),transitionend:Mu("Transition","TransitionEnd")},Tp={},h1={};c&&(h1=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function Ru(l){if(Tp[l])return Tp[l];if(!Eo[l])return l;var u=Eo[l],h;for(h in u)if(u.hasOwnProperty(h)&&h in h1)return Tp[l]=u[h];return l}var p1=Ru("animationend"),m1=Ru("animationiteration"),v1=Ru("animationstart"),g1=Ru("transitionend"),y1=new Map,b1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ha(l,u){y1.set(l,u),i(u,[l])}for(var Ep=0;Ep<b1.length;Ep++){var Pp=b1[Ep],ED=Pp.toLowerCase(),PD=Pp[0].toUpperCase()+Pp.slice(1);Ha(ED,"on"+PD)}Ha(p1,"onAnimationEnd"),Ha(m1,"onAnimationIteration"),Ha(v1,"onAnimationStart"),Ha("dblclick","onDoubleClick"),Ha("focusin","onFocus"),Ha("focusout","onBlur"),Ha(g1,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function x1(l,u,h){var g=l.type||"unknown-event";l.currentTarget=h,ER(g,u,void 0,l),l.currentTarget=null}function w1(l,u){u=(u&4)!==0;for(var h=0;h<l.length;h++){var g=l[h],j=g.event;g=g.listeners;e:{var O=void 0;if(u)for(var I=g.length-1;0<=I;I--){var H=g[I],X=H.instance,se=H.currentTarget;if(H=H.listener,X!==O&&j.isPropagationStopped())break e;x1(j,H,se),O=X}else for(I=0;I<g.length;I++){if(H=g[I],X=H.instance,se=H.currentTarget,H=H.listener,X!==O&&j.isPropagationStopped())break e;x1(j,H,se),O=X}}}if(bu)throw l=sp,bu=!1,sp=null,l}function jt(l,u){var h=u[Lp];h===void 0&&(h=u[Lp]=new Set);var g=l+"__bubble";h.has(g)||(S1(u,l,2,!1),h.add(g))}function kp(l,u,h){var g=0;u&&(g|=4),S1(h,l,g,u)}var Du="_reactListening"+Math.random().toString(36).slice(2);function jl(l){if(!l[Du]){l[Du]=!0,n.forEach(function(h){h!=="selectionchange"&&(kD.has(h)||kp(h,!1,l),kp(h,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Du]||(u[Du]=!0,kp("selectionchange",!1,u))}}function S1(l,u,h,g){switch(HS(u)){case 1:var j=HR;break;case 4:j=WR;break;default:j=pp}h=j.bind(null,u,h,l),j=void 0,!op||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(j=!0),g?j!==void 0?l.addEventListener(u,h,{capture:!0,passive:j}):l.addEventListener(u,h,!0):j!==void 0?l.addEventListener(u,h,{passive:j}):l.addEventListener(u,h,!1)}function Np(l,u,h,g,j){var O=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var I=g.tag;if(I===3||I===4){var H=g.stateNode.containerInfo;if(H===j||H.nodeType===8&&H.parentNode===j)break;if(I===4)for(I=g.return;I!==null;){var X=I.tag;if((X===3||X===4)&&(X=I.stateNode.containerInfo,X===j||X.nodeType===8&&X.parentNode===j))return;I=I.return}for(;H!==null;){if(I=Ti(H),I===null)return;if(X=I.tag,X===5||X===6){g=O=I;continue e}H=H.parentNode}}g=g.return}CS(function(){var se=O,ye=np(h),xe=[];e:{var ge=y1.get(l);if(ge!==void 0){var Ae=gp,Pe=l;switch(l){case"keypress":if(Pu(h)===0)break e;case"keydown":case"keyup":Ae=sD;break;case"focusin":Pe="focus",Ae=xp;break;case"focusout":Pe="blur",Ae=xp;break;case"beforeblur":case"afterblur":Ae=xp;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=KS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=YR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=uD;break;case p1:case m1:case v1:Ae=QR;break;case g1:Ae=fD;break;case"scroll":Ae=GR;break;case"wheel":Ae=pD;break;case"copy":case"cut":case"paste":Ae=eD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=XS}var Ne=(u&4)!==0,Lt=!Ne&&l==="scroll",ae=Ne?ge!==null?ge+"Capture":null:ge;Ne=[];for(var Z=se,ie;Z!==null;){ie=Z;var Se=ie.stateNode;if(ie.tag===5&&Se!==null&&(ie=Se,ae!==null&&(Se=il(Z,ae),Se!=null&&Ne.push(_l(Z,Se,ie)))),Lt)break;Z=Z.return}0<Ne.length&&(ge=new Ae(ge,Pe,null,h,ye),xe.push({event:ge,listeners:Ne}))}}if((u&7)===0){e:{if(ge=l==="mouseover"||l==="pointerover",Ae=l==="mouseout"||l==="pointerout",ge&&h!==rp&&(Pe=h.relatedTarget||h.fromElement)&&(Ti(Pe)||Pe[ha]))break e;if((Ae||ge)&&(ge=ye.window===ye?ye:(ge=ye.ownerDocument)?ge.defaultView||ge.parentWindow:window,Ae?(Pe=h.relatedTarget||h.toElement,Ae=se,Pe=Pe?Ti(Pe):null,Pe!==null&&(Lt=Ci(Pe),Pe!==Lt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Ae=null,Pe=se),Ae!==Pe)){if(Ne=KS,Se="onMouseLeave",ae="onMouseEnter",Z="mouse",(l==="pointerout"||l==="pointerover")&&(Ne=XS,Se="onPointerLeave",ae="onPointerEnter",Z="pointer"),Lt=Ae==null?ge:No(Ae),ie=Pe==null?ge:No(Pe),ge=new Ne(Se,Z+"leave",Ae,h,ye),ge.target=Lt,ge.relatedTarget=ie,Se=null,Ti(ye)===se&&(Ne=new Ne(ae,Z+"enter",Pe,h,ye),Ne.target=ie,Ne.relatedTarget=Lt,Se=Ne),Lt=Se,Ae&&Pe)t:{for(Ne=Ae,ae=Pe,Z=0,ie=Ne;ie;ie=Po(ie))Z++;for(ie=0,Se=ae;Se;Se=Po(Se))ie++;for(;0<Z-ie;)Ne=Po(Ne),Z--;for(;0<ie-Z;)ae=Po(ae),ie--;for(;Z--;){if(Ne===ae||ae!==null&&Ne===ae.alternate)break t;Ne=Po(Ne),ae=Po(ae)}Ne=null}else Ne=null;Ae!==null&&j1(xe,ge,Ae,Ne,!1),Pe!==null&&Lt!==null&&j1(xe,Lt,Pe,Ne,!0)}}e:{if(ge=se?No(se):window,Ae=ge.nodeName&&ge.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&ge.type==="file")var De=wD;else if(r1(ge))if(a1)De=AD;else{De=jD;var ze=SD}else(Ae=ge.nodeName)&&Ae.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(De=_D);if(De&&(De=De(l,se))){n1(xe,De,h,ye);break e}ze&&ze(l,ge,se),l==="focusout"&&(ze=ge._wrapperState)&&ze.controlled&&ge.type==="number"&&dn(ge,"number",ge.value)}switch(ze=se?No(se):window,l){case"focusin":(r1(ze)||ze.contentEditable==="true")&&(To=ze,Op=se,wl=null);break;case"focusout":wl=Op=To=null;break;case"mousedown":Cp=!0;break;case"contextmenu":case"mouseup":case"dragend":Cp=!1,f1(xe,h,ye);break;case"selectionchange":if(TD)break;case"keydown":case"keyup":f1(xe,h,ye)}var Ue;if(Sp)e:{switch(l){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Co?e1(l,h)&&(Ge="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(Ge="onCompositionStart");Ge&&(JS&&h.locale!=="ko"&&(Co||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Co&&(Ue=WS()):(Va=ye,vp="value"in Va?Va.value:Va.textContent,Co=!0)),ze=$u(se,Ge),0<ze.length&&(Ge=new YS(Ge,l,null,h,ye),xe.push({event:Ge,listeners:ze}),Ue?Ge.data=Ue:(Ue=t1(h),Ue!==null&&(Ge.data=Ue)))),(Ue=vD?gD(l,h):yD(l,h))&&(se=$u(se,"onBeforeInput"),0<se.length&&(ye=new YS("onBeforeInput","beforeinput",null,h,ye),xe.push({event:ye,listeners:se}),ye.data=Ue))}w1(xe,u)})}function _l(l,u,h){return{instance:l,listener:u,currentTarget:h}}function $u(l,u){for(var h=u+"Capture",g=[];l!==null;){var j=l,O=j.stateNode;j.tag===5&&O!==null&&(j=O,O=il(l,h),O!=null&&g.unshift(_l(l,O,j)),O=il(l,u),O!=null&&g.push(_l(l,O,j))),l=l.return}return g}function Po(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function j1(l,u,h,g,j){for(var O=u._reactName,I=[];h!==null&&h!==g;){var H=h,X=H.alternate,se=H.stateNode;if(X!==null&&X===g)break;H.tag===5&&se!==null&&(H=se,j?(X=il(h,O),X!=null&&I.unshift(_l(h,X,H))):j||(X=il(h,O),X!=null&&I.push(_l(h,X,H)))),h=h.return}I.length!==0&&l.push({event:u,listeners:I})}var ND=/\r\n?/g,ID=/\u0000|\uFFFD/g;function _1(l){return(typeof l=="string"?l:""+l).replace(ND,`
`).replace(ID,"")}function Lu(l,u,h){if(u=_1(u),_1(l)!==u&&h)throw Error(r(425))}function Bu(){}var Ip=null,Mp=null;function Rp(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Dp=typeof setTimeout=="function"?setTimeout:void 0,MD=typeof clearTimeout=="function"?clearTimeout:void 0,A1=typeof Promise=="function"?Promise:void 0,RD=typeof queueMicrotask=="function"?queueMicrotask:typeof A1<"u"?function(l){return A1.resolve(null).then(l).catch(DD)}:Dp;function DD(l){setTimeout(function(){throw l})}function $p(l,u){var h=u,g=0;do{var j=h.nextSibling;if(l.removeChild(h),j&&j.nodeType===8)if(h=j.data,h==="/$"){if(g===0){l.removeChild(j),pl(u);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=j}while(h);pl(u)}function Wa(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function O1(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return l;u--}else h==="/$"&&u++}l=l.previousSibling}return null}var ko=Math.random().toString(36).slice(2),Gn="__reactFiber$"+ko,Al="__reactProps$"+ko,ha="__reactContainer$"+ko,Lp="__reactEvents$"+ko,$D="__reactListeners$"+ko,LD="__reactHandles$"+ko;function Ti(l){var u=l[Gn];if(u)return u;for(var h=l.parentNode;h;){if(u=h[ha]||h[Gn]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(l=O1(l);l!==null;){if(h=l[Gn])return h;l=O1(l)}return u}l=h,h=l.parentNode}return null}function Ol(l){return l=l[Gn]||l[ha],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function No(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Fu(l){return l[Al]||null}var Bp=[],Io=-1;function Ga(l){return{current:l}}function _t(l){0>Io||(l.current=Bp[Io],Bp[Io]=null,Io--)}function yt(l,u){Io++,Bp[Io]=l.current,l.current=u}var Ka={},gr=Ga(Ka),Rr=Ga(!1),Ei=Ka;function Mo(l,u){var h=l.type.contextTypes;if(!h)return Ka;var g=l.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var j={},O;for(O in h)j[O]=u[O];return g&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=j),j}function Dr(l){return l=l.childContextTypes,l!=null}function zu(){_t(Rr),_t(gr)}function C1(l,u,h){if(gr.current!==Ka)throw Error(r(168));yt(gr,u),yt(Rr,h)}function T1(l,u,h){var g=l.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var j in g)if(!(j in u))throw Error(r(108,Me(l)||"Unknown",j));return ue({},h,g)}function Uu(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Ka,Ei=gr.current,yt(gr,l),yt(Rr,Rr.current),!0}function E1(l,u,h){var g=l.stateNode;if(!g)throw Error(r(169));h?(l=T1(l,u,Ei),g.__reactInternalMemoizedMergedChildContext=l,_t(Rr),_t(gr),yt(gr,l)):_t(Rr),yt(Rr,h)}var pa=null,qu=!1,Fp=!1;function P1(l){pa===null?pa=[l]:pa.push(l)}function BD(l){qu=!0,P1(l)}function Ya(){if(!Fp&&pa!==null){Fp=!0;var l=0,u=ut;try{var h=pa;for(ut=1;l<h.length;l++){var g=h[l];do g=g(!0);while(g!==null)}pa=null,qu=!1}catch(j){throw pa!==null&&(pa=pa.slice(l+1)),NS(lp,Ya),j}finally{ut=u,Fp=!1}}return null}var Ro=[],Do=0,Vu=null,Hu=0,hn=[],pn=0,Pi=null,ma=1,va="";function ki(l,u){Ro[Do++]=Hu,Ro[Do++]=Vu,Vu=l,Hu=u}function k1(l,u,h){hn[pn++]=ma,hn[pn++]=va,hn[pn++]=Pi,Pi=l;var g=ma;l=va;var j=32-Tn(g)-1;g&=~(1<<j),h+=1;var O=32-Tn(u)+j;if(30<O){var I=j-j%5;O=(g&(1<<I)-1).toString(32),g>>=I,j-=I,ma=1<<32-Tn(u)+j|h<<j|g,va=O+l}else ma=1<<O|h<<j|g,va=l}function zp(l){l.return!==null&&(ki(l,1),k1(l,1,0))}function Up(l){for(;l===Vu;)Vu=Ro[--Do],Ro[Do]=null,Hu=Ro[--Do],Ro[Do]=null;for(;l===Pi;)Pi=hn[--pn],hn[pn]=null,va=hn[--pn],hn[pn]=null,ma=hn[--pn],hn[pn]=null}var Yr=null,Xr=null,Ct=!1,Pn=null;function N1(l,u){var h=yn(5,null,null,0);h.elementType="DELETED",h.stateNode=u,h.return=l,u=l.deletions,u===null?(l.deletions=[h],l.flags|=16):u.push(h)}function I1(l,u){switch(l.tag){case 5:var h=l.type;return u=u.nodeType!==1||h.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,Yr=l,Xr=Wa(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,Yr=l,Xr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(h=Pi!==null?{id:ma,overflow:va}:null,l.memoizedState={dehydrated:u,treeContext:h,retryLane:1073741824},h=yn(18,null,null,0),h.stateNode=u,h.return=l,l.child=h,Yr=l,Xr=null,!0):!1;default:return!1}}function qp(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Vp(l){if(Ct){var u=Xr;if(u){var h=u;if(!I1(l,u)){if(qp(l))throw Error(r(418));u=Wa(h.nextSibling);var g=Yr;u&&I1(l,u)?N1(g,h):(l.flags=l.flags&-4097|2,Ct=!1,Yr=l)}}else{if(qp(l))throw Error(r(418));l.flags=l.flags&-4097|2,Ct=!1,Yr=l}}}function M1(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Yr=l}function Wu(l){if(l!==Yr)return!1;if(!Ct)return M1(l),Ct=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!Rp(l.type,l.memoizedProps)),u&&(u=Xr)){if(qp(l))throw R1(),Error(r(418));for(;u;)N1(l,u),u=Wa(u.nextSibling)}if(M1(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"){if(u===0){Xr=Wa(l.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++}l=l.nextSibling}Xr=null}}else Xr=Yr?Wa(l.stateNode.nextSibling):null;return!0}function R1(){for(var l=Xr;l;)l=Wa(l.nextSibling)}function $o(){Xr=Yr=null,Ct=!1}function Hp(l){Pn===null?Pn=[l]:Pn.push(l)}var FD=T.ReactCurrentBatchConfig;function Cl(l,u,h){if(l=h.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var g=h.stateNode}if(!g)throw Error(r(147,l));var j=g,O=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===O?u.ref:(u=function(I){var H=j.refs;I===null?delete H[O]:H[O]=I},u._stringRef=O,u)}if(typeof l!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,l))}return l}function Gu(l,u){throw l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function D1(l){var u=l._init;return u(l._payload)}function $1(l){function u(ae,Z){if(l){var ie=ae.deletions;ie===null?(ae.deletions=[Z],ae.flags|=16):ie.push(Z)}}function h(ae,Z){if(!l)return null;for(;Z!==null;)u(ae,Z),Z=Z.sibling;return null}function g(ae,Z){for(ae=new Map;Z!==null;)Z.key!==null?ae.set(Z.key,Z):ae.set(Z.index,Z),Z=Z.sibling;return ae}function j(ae,Z){return ae=ni(ae,Z),ae.index=0,ae.sibling=null,ae}function O(ae,Z,ie){return ae.index=ie,l?(ie=ae.alternate,ie!==null?(ie=ie.index,ie<Z?(ae.flags|=2,Z):ie):(ae.flags|=2,Z)):(ae.flags|=1048576,Z)}function I(ae){return l&&ae.alternate===null&&(ae.flags|=2),ae}function H(ae,Z,ie,Se){return Z===null||Z.tag!==6?(Z=Dm(ie,ae.mode,Se),Z.return=ae,Z):(Z=j(Z,ie),Z.return=ae,Z)}function X(ae,Z,ie,Se){var De=ie.type;return De===P?ye(ae,Z,ie.props.children,Se,ie.key):Z!==null&&(Z.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===Y&&D1(De)===Z.type)?(Se=j(Z,ie.props),Se.ref=Cl(ae,Z,ie),Se.return=ae,Se):(Se=gd(ie.type,ie.key,ie.props,null,ae.mode,Se),Se.ref=Cl(ae,Z,ie),Se.return=ae,Se)}function se(ae,Z,ie,Se){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ie.containerInfo||Z.stateNode.implementation!==ie.implementation?(Z=$m(ie,ae.mode,Se),Z.return=ae,Z):(Z=j(Z,ie.children||[]),Z.return=ae,Z)}function ye(ae,Z,ie,Se,De){return Z===null||Z.tag!==7?(Z=Bi(ie,ae.mode,Se,De),Z.return=ae,Z):(Z=j(Z,ie),Z.return=ae,Z)}function xe(ae,Z,ie){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=Dm(""+Z,ae.mode,ie),Z.return=ae,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return ie=gd(Z.type,Z.key,Z.props,null,ae.mode,ie),ie.ref=Cl(ae,null,Z),ie.return=ae,ie;case E:return Z=$m(Z,ae.mode,ie),Z.return=ae,Z;case Y:var Se=Z._init;return xe(ae,Se(Z._payload),ie)}if(fn(Z)||oe(Z))return Z=Bi(Z,ae.mode,ie,null),Z.return=ae,Z;Gu(ae,Z)}return null}function ge(ae,Z,ie,Se){var De=Z!==null?Z.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return De!==null?null:H(ae,Z,""+ie,Se);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case C:return ie.key===De?X(ae,Z,ie,Se):null;case E:return ie.key===De?se(ae,Z,ie,Se):null;case Y:return De=ie._init,ge(ae,Z,De(ie._payload),Se)}if(fn(ie)||oe(ie))return De!==null?null:ye(ae,Z,ie,Se,null);Gu(ae,ie)}return null}function Ae(ae,Z,ie,Se,De){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return ae=ae.get(ie)||null,H(Z,ae,""+Se,De);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case C:return ae=ae.get(Se.key===null?ie:Se.key)||null,X(Z,ae,Se,De);case E:return ae=ae.get(Se.key===null?ie:Se.key)||null,se(Z,ae,Se,De);case Y:var ze=Se._init;return Ae(ae,Z,ie,ze(Se._payload),De)}if(fn(Se)||oe(Se))return ae=ae.get(ie)||null,ye(Z,ae,Se,De,null);Gu(Z,Se)}return null}function Pe(ae,Z,ie,Se){for(var De=null,ze=null,Ue=Z,Ge=Z=0,or=null;Ue!==null&&Ge<ie.length;Ge++){Ue.index>Ge?(or=Ue,Ue=null):or=Ue.sibling;var rt=ge(ae,Ue,ie[Ge],Se);if(rt===null){Ue===null&&(Ue=or);break}l&&Ue&&rt.alternate===null&&u(ae,Ue),Z=O(rt,Z,Ge),ze===null?De=rt:ze.sibling=rt,ze=rt,Ue=or}if(Ge===ie.length)return h(ae,Ue),Ct&&ki(ae,Ge),De;if(Ue===null){for(;Ge<ie.length;Ge++)Ue=xe(ae,ie[Ge],Se),Ue!==null&&(Z=O(Ue,Z,Ge),ze===null?De=Ue:ze.sibling=Ue,ze=Ue);return Ct&&ki(ae,Ge),De}for(Ue=g(ae,Ue);Ge<ie.length;Ge++)or=Ae(Ue,ae,Ge,ie[Ge],Se),or!==null&&(l&&or.alternate!==null&&Ue.delete(or.key===null?Ge:or.key),Z=O(or,Z,Ge),ze===null?De=or:ze.sibling=or,ze=or);return l&&Ue.forEach(function(ai){return u(ae,ai)}),Ct&&ki(ae,Ge),De}function Ne(ae,Z,ie,Se){var De=oe(ie);if(typeof De!="function")throw Error(r(150));if(ie=De.call(ie),ie==null)throw Error(r(151));for(var ze=De=null,Ue=Z,Ge=Z=0,or=null,rt=ie.next();Ue!==null&&!rt.done;Ge++,rt=ie.next()){Ue.index>Ge?(or=Ue,Ue=null):or=Ue.sibling;var ai=ge(ae,Ue,rt.value,Se);if(ai===null){Ue===null&&(Ue=or);break}l&&Ue&&ai.alternate===null&&u(ae,Ue),Z=O(ai,Z,Ge),ze===null?De=ai:ze.sibling=ai,ze=ai,Ue=or}if(rt.done)return h(ae,Ue),Ct&&ki(ae,Ge),De;if(Ue===null){for(;!rt.done;Ge++,rt=ie.next())rt=xe(ae,rt.value,Se),rt!==null&&(Z=O(rt,Z,Ge),ze===null?De=rt:ze.sibling=rt,ze=rt);return Ct&&ki(ae,Ge),De}for(Ue=g(ae,Ue);!rt.done;Ge++,rt=ie.next())rt=Ae(Ue,ae,Ge,rt.value,Se),rt!==null&&(l&&rt.alternate!==null&&Ue.delete(rt.key===null?Ge:rt.key),Z=O(rt,Z,Ge),ze===null?De=rt:ze.sibling=rt,ze=rt);return l&&Ue.forEach(function(b$){return u(ae,b$)}),Ct&&ki(ae,Ge),De}function Lt(ae,Z,ie,Se){if(typeof ie=="object"&&ie!==null&&ie.type===P&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case C:e:{for(var De=ie.key,ze=Z;ze!==null;){if(ze.key===De){if(De=ie.type,De===P){if(ze.tag===7){h(ae,ze.sibling),Z=j(ze,ie.props.children),Z.return=ae,ae=Z;break e}}else if(ze.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===Y&&D1(De)===ze.type){h(ae,ze.sibling),Z=j(ze,ie.props),Z.ref=Cl(ae,ze,ie),Z.return=ae,ae=Z;break e}h(ae,ze);break}else u(ae,ze);ze=ze.sibling}ie.type===P?(Z=Bi(ie.props.children,ae.mode,Se,ie.key),Z.return=ae,ae=Z):(Se=gd(ie.type,ie.key,ie.props,null,ae.mode,Se),Se.ref=Cl(ae,Z,ie),Se.return=ae,ae=Se)}return I(ae);case E:e:{for(ze=ie.key;Z!==null;){if(Z.key===ze)if(Z.tag===4&&Z.stateNode.containerInfo===ie.containerInfo&&Z.stateNode.implementation===ie.implementation){h(ae,Z.sibling),Z=j(Z,ie.children||[]),Z.return=ae,ae=Z;break e}else{h(ae,Z);break}else u(ae,Z);Z=Z.sibling}Z=$m(ie,ae.mode,Se),Z.return=ae,ae=Z}return I(ae);case Y:return ze=ie._init,Lt(ae,Z,ze(ie._payload),Se)}if(fn(ie))return Pe(ae,Z,ie,Se);if(oe(ie))return Ne(ae,Z,ie,Se);Gu(ae,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,Z!==null&&Z.tag===6?(h(ae,Z.sibling),Z=j(Z,ie),Z.return=ae,ae=Z):(h(ae,Z),Z=Dm(ie,ae.mode,Se),Z.return=ae,ae=Z),I(ae)):h(ae,Z)}return Lt}var Lo=$1(!0),L1=$1(!1),Ku=Ga(null),Yu=null,Bo=null,Wp=null;function Gp(){Wp=Bo=Yu=null}function Kp(l){var u=Ku.current;_t(Ku),l._currentValue=u}function Yp(l,u,h){for(;l!==null;){var g=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),l===h)break;l=l.return}}function Fo(l,u){Yu=l,Wp=Bo=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&($r=!0),l.firstContext=null)}function mn(l){var u=l._currentValue;if(Wp!==l)if(l={context:l,memoizedValue:u,next:null},Bo===null){if(Yu===null)throw Error(r(308));Bo=l,Yu.dependencies={lanes:0,firstContext:l}}else Bo=Bo.next=l;return u}var Ni=null;function Xp(l){Ni===null?Ni=[l]:Ni.push(l)}function B1(l,u,h,g){var j=u.interleaved;return j===null?(h.next=h,Xp(u)):(h.next=j.next,j.next=h),u.interleaved=h,ga(l,g)}function ga(l,u){l.lanes|=u;var h=l.alternate;for(h!==null&&(h.lanes|=u),h=l,l=l.return;l!==null;)l.childLanes|=u,h=l.alternate,h!==null&&(h.childLanes|=u),h=l,l=l.return;return h.tag===3?h.stateNode:null}var Xa=!1;function Jp(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F1(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function ya(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Ja(l,u,h){var g=l.updateQueue;if(g===null)return null;if(g=g.shared,(tt&2)!==0){var j=g.pending;return j===null?u.next=u:(u.next=j.next,j.next=u),g.pending=u,ga(l,h)}return j=g.interleaved,j===null?(u.next=u,Xp(g)):(u.next=j.next,j.next=u),g.interleaved=u,ga(l,h)}function Xu(l,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194240)!==0)){var g=u.lanes;g&=l.pendingLanes,h|=g,u.lanes=h,dp(l,h)}}function z1(l,u){var h=l.updateQueue,g=l.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var j=null,O=null;if(h=h.firstBaseUpdate,h!==null){do{var I={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};O===null?j=O=I:O=O.next=I,h=h.next}while(h!==null);O===null?j=O=u:O=O.next=u}else j=O=u;h={baseState:g.baseState,firstBaseUpdate:j,lastBaseUpdate:O,shared:g.shared,effects:g.effects},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=u}function Ju(l,u,h,g){var j=l.updateQueue;Xa=!1;var O=j.firstBaseUpdate,I=j.lastBaseUpdate,H=j.shared.pending;if(H!==null){j.shared.pending=null;var X=H,se=X.next;X.next=null,I===null?O=se:I.next=se,I=X;var ye=l.alternate;ye!==null&&(ye=ye.updateQueue,H=ye.lastBaseUpdate,H!==I&&(H===null?ye.firstBaseUpdate=se:H.next=se,ye.lastBaseUpdate=X))}if(O!==null){var xe=j.baseState;I=0,ye=se=X=null,H=O;do{var ge=H.lane,Ae=H.eventTime;if((g&ge)===ge){ye!==null&&(ye=ye.next={eventTime:Ae,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Pe=l,Ne=H;switch(ge=u,Ae=h,Ne.tag){case 1:if(Pe=Ne.payload,typeof Pe=="function"){xe=Pe.call(Ae,xe,ge);break e}xe=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ne.payload,ge=typeof Pe=="function"?Pe.call(Ae,xe,ge):Pe,ge==null)break e;xe=ue({},xe,ge);break e;case 2:Xa=!0}}H.callback!==null&&H.lane!==0&&(l.flags|=64,ge=j.effects,ge===null?j.effects=[H]:ge.push(H))}else Ae={eventTime:Ae,lane:ge,tag:H.tag,payload:H.payload,callback:H.callback,next:null},ye===null?(se=ye=Ae,X=xe):ye=ye.next=Ae,I|=ge;if(H=H.next,H===null){if(H=j.shared.pending,H===null)break;ge=H,H=ge.next,ge.next=null,j.lastBaseUpdate=ge,j.shared.pending=null}}while(!0);if(ye===null&&(X=xe),j.baseState=X,j.firstBaseUpdate=se,j.lastBaseUpdate=ye,u=j.shared.interleaved,u!==null){j=u;do I|=j.lane,j=j.next;while(j!==u)}else O===null&&(j.shared.lanes=0);Ri|=I,l.lanes=I,l.memoizedState=xe}}function U1(l,u,h){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var g=l[u],j=g.callback;if(j!==null){if(g.callback=null,g=h,typeof j!="function")throw Error(r(191,j));j.call(g)}}}var Tl={},Kn=Ga(Tl),El=Ga(Tl),Pl=Ga(Tl);function Ii(l){if(l===Tl)throw Error(r(174));return l}function Qp(l,u){switch(yt(Pl,u),yt(El,l),yt(Kn,Tl),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:we(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=we(u,l)}_t(Kn),yt(Kn,u)}function zo(){_t(Kn),_t(El),_t(Pl)}function q1(l){Ii(Pl.current);var u=Ii(Kn.current),h=we(u,l.type);u!==h&&(yt(El,l),yt(Kn,h))}function Zp(l){El.current===l&&(_t(Kn),_t(El))}var Pt=Ga(0);function Qu(l){for(var u=l;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var em=[];function tm(){for(var l=0;l<em.length;l++)em[l]._workInProgressVersionPrimary=null;em.length=0}var Zu=T.ReactCurrentDispatcher,rm=T.ReactCurrentBatchConfig,Mi=0,kt=null,Wt=null,ar=null,ed=!1,kl=!1,Nl=0,zD=0;function yr(){throw Error(r(321))}function nm(l,u){if(u===null)return!1;for(var h=0;h<u.length&&h<l.length;h++)if(!En(l[h],u[h]))return!1;return!0}function am(l,u,h,g,j,O){if(Mi=O,kt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Zu.current=l===null||l.memoizedState===null?HD:WD,l=h(g,j),kl){O=0;do{if(kl=!1,Nl=0,25<=O)throw Error(r(301));O+=1,ar=Wt=null,u.updateQueue=null,Zu.current=GD,l=h(g,j)}while(kl)}if(Zu.current=nd,u=Wt!==null&&Wt.next!==null,Mi=0,ar=Wt=kt=null,ed=!1,u)throw Error(r(300));return l}function im(){var l=Nl!==0;return Nl=0,l}function Yn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?kt.memoizedState=ar=l:ar=ar.next=l,ar}function vn(){if(Wt===null){var l=kt.alternate;l=l!==null?l.memoizedState:null}else l=Wt.next;var u=ar===null?kt.memoizedState:ar.next;if(u!==null)ar=u,Wt=l;else{if(l===null)throw Error(r(310));Wt=l,l={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},ar===null?kt.memoizedState=ar=l:ar=ar.next=l}return ar}function Il(l,u){return typeof u=="function"?u(l):u}function om(l){var u=vn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=Wt,j=g.baseQueue,O=h.pending;if(O!==null){if(j!==null){var I=j.next;j.next=O.next,O.next=I}g.baseQueue=j=O,h.pending=null}if(j!==null){O=j.next,g=g.baseState;var H=I=null,X=null,se=O;do{var ye=se.lane;if((Mi&ye)===ye)X!==null&&(X=X.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),g=se.hasEagerState?se.eagerState:l(g,se.action);else{var xe={lane:ye,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};X===null?(H=X=xe,I=g):X=X.next=xe,kt.lanes|=ye,Ri|=ye}se=se.next}while(se!==null&&se!==O);X===null?I=g:X.next=H,En(g,u.memoizedState)||($r=!0),u.memoizedState=g,u.baseState=I,u.baseQueue=X,h.lastRenderedState=g}if(l=h.interleaved,l!==null){j=l;do O=j.lane,kt.lanes|=O,Ri|=O,j=j.next;while(j!==l)}else j===null&&(h.lanes=0);return[u.memoizedState,h.dispatch]}function sm(l){var u=vn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=h.dispatch,j=h.pending,O=u.memoizedState;if(j!==null){h.pending=null;var I=j=j.next;do O=l(O,I.action),I=I.next;while(I!==j);En(O,u.memoizedState)||($r=!0),u.memoizedState=O,u.baseQueue===null&&(u.baseState=O),h.lastRenderedState=O}return[O,g]}function V1(){}function H1(l,u){var h=kt,g=vn(),j=u(),O=!En(g.memoizedState,j);if(O&&(g.memoizedState=j,$r=!0),g=g.queue,lm(K1.bind(null,h,g,l),[l]),g.getSnapshot!==u||O||ar!==null&&ar.memoizedState.tag&1){if(h.flags|=2048,Ml(9,G1.bind(null,h,g,j,u),void 0,null),ir===null)throw Error(r(349));(Mi&30)!==0||W1(h,u,j)}return j}function W1(l,u,h){l.flags|=16384,l={getSnapshot:u,value:h},u=kt.updateQueue,u===null?(u={lastEffect:null,stores:null},kt.updateQueue=u,u.stores=[l]):(h=u.stores,h===null?u.stores=[l]:h.push(l))}function G1(l,u,h,g){u.value=h,u.getSnapshot=g,Y1(u)&&X1(l)}function K1(l,u,h){return h(function(){Y1(u)&&X1(l)})}function Y1(l){var u=l.getSnapshot;l=l.value;try{var h=u();return!En(l,h)}catch{return!0}}function X1(l){var u=ga(l,1);u!==null&&Mn(u,l,1,-1)}function J1(l){var u=Yn();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:l},u.queue=l,l=l.dispatch=VD.bind(null,kt,l),[u.memoizedState,l]}function Ml(l,u,h,g){return l={tag:l,create:u,destroy:h,deps:g,next:null},u=kt.updateQueue,u===null?(u={lastEffect:null,stores:null},kt.updateQueue=u,u.lastEffect=l.next=l):(h=u.lastEffect,h===null?u.lastEffect=l.next=l:(g=h.next,h.next=l,l.next=g,u.lastEffect=l)),l}function Q1(){return vn().memoizedState}function td(l,u,h,g){var j=Yn();kt.flags|=l,j.memoizedState=Ml(1|u,h,void 0,g===void 0?null:g)}function rd(l,u,h,g){var j=vn();g=g===void 0?null:g;var O=void 0;if(Wt!==null){var I=Wt.memoizedState;if(O=I.destroy,g!==null&&nm(g,I.deps)){j.memoizedState=Ml(u,h,O,g);return}}kt.flags|=l,j.memoizedState=Ml(1|u,h,O,g)}function Z1(l,u){return td(8390656,8,l,u)}function lm(l,u){return rd(2048,8,l,u)}function ej(l,u){return rd(4,2,l,u)}function tj(l,u){return rd(4,4,l,u)}function rj(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function nj(l,u,h){return h=h!=null?h.concat([l]):null,rd(4,4,rj.bind(null,u,l),h)}function cm(){}function aj(l,u){var h=vn();u=u===void 0?null:u;var g=h.memoizedState;return g!==null&&u!==null&&nm(u,g[1])?g[0]:(h.memoizedState=[l,u],l)}function ij(l,u){var h=vn();u=u===void 0?null:u;var g=h.memoizedState;return g!==null&&u!==null&&nm(u,g[1])?g[0]:(l=l(),h.memoizedState=[l,u],l)}function oj(l,u,h){return(Mi&21)===0?(l.baseState&&(l.baseState=!1,$r=!0),l.memoizedState=h):(En(h,u)||(h=DS(),kt.lanes|=h,Ri|=h,l.baseState=!0),u)}function UD(l,u){var h=ut;ut=h!==0&&4>h?h:4,l(!0);var g=rm.transition;rm.transition={};try{l(!1),u()}finally{ut=h,rm.transition=g}}function sj(){return vn().memoizedState}function qD(l,u,h){var g=ti(l);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},lj(l))cj(u,h);else if(h=B1(l,u,h,g),h!==null){var j=Or();Mn(h,l,g,j),uj(h,u,g)}}function VD(l,u,h){var g=ti(l),j={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(lj(l))cj(u,j);else{var O=l.alternate;if(l.lanes===0&&(O===null||O.lanes===0)&&(O=u.lastRenderedReducer,O!==null))try{var I=u.lastRenderedState,H=O(I,h);if(j.hasEagerState=!0,j.eagerState=H,En(H,I)){var X=u.interleaved;X===null?(j.next=j,Xp(u)):(j.next=X.next,X.next=j),u.interleaved=j;return}}catch{}h=B1(l,u,j,g),h!==null&&(j=Or(),Mn(h,l,g,j),uj(h,u,g))}}function lj(l){var u=l.alternate;return l===kt||u!==null&&u===kt}function cj(l,u){kl=ed=!0;var h=l.pending;h===null?u.next=u:(u.next=h.next,h.next=u),l.pending=u}function uj(l,u,h){if((h&4194240)!==0){var g=u.lanes;g&=l.pendingLanes,h|=g,u.lanes=h,dp(l,h)}}var nd={readContext:mn,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},HD={readContext:mn,useCallback:function(l,u){return Yn().memoizedState=[l,u===void 0?null:u],l},useContext:mn,useEffect:Z1,useImperativeHandle:function(l,u,h){return h=h!=null?h.concat([l]):null,td(4194308,4,rj.bind(null,u,l),h)},useLayoutEffect:function(l,u){return td(4194308,4,l,u)},useInsertionEffect:function(l,u){return td(4,2,l,u)},useMemo:function(l,u){var h=Yn();return u=u===void 0?null:u,l=l(),h.memoizedState=[l,u],l},useReducer:function(l,u,h){var g=Yn();return u=h!==void 0?h(u):u,g.memoizedState=g.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},g.queue=l,l=l.dispatch=qD.bind(null,kt,l),[g.memoizedState,l]},useRef:function(l){var u=Yn();return l={current:l},u.memoizedState=l},useState:J1,useDebugValue:cm,useDeferredValue:function(l){return Yn().memoizedState=l},useTransition:function(){var l=J1(!1),u=l[0];return l=UD.bind(null,l[1]),Yn().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,h){var g=kt,j=Yn();if(Ct){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),ir===null)throw Error(r(349));(Mi&30)!==0||W1(g,u,h)}j.memoizedState=h;var O={value:h,getSnapshot:u};return j.queue=O,Z1(K1.bind(null,g,O,l),[l]),g.flags|=2048,Ml(9,G1.bind(null,g,O,h,u),void 0,null),h},useId:function(){var l=Yn(),u=ir.identifierPrefix;if(Ct){var h=va,g=ma;h=(g&~(1<<32-Tn(g)-1)).toString(32)+h,u=":"+u+"R"+h,h=Nl++,0<h&&(u+="H"+h.toString(32)),u+=":"}else h=zD++,u=":"+u+"r"+h.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},WD={readContext:mn,useCallback:aj,useContext:mn,useEffect:lm,useImperativeHandle:nj,useInsertionEffect:ej,useLayoutEffect:tj,useMemo:ij,useReducer:om,useRef:Q1,useState:function(){return om(Il)},useDebugValue:cm,useDeferredValue:function(l){var u=vn();return oj(u,Wt.memoizedState,l)},useTransition:function(){var l=om(Il)[0],u=vn().memoizedState;return[l,u]},useMutableSource:V1,useSyncExternalStore:H1,useId:sj,unstable_isNewReconciler:!1},GD={readContext:mn,useCallback:aj,useContext:mn,useEffect:lm,useImperativeHandle:nj,useInsertionEffect:ej,useLayoutEffect:tj,useMemo:ij,useReducer:sm,useRef:Q1,useState:function(){return sm(Il)},useDebugValue:cm,useDeferredValue:function(l){var u=vn();return Wt===null?u.memoizedState=l:oj(u,Wt.memoizedState,l)},useTransition:function(){var l=sm(Il)[0],u=vn().memoizedState;return[l,u]},useMutableSource:V1,useSyncExternalStore:H1,useId:sj,unstable_isNewReconciler:!1};function kn(l,u){if(l&&l.defaultProps){u=ue({},u),l=l.defaultProps;for(var h in l)u[h]===void 0&&(u[h]=l[h]);return u}return u}function um(l,u,h,g){u=l.memoizedState,h=h(g,u),h=h==null?u:ue({},u,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var ad={isMounted:function(l){return(l=l._reactInternals)?Ci(l)===l:!1},enqueueSetState:function(l,u,h){l=l._reactInternals;var g=Or(),j=ti(l),O=ya(g,j);O.payload=u,h!=null&&(O.callback=h),u=Ja(l,O,j),u!==null&&(Mn(u,l,j,g),Xu(u,l,j))},enqueueReplaceState:function(l,u,h){l=l._reactInternals;var g=Or(),j=ti(l),O=ya(g,j);O.tag=1,O.payload=u,h!=null&&(O.callback=h),u=Ja(l,O,j),u!==null&&(Mn(u,l,j,g),Xu(u,l,j))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var h=Or(),g=ti(l),j=ya(h,g);j.tag=2,u!=null&&(j.callback=u),u=Ja(l,j,g),u!==null&&(Mn(u,l,g,h),Xu(u,l,g))}};function dj(l,u,h,g,j,O,I){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(g,O,I):u.prototype&&u.prototype.isPureReactComponent?!xl(h,g)||!xl(j,O):!0}function fj(l,u,h){var g=!1,j=Ka,O=u.contextType;return typeof O=="object"&&O!==null?O=mn(O):(j=Dr(u)?Ei:gr.current,g=u.contextTypes,O=(g=g!=null)?Mo(l,j):Ka),u=new u(h,O),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ad,l.stateNode=u,u._reactInternals=l,g&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=j,l.__reactInternalMemoizedMaskedChildContext=O),u}function hj(l,u,h,g){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==l&&ad.enqueueReplaceState(u,u.state,null)}function dm(l,u,h,g){var j=l.stateNode;j.props=h,j.state=l.memoizedState,j.refs={},Jp(l);var O=u.contextType;typeof O=="object"&&O!==null?j.context=mn(O):(O=Dr(u)?Ei:gr.current,j.context=Mo(l,O)),j.state=l.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(um(l,u,O,h),j.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(u=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),u!==j.state&&ad.enqueueReplaceState(j,j.state,null),Ju(l,h,j,g),j.state=l.memoizedState),typeof j.componentDidMount=="function"&&(l.flags|=4194308)}function Uo(l,u){try{var h="",g=u;do h+=K(g),g=g.return;while(g);var j=h}catch(O){j=`
Error generating stack: `+O.message+`
`+O.stack}return{value:l,source:u,stack:j,digest:null}}function fm(l,u,h){return{value:l,source:null,stack:h??null,digest:u??null}}function hm(l,u){try{console.error(u.value)}catch(h){setTimeout(function(){throw h})}}var KD=typeof WeakMap=="function"?WeakMap:Map;function pj(l,u,h){h=ya(-1,h),h.tag=3,h.payload={element:null};var g=u.value;return h.callback=function(){dd||(dd=!0,Tm=g),hm(l,u)},h}function mj(l,u,h){h=ya(-1,h),h.tag=3;var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var j=u.value;h.payload=function(){return g(j)},h.callback=function(){hm(l,u)}}var O=l.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(h.callback=function(){hm(l,u),typeof g!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})}),h}function vj(l,u,h){var g=l.pingCache;if(g===null){g=l.pingCache=new KD;var j=new Set;g.set(u,j)}else j=g.get(u),j===void 0&&(j=new Set,g.set(u,j));j.has(h)||(j.add(h),l=l$.bind(null,l,u,h),u.then(l,l))}function gj(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function yj(l,u,h,g,j){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(u=ya(-1,1),u.tag=2,Ja(h,u,1))),h.lanes|=1),l):(l.flags|=65536,l.lanes=j,l)}var YD=T.ReactCurrentOwner,$r=!1;function Ar(l,u,h,g){u.child=l===null?L1(u,null,h,g):Lo(u,l.child,h,g)}function bj(l,u,h,g,j){h=h.render;var O=u.ref;return Fo(u,j),g=am(l,u,h,g,O,j),h=im(),l!==null&&!$r?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~j,ba(l,u,j)):(Ct&&h&&zp(u),u.flags|=1,Ar(l,u,g,j),u.child)}function xj(l,u,h,g,j){if(l===null){var O=h.type;return typeof O=="function"&&!Rm(O)&&O.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(u.tag=15,u.type=O,wj(l,u,O,g,j)):(l=gd(h.type,null,g,u,u.mode,j),l.ref=u.ref,l.return=u,u.child=l)}if(O=l.child,(l.lanes&j)===0){var I=O.memoizedProps;if(h=h.compare,h=h!==null?h:xl,h(I,g)&&l.ref===u.ref)return ba(l,u,j)}return u.flags|=1,l=ni(O,g),l.ref=u.ref,l.return=u,u.child=l}function wj(l,u,h,g,j){if(l!==null){var O=l.memoizedProps;if(xl(O,g)&&l.ref===u.ref)if($r=!1,u.pendingProps=g=O,(l.lanes&j)!==0)(l.flags&131072)!==0&&($r=!0);else return u.lanes=l.lanes,ba(l,u,j)}return pm(l,u,h,g,j)}function Sj(l,u,h){var g=u.pendingProps,j=g.children,O=l!==null?l.memoizedState:null;if(g.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Vo,Jr),Jr|=h;else{if((h&1073741824)===0)return l=O!==null?O.baseLanes|h:h,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,yt(Vo,Jr),Jr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=O!==null?O.baseLanes:h,yt(Vo,Jr),Jr|=g}else O!==null?(g=O.baseLanes|h,u.memoizedState=null):g=h,yt(Vo,Jr),Jr|=g;return Ar(l,u,j,h),u.child}function jj(l,u){var h=u.ref;(l===null&&h!==null||l!==null&&l.ref!==h)&&(u.flags|=512,u.flags|=2097152)}function pm(l,u,h,g,j){var O=Dr(h)?Ei:gr.current;return O=Mo(u,O),Fo(u,j),h=am(l,u,h,g,O,j),g=im(),l!==null&&!$r?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~j,ba(l,u,j)):(Ct&&g&&zp(u),u.flags|=1,Ar(l,u,h,j),u.child)}function _j(l,u,h,g,j){if(Dr(h)){var O=!0;Uu(u)}else O=!1;if(Fo(u,j),u.stateNode===null)od(l,u),fj(u,h,g),dm(u,h,g,j),g=!0;else if(l===null){var I=u.stateNode,H=u.memoizedProps;I.props=H;var X=I.context,se=h.contextType;typeof se=="object"&&se!==null?se=mn(se):(se=Dr(h)?Ei:gr.current,se=Mo(u,se));var ye=h.getDerivedStateFromProps,xe=typeof ye=="function"||typeof I.getSnapshotBeforeUpdate=="function";xe||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(H!==g||X!==se)&&hj(u,I,g,se),Xa=!1;var ge=u.memoizedState;I.state=ge,Ju(u,g,I,j),X=u.memoizedState,H!==g||ge!==X||Rr.current||Xa?(typeof ye=="function"&&(um(u,h,ye,g),X=u.memoizedState),(H=Xa||dj(u,h,H,g,ge,X,se))?(xe||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(u.flags|=4194308)):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=X),I.props=g,I.state=X,I.context=se,g=H):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{I=u.stateNode,F1(l,u),H=u.memoizedProps,se=u.type===u.elementType?H:kn(u.type,H),I.props=se,xe=u.pendingProps,ge=I.context,X=h.contextType,typeof X=="object"&&X!==null?X=mn(X):(X=Dr(h)?Ei:gr.current,X=Mo(u,X));var Ae=h.getDerivedStateFromProps;(ye=typeof Ae=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(H!==xe||ge!==X)&&hj(u,I,g,X),Xa=!1,ge=u.memoizedState,I.state=ge,Ju(u,g,I,j);var Pe=u.memoizedState;H!==xe||ge!==Pe||Rr.current||Xa?(typeof Ae=="function"&&(um(u,h,Ae,g),Pe=u.memoizedState),(se=Xa||dj(u,h,se,g,ge,Pe,X)||!1)?(ye||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(g,Pe,X),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(g,Pe,X)),typeof I.componentDidUpdate=="function"&&(u.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof I.componentDidUpdate!="function"||H===l.memoizedProps&&ge===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||H===l.memoizedProps&&ge===l.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Pe),I.props=g,I.state=Pe,I.context=X,g=se):(typeof I.componentDidUpdate!="function"||H===l.memoizedProps&&ge===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||H===l.memoizedProps&&ge===l.memoizedState||(u.flags|=1024),g=!1)}return mm(l,u,h,g,O,j)}function mm(l,u,h,g,j,O){jj(l,u);var I=(u.flags&128)!==0;if(!g&&!I)return j&&E1(u,h,!1),ba(l,u,O);g=u.stateNode,YD.current=u;var H=I&&typeof h.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,l!==null&&I?(u.child=Lo(u,l.child,null,O),u.child=Lo(u,null,H,O)):Ar(l,u,H,O),u.memoizedState=g.state,j&&E1(u,h,!0),u.child}function Aj(l){var u=l.stateNode;u.pendingContext?C1(l,u.pendingContext,u.pendingContext!==u.context):u.context&&C1(l,u.context,!1),Qp(l,u.containerInfo)}function Oj(l,u,h,g,j){return $o(),Hp(j),u.flags|=256,Ar(l,u,h,g),u.child}var vm={dehydrated:null,treeContext:null,retryLane:0};function gm(l){return{baseLanes:l,cachePool:null,transitions:null}}function Cj(l,u,h){var g=u.pendingProps,j=Pt.current,O=!1,I=(u.flags&128)!==0,H;if((H=I)||(H=l!==null&&l.memoizedState===null?!1:(j&2)!==0),H?(O=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(j|=1),yt(Pt,j&1),l===null)return Vp(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(I=g.children,l=g.fallback,O?(g=u.mode,O=u.child,I={mode:"hidden",children:I},(g&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=I):O=yd(I,g,0,null),l=Bi(l,g,h,null),O.return=u,l.return=u,O.sibling=l,u.child=O,u.child.memoizedState=gm(h),u.memoizedState=vm,l):ym(u,I));if(j=l.memoizedState,j!==null&&(H=j.dehydrated,H!==null))return XD(l,u,I,g,H,j,h);if(O){O=g.fallback,I=u.mode,j=l.child,H=j.sibling;var X={mode:"hidden",children:g.children};return(I&1)===0&&u.child!==j?(g=u.child,g.childLanes=0,g.pendingProps=X,u.deletions=null):(g=ni(j,X),g.subtreeFlags=j.subtreeFlags&14680064),H!==null?O=ni(H,O):(O=Bi(O,I,h,null),O.flags|=2),O.return=u,g.return=u,g.sibling=O,u.child=g,g=O,O=u.child,I=l.child.memoizedState,I=I===null?gm(h):{baseLanes:I.baseLanes|h,cachePool:null,transitions:I.transitions},O.memoizedState=I,O.childLanes=l.childLanes&~h,u.memoizedState=vm,g}return O=l.child,l=O.sibling,g=ni(O,{mode:"visible",children:g.children}),(u.mode&1)===0&&(g.lanes=h),g.return=u,g.sibling=null,l!==null&&(h=u.deletions,h===null?(u.deletions=[l],u.flags|=16):h.push(l)),u.child=g,u.memoizedState=null,g}function ym(l,u){return u=yd({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function id(l,u,h,g){return g!==null&&Hp(g),Lo(u,l.child,null,h),l=ym(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function XD(l,u,h,g,j,O,I){if(h)return u.flags&256?(u.flags&=-257,g=fm(Error(r(422))),id(l,u,I,g)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(O=g.fallback,j=u.mode,g=yd({mode:"visible",children:g.children},j,0,null),O=Bi(O,j,I,null),O.flags|=2,g.return=u,O.return=u,g.sibling=O,u.child=g,(u.mode&1)!==0&&Lo(u,l.child,null,I),u.child.memoizedState=gm(I),u.memoizedState=vm,O);if((u.mode&1)===0)return id(l,u,I,null);if(j.data==="$!"){if(g=j.nextSibling&&j.nextSibling.dataset,g)var H=g.dgst;return g=H,O=Error(r(419)),g=fm(O,g,void 0),id(l,u,I,g)}if(H=(I&l.childLanes)!==0,$r||H){if(g=ir,g!==null){switch(I&-I){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(g.suspendedLanes|I))!==0?0:j,j!==0&&j!==O.retryLane&&(O.retryLane=j,ga(l,j),Mn(g,l,j,-1))}return Mm(),g=fm(Error(r(421))),id(l,u,I,g)}return j.data==="$?"?(u.flags|=128,u.child=l.child,u=c$.bind(null,l),j._reactRetry=u,null):(l=O.treeContext,Xr=Wa(j.nextSibling),Yr=u,Ct=!0,Pn=null,l!==null&&(hn[pn++]=ma,hn[pn++]=va,hn[pn++]=Pi,ma=l.id,va=l.overflow,Pi=u),u=ym(u,g.children),u.flags|=4096,u)}function Tj(l,u,h){l.lanes|=u;var g=l.alternate;g!==null&&(g.lanes|=u),Yp(l.return,u,h)}function bm(l,u,h,g,j){var O=l.memoizedState;O===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:j}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=g,O.tail=h,O.tailMode=j)}function Ej(l,u,h){var g=u.pendingProps,j=g.revealOrder,O=g.tail;if(Ar(l,u,g.children,h),g=Pt.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Tj(l,h,u);else if(l.tag===19)Tj(l,h,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}g&=1}if(yt(Pt,g),(u.mode&1)===0)u.memoizedState=null;else switch(j){case"forwards":for(h=u.child,j=null;h!==null;)l=h.alternate,l!==null&&Qu(l)===null&&(j=h),h=h.sibling;h=j,h===null?(j=u.child,u.child=null):(j=h.sibling,h.sibling=null),bm(u,!1,j,h,O);break;case"backwards":for(h=null,j=u.child,u.child=null;j!==null;){if(l=j.alternate,l!==null&&Qu(l)===null){u.child=j;break}l=j.sibling,j.sibling=h,h=j,j=l}bm(u,!0,h,null,O);break;case"together":bm(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function od(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function ba(l,u,h){if(l!==null&&(u.dependencies=l.dependencies),Ri|=u.lanes,(h&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,h=ni(l,l.pendingProps),u.child=h,h.return=u;l.sibling!==null;)l=l.sibling,h=h.sibling=ni(l,l.pendingProps),h.return=u;h.sibling=null}return u.child}function JD(l,u,h){switch(u.tag){case 3:Aj(u),$o();break;case 5:q1(u);break;case 1:Dr(u.type)&&Uu(u);break;case 4:Qp(u,u.stateNode.containerInfo);break;case 10:var g=u.type._context,j=u.memoizedProps.value;yt(Ku,g._currentValue),g._currentValue=j;break;case 13:if(g=u.memoizedState,g!==null)return g.dehydrated!==null?(yt(Pt,Pt.current&1),u.flags|=128,null):(h&u.child.childLanes)!==0?Cj(l,u,h):(yt(Pt,Pt.current&1),l=ba(l,u,h),l!==null?l.sibling:null);yt(Pt,Pt.current&1);break;case 19:if(g=(h&u.childLanes)!==0,(l.flags&128)!==0){if(g)return Ej(l,u,h);u.flags|=128}if(j=u.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),yt(Pt,Pt.current),g)break;return null;case 22:case 23:return u.lanes=0,Sj(l,u,h)}return ba(l,u,h)}var Pj,xm,kj,Nj;Pj=function(l,u){for(var h=u.child;h!==null;){if(h.tag===5||h.tag===6)l.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},xm=function(){},kj=function(l,u,h,g){var j=l.memoizedProps;if(j!==g){l=u.stateNode,Ii(Kn.current);var O=null;switch(h){case"input":j=V(l,j),g=V(l,g),O=[];break;case"select":j=ue({},j,{value:void 0}),g=ue({},g,{value:void 0}),O=[];break;case"textarea":j=Mr(l,j),g=Mr(l,g),O=[];break;default:typeof j.onClick!="function"&&typeof g.onClick=="function"&&(l.onclick=Bu)}ep(h,g);var I;h=null;for(se in j)if(!g.hasOwnProperty(se)&&j.hasOwnProperty(se)&&j[se]!=null)if(se==="style"){var H=j[se];for(I in H)H.hasOwnProperty(I)&&(h||(h={}),h[I]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(a.hasOwnProperty(se)?O||(O=[]):(O=O||[]).push(se,null));for(se in g){var X=g[se];if(H=j?.[se],g.hasOwnProperty(se)&&X!==H&&(X!=null||H!=null))if(se==="style")if(H){for(I in H)!H.hasOwnProperty(I)||X&&X.hasOwnProperty(I)||(h||(h={}),h[I]="");for(I in X)X.hasOwnProperty(I)&&H[I]!==X[I]&&(h||(h={}),h[I]=X[I])}else h||(O||(O=[]),O.push(se,h)),h=X;else se==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,H=H?H.__html:void 0,X!=null&&H!==X&&(O=O||[]).push(se,X)):se==="children"?typeof X!="string"&&typeof X!="number"||(O=O||[]).push(se,""+X):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(a.hasOwnProperty(se)?(X!=null&&se==="onScroll"&&jt("scroll",l),O||H===X||(O=[])):(O=O||[]).push(se,X))}h&&(O=O||[]).push("style",h);var se=O;(u.updateQueue=se)&&(u.flags|=4)}},Nj=function(l,u,h,g){h!==g&&(u.flags|=4)};function Rl(l,u){if(!Ct)switch(l.tailMode){case"hidden":u=l.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:g.sibling=null}}function br(l){var u=l.alternate!==null&&l.alternate.child===l.child,h=0,g=0;if(u)for(var j=l.child;j!==null;)h|=j.lanes|j.childLanes,g|=j.subtreeFlags&14680064,g|=j.flags&14680064,j.return=l,j=j.sibling;else for(j=l.child;j!==null;)h|=j.lanes|j.childLanes,g|=j.subtreeFlags,g|=j.flags,j.return=l,j=j.sibling;return l.subtreeFlags|=g,l.childLanes=h,u}function QD(l,u,h){var g=u.pendingProps;switch(Up(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return br(u),null;case 1:return Dr(u.type)&&zu(),br(u),null;case 3:return g=u.stateNode,zo(),_t(Rr),_t(gr),tm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(Wu(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Pn!==null&&(km(Pn),Pn=null))),xm(l,u),br(u),null;case 5:Zp(u);var j=Ii(Pl.current);if(h=u.type,l!==null&&u.stateNode!=null)kj(l,u,h,g,j),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(r(166));return br(u),null}if(l=Ii(Kn.current),Wu(u)){g=u.stateNode,h=u.type;var O=u.memoizedProps;switch(g[Gn]=u,g[Al]=O,l=(u.mode&1)!==0,h){case"dialog":jt("cancel",g),jt("close",g);break;case"iframe":case"object":case"embed":jt("load",g);break;case"video":case"audio":for(j=0;j<Sl.length;j++)jt(Sl[j],g);break;case"source":jt("error",g);break;case"img":case"image":case"link":jt("error",g),jt("load",g);break;case"details":jt("toggle",g);break;case"input":Fe(g,O),jt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!O.multiple},jt("invalid",g);break;case"textarea":da(g,O),jt("invalid",g)}ep(h,O),j=null;for(var I in O)if(O.hasOwnProperty(I)){var H=O[I];I==="children"?typeof H=="string"?g.textContent!==H&&(O.suppressHydrationWarning!==!0&&Lu(g.textContent,H,l),j=["children",H]):typeof H=="number"&&g.textContent!==""+H&&(O.suppressHydrationWarning!==!0&&Lu(g.textContent,H,l),j=["children",""+H]):a.hasOwnProperty(I)&&H!=null&&I==="onScroll"&&jt("scroll",g)}switch(h){case"input":_e(g),Gr(g,O,!0);break;case"textarea":_e(g),B(g);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(g.onclick=Bu)}g=j,u.updateQueue=g,g!==null&&(u.flags|=4)}else{I=j.nodeType===9?j:j.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=ce(h)),l==="http://www.w3.org/1999/xhtml"?h==="script"?(l=I.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof g.is=="string"?l=I.createElement(h,{is:g.is}):(l=I.createElement(h),h==="select"&&(I=l,g.multiple?I.multiple=!0:g.size&&(I.size=g.size))):l=I.createElementNS(l,h),l[Gn]=u,l[Al]=g,Pj(l,u,!1,!1),u.stateNode=l;e:{switch(I=tp(h,g),h){case"dialog":jt("cancel",l),jt("close",l),j=g;break;case"iframe":case"object":case"embed":jt("load",l),j=g;break;case"video":case"audio":for(j=0;j<Sl.length;j++)jt(Sl[j],l);j=g;break;case"source":jt("error",l),j=g;break;case"img":case"image":case"link":jt("error",l),jt("load",l),j=g;break;case"details":jt("toggle",l),j=g;break;case"input":Fe(l,g),j=V(l,g),jt("invalid",l);break;case"option":j=g;break;case"select":l._wrapperState={wasMultiple:!!g.multiple},j=ue({},g,{value:void 0}),jt("invalid",l);break;case"textarea":da(l,g),j=Mr(l,g),jt("invalid",l);break;default:j=g}ep(h,j),H=j;for(O in H)if(H.hasOwnProperty(O)){var X=H[O];O==="style"?wS(l,X):O==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&gt(l,X)):O==="children"?typeof X=="string"?(h!=="textarea"||X!=="")&&ct(l,X):typeof X=="number"&&ct(l,""+X):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(a.hasOwnProperty(O)?X!=null&&O==="onScroll"&&jt("scroll",l):X!=null&&x(l,O,X,I))}switch(h){case"input":_e(l),Gr(l,g,!1);break;case"textarea":_e(l),B(l);break;case"option":g.value!=null&&l.setAttribute("value",""+Re(g.value));break;case"select":l.multiple=!!g.multiple,O=g.value,O!=null?dr(l,!!g.multiple,O,!1):g.defaultValue!=null&&dr(l,!!g.multiple,g.defaultValue,!0);break;default:typeof j.onClick=="function"&&(l.onclick=Bu)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return br(u),null;case 6:if(l&&u.stateNode!=null)Nj(l,u,l.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(h=Ii(Pl.current),Ii(Kn.current),Wu(u)){if(g=u.stateNode,h=u.memoizedProps,g[Gn]=u,(O=g.nodeValue!==h)&&(l=Yr,l!==null))switch(l.tag){case 3:Lu(g.nodeValue,h,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Lu(g.nodeValue,h,(l.mode&1)!==0)}O&&(u.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Gn]=u,u.stateNode=g}return br(u),null;case 13:if(_t(Pt),g=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Ct&&Xr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)R1(),$o(),u.flags|=98560,O=!1;else if(O=Wu(u),g!==null&&g.dehydrated!==null){if(l===null){if(!O)throw Error(r(318));if(O=u.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[Gn]=u}else $o(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;br(u),O=!1}else Pn!==null&&(km(Pn),Pn=null),O=!0;if(!O)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=h,u):(g=g!==null,g!==(l!==null&&l.memoizedState!==null)&&g&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Pt.current&1)!==0?Gt===0&&(Gt=3):Mm())),u.updateQueue!==null&&(u.flags|=4),br(u),null);case 4:return zo(),xm(l,u),l===null&&jl(u.stateNode.containerInfo),br(u),null;case 10:return Kp(u.type._context),br(u),null;case 17:return Dr(u.type)&&zu(),br(u),null;case 19:if(_t(Pt),O=u.memoizedState,O===null)return br(u),null;if(g=(u.flags&128)!==0,I=O.rendering,I===null)if(g)Rl(O,!1);else{if(Gt!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(I=Qu(l),I!==null){for(u.flags|=128,Rl(O,!1),g=I.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),u.subtreeFlags=0,g=h,h=u.child;h!==null;)O=h,l=g,O.flags&=14680066,I=O.alternate,I===null?(O.childLanes=0,O.lanes=l,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=I.childLanes,O.lanes=I.lanes,O.child=I.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=I.memoizedProps,O.memoizedState=I.memoizedState,O.updateQueue=I.updateQueue,O.type=I.type,l=I.dependencies,O.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),h=h.sibling;return yt(Pt,Pt.current&1|2),u.child}l=l.sibling}O.tail!==null&&$t()>Ho&&(u.flags|=128,g=!0,Rl(O,!1),u.lanes=4194304)}else{if(!g)if(l=Qu(I),l!==null){if(u.flags|=128,g=!0,h=l.updateQueue,h!==null&&(u.updateQueue=h,u.flags|=4),Rl(O,!0),O.tail===null&&O.tailMode==="hidden"&&!I.alternate&&!Ct)return br(u),null}else 2*$t()-O.renderingStartTime>Ho&&h!==1073741824&&(u.flags|=128,g=!0,Rl(O,!1),u.lanes=4194304);O.isBackwards?(I.sibling=u.child,u.child=I):(h=O.last,h!==null?h.sibling=I:u.child=I,O.last=I)}return O.tail!==null?(u=O.tail,O.rendering=u,O.tail=u.sibling,O.renderingStartTime=$t(),u.sibling=null,h=Pt.current,yt(Pt,g?h&1|2:h&1),u):(br(u),null);case 22:case 23:return Im(),g=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==g&&(u.flags|=8192),g&&(u.mode&1)!==0?(Jr&1073741824)!==0&&(br(u),u.subtreeFlags&6&&(u.flags|=8192)):br(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function ZD(l,u){switch(Up(u),u.tag){case 1:return Dr(u.type)&&zu(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return zo(),_t(Rr),_t(gr),tm(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return Zp(u),null;case 13:if(_t(Pt),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));$o()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return _t(Pt),null;case 4:return zo(),null;case 10:return Kp(u.type._context),null;case 22:case 23:return Im(),null;case 24:return null;default:return null}}var sd=!1,xr=!1,e$=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function qo(l,u){var h=l.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){Mt(l,u,g)}else h.current=null}function wm(l,u,h){try{h()}catch(g){Mt(l,u,g)}}var Ij=!1;function t$(l,u){if(Ip=Cu,l=d1(),Ap(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var j=g.anchorOffset,O=g.focusNode;g=g.focusOffset;try{h.nodeType,O.nodeType}catch{h=null;break e}var I=0,H=-1,X=-1,se=0,ye=0,xe=l,ge=null;t:for(;;){for(var Ae;xe!==h||j!==0&&xe.nodeType!==3||(H=I+j),xe!==O||g!==0&&xe.nodeType!==3||(X=I+g),xe.nodeType===3&&(I+=xe.nodeValue.length),(Ae=xe.firstChild)!==null;)ge=xe,xe=Ae;for(;;){if(xe===l)break t;if(ge===h&&++se===j&&(H=I),ge===O&&++ye===g&&(X=I),(Ae=xe.nextSibling)!==null)break;xe=ge,ge=xe.parentNode}xe=Ae}h=H===-1||X===-1?null:{start:H,end:X}}else h=null}h=h||{start:0,end:0}}else h=null;for(Mp={focusedElem:l,selectionRange:h},Cu=!1,Ce=u;Ce!==null;)if(u=Ce,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Ce=l;else for(;Ce!==null;){u=Ce;try{var Pe=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Ne=Pe.memoizedProps,Lt=Pe.memoizedState,ae=u.stateNode,Z=ae.getSnapshotBeforeUpdate(u.elementType===u.type?Ne:kn(u.type,Ne),Lt);ae.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var ie=u.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Se){Mt(u,u.return,Se)}if(l=u.sibling,l!==null){l.return=u.return,Ce=l;break}Ce=u.return}return Pe=Ij,Ij=!1,Pe}function Dl(l,u,h){var g=u.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var j=g=g.next;do{if((j.tag&l)===l){var O=j.destroy;j.destroy=void 0,O!==void 0&&wm(u,h,O)}j=j.next}while(j!==g)}}function ld(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&l)===l){var g=h.create;h.destroy=g()}h=h.next}while(h!==u)}}function Sm(l){var u=l.ref;if(u!==null){var h=l.stateNode;l.tag,l=h,typeof u=="function"?u(l):u.current=l}}function Mj(l){var u=l.alternate;u!==null&&(l.alternate=null,Mj(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[Gn],delete u[Al],delete u[Lp],delete u[$D],delete u[LD])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Rj(l){return l.tag===5||l.tag===3||l.tag===4}function Dj(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Rj(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function jm(l,u,h){var g=l.tag;if(g===5||g===6)l=l.stateNode,u?h.nodeType===8?h.parentNode.insertBefore(l,u):h.insertBefore(l,u):(h.nodeType===8?(u=h.parentNode,u.insertBefore(l,h)):(u=h,u.appendChild(l)),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Bu));else if(g!==4&&(l=l.child,l!==null))for(jm(l,u,h),l=l.sibling;l!==null;)jm(l,u,h),l=l.sibling}function _m(l,u,h){var g=l.tag;if(g===5||g===6)l=l.stateNode,u?h.insertBefore(l,u):h.appendChild(l);else if(g!==4&&(l=l.child,l!==null))for(_m(l,u,h),l=l.sibling;l!==null;)_m(l,u,h),l=l.sibling}var fr=null,Nn=!1;function Qa(l,u,h){for(h=h.child;h!==null;)$j(l,u,h),h=h.sibling}function $j(l,u,h){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(wu,h)}catch{}switch(h.tag){case 5:xr||qo(h,u);case 6:var g=fr,j=Nn;fr=null,Qa(l,u,h),fr=g,Nn=j,fr!==null&&(Nn?(l=fr,h=h.stateNode,l.nodeType===8?l.parentNode.removeChild(h):l.removeChild(h)):fr.removeChild(h.stateNode));break;case 18:fr!==null&&(Nn?(l=fr,h=h.stateNode,l.nodeType===8?$p(l.parentNode,h):l.nodeType===1&&$p(l,h),pl(l)):$p(fr,h.stateNode));break;case 4:g=fr,j=Nn,fr=h.stateNode.containerInfo,Nn=!0,Qa(l,u,h),fr=g,Nn=j;break;case 0:case 11:case 14:case 15:if(!xr&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){j=g=g.next;do{var O=j,I=O.destroy;O=O.tag,I!==void 0&&((O&2)!==0||(O&4)!==0)&&wm(h,u,I),j=j.next}while(j!==g)}Qa(l,u,h);break;case 1:if(!xr&&(qo(h,u),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(H){Mt(h,u,H)}Qa(l,u,h);break;case 21:Qa(l,u,h);break;case 22:h.mode&1?(xr=(g=xr)||h.memoizedState!==null,Qa(l,u,h),xr=g):Qa(l,u,h);break;default:Qa(l,u,h)}}function Lj(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var h=l.stateNode;h===null&&(h=l.stateNode=new e$),u.forEach(function(g){var j=u$.bind(null,l,g);h.has(g)||(h.add(g),g.then(j,j))})}}function In(l,u){var h=u.deletions;if(h!==null)for(var g=0;g<h.length;g++){var j=h[g];try{var O=l,I=u,H=I;e:for(;H!==null;){switch(H.tag){case 5:fr=H.stateNode,Nn=!1;break e;case 3:fr=H.stateNode.containerInfo,Nn=!0;break e;case 4:fr=H.stateNode.containerInfo,Nn=!0;break e}H=H.return}if(fr===null)throw Error(r(160));$j(O,I,j),fr=null,Nn=!1;var X=j.alternate;X!==null&&(X.return=null),j.return=null}catch(se){Mt(j,u,se)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)Bj(u,l),u=u.sibling}function Bj(l,u){var h=l.alternate,g=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(In(u,l),Xn(l),g&4){try{Dl(3,l,l.return),ld(3,l)}catch(Ne){Mt(l,l.return,Ne)}try{Dl(5,l,l.return)}catch(Ne){Mt(l,l.return,Ne)}}break;case 1:In(u,l),Xn(l),g&512&&h!==null&&qo(h,h.return);break;case 5:if(In(u,l),Xn(l),g&512&&h!==null&&qo(h,h.return),l.flags&32){var j=l.stateNode;try{ct(j,"")}catch(Ne){Mt(l,l.return,Ne)}}if(g&4&&(j=l.stateNode,j!=null)){var O=l.memoizedProps,I=h!==null?h.memoizedProps:O,H=l.type,X=l.updateQueue;if(l.updateQueue=null,X!==null)try{H==="input"&&O.type==="radio"&&O.name!=null&&lt(j,O),tp(H,I);var se=tp(H,O);for(I=0;I<X.length;I+=2){var ye=X[I],xe=X[I+1];ye==="style"?wS(j,xe):ye==="dangerouslySetInnerHTML"?gt(j,xe):ye==="children"?ct(j,xe):x(j,ye,xe,se)}switch(H){case"input":It(j,O);break;case"textarea":Oi(j,O);break;case"select":var ge=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!O.multiple;var Ae=O.value;Ae!=null?dr(j,!!O.multiple,Ae,!1):ge!==!!O.multiple&&(O.defaultValue!=null?dr(j,!!O.multiple,O.defaultValue,!0):dr(j,!!O.multiple,O.multiple?[]:"",!1))}j[Al]=O}catch(Ne){Mt(l,l.return,Ne)}}break;case 6:if(In(u,l),Xn(l),g&4){if(l.stateNode===null)throw Error(r(162));j=l.stateNode,O=l.memoizedProps;try{j.nodeValue=O}catch(Ne){Mt(l,l.return,Ne)}}break;case 3:if(In(u,l),Xn(l),g&4&&h!==null&&h.memoizedState.isDehydrated)try{pl(u.containerInfo)}catch(Ne){Mt(l,l.return,Ne)}break;case 4:In(u,l),Xn(l);break;case 13:In(u,l),Xn(l),j=l.child,j.flags&8192&&(O=j.memoizedState!==null,j.stateNode.isHidden=O,!O||j.alternate!==null&&j.alternate.memoizedState!==null||(Cm=$t())),g&4&&Lj(l);break;case 22:if(ye=h!==null&&h.memoizedState!==null,l.mode&1?(xr=(se=xr)||ye,In(u,l),xr=se):In(u,l),Xn(l),g&8192){if(se=l.memoizedState!==null,(l.stateNode.isHidden=se)&&!ye&&(l.mode&1)!==0)for(Ce=l,ye=l.child;ye!==null;){for(xe=Ce=ye;Ce!==null;){switch(ge=Ce,Ae=ge.child,ge.tag){case 0:case 11:case 14:case 15:Dl(4,ge,ge.return);break;case 1:qo(ge,ge.return);var Pe=ge.stateNode;if(typeof Pe.componentWillUnmount=="function"){g=ge,h=ge.return;try{u=g,Pe.props=u.memoizedProps,Pe.state=u.memoizedState,Pe.componentWillUnmount()}catch(Ne){Mt(g,h,Ne)}}break;case 5:qo(ge,ge.return);break;case 22:if(ge.memoizedState!==null){Uj(xe);continue}}Ae!==null?(Ae.return=ge,Ce=Ae):Uj(xe)}ye=ye.sibling}e:for(ye=null,xe=l;;){if(xe.tag===5){if(ye===null){ye=xe;try{j=xe.stateNode,se?(O=j.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(H=xe.stateNode,X=xe.memoizedProps.style,I=X!=null&&X.hasOwnProperty("display")?X.display:null,H.style.display=xS("display",I))}catch(Ne){Mt(l,l.return,Ne)}}}else if(xe.tag===6){if(ye===null)try{xe.stateNode.nodeValue=se?"":xe.memoizedProps}catch(Ne){Mt(l,l.return,Ne)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===l)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===l)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===l)break e;ye===xe&&(ye=null),xe=xe.return}ye===xe&&(ye=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:In(u,l),Xn(l),g&4&&Lj(l);break;case 21:break;default:In(u,l),Xn(l)}}function Xn(l){var u=l.flags;if(u&2){try{e:{for(var h=l.return;h!==null;){if(Rj(h)){var g=h;break e}h=h.return}throw Error(r(160))}switch(g.tag){case 5:var j=g.stateNode;g.flags&32&&(ct(j,""),g.flags&=-33);var O=Dj(l);_m(l,O,j);break;case 3:case 4:var I=g.stateNode.containerInfo,H=Dj(l);jm(l,H,I);break;default:throw Error(r(161))}}catch(X){Mt(l,l.return,X)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function r$(l,u,h){Ce=l,Fj(l)}function Fj(l,u,h){for(var g=(l.mode&1)!==0;Ce!==null;){var j=Ce,O=j.child;if(j.tag===22&&g){var I=j.memoizedState!==null||sd;if(!I){var H=j.alternate,X=H!==null&&H.memoizedState!==null||xr;H=sd;var se=xr;if(sd=I,(xr=X)&&!se)for(Ce=j;Ce!==null;)I=Ce,X=I.child,I.tag===22&&I.memoizedState!==null?qj(j):X!==null?(X.return=I,Ce=X):qj(j);for(;O!==null;)Ce=O,Fj(O),O=O.sibling;Ce=j,sd=H,xr=se}zj(l)}else(j.subtreeFlags&8772)!==0&&O!==null?(O.return=j,Ce=O):zj(l)}}function zj(l){for(;Ce!==null;){var u=Ce;if((u.flags&8772)!==0){var h=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:xr||ld(5,u);break;case 1:var g=u.stateNode;if(u.flags&4&&!xr)if(h===null)g.componentDidMount();else{var j=u.elementType===u.type?h.memoizedProps:kn(u.type,h.memoizedProps);g.componentDidUpdate(j,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var O=u.updateQueue;O!==null&&U1(u,O,g);break;case 3:var I=u.updateQueue;if(I!==null){if(h=null,u.child!==null)switch(u.child.tag){case 5:h=u.child.stateNode;break;case 1:h=u.child.stateNode}U1(u,I,h)}break;case 5:var H=u.stateNode;if(h===null&&u.flags&4){h=H;var X=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&h.focus();break;case"img":X.src&&(h.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var se=u.alternate;if(se!==null){var ye=se.memoizedState;if(ye!==null){var xe=ye.dehydrated;xe!==null&&pl(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}xr||u.flags&512&&Sm(u)}catch(ge){Mt(u,u.return,ge)}}if(u===l){Ce=null;break}if(h=u.sibling,h!==null){h.return=u.return,Ce=h;break}Ce=u.return}}function Uj(l){for(;Ce!==null;){var u=Ce;if(u===l){Ce=null;break}var h=u.sibling;if(h!==null){h.return=u.return,Ce=h;break}Ce=u.return}}function qj(l){for(;Ce!==null;){var u=Ce;try{switch(u.tag){case 0:case 11:case 15:var h=u.return;try{ld(4,u)}catch(X){Mt(u,h,X)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var j=u.return;try{g.componentDidMount()}catch(X){Mt(u,j,X)}}var O=u.return;try{Sm(u)}catch(X){Mt(u,O,X)}break;case 5:var I=u.return;try{Sm(u)}catch(X){Mt(u,I,X)}}}catch(X){Mt(u,u.return,X)}if(u===l){Ce=null;break}var H=u.sibling;if(H!==null){H.return=u.return,Ce=H;break}Ce=u.return}}var n$=Math.ceil,cd=T.ReactCurrentDispatcher,Am=T.ReactCurrentOwner,gn=T.ReactCurrentBatchConfig,tt=0,ir=null,zt=null,hr=0,Jr=0,Vo=Ga(0),Gt=0,$l=null,Ri=0,ud=0,Om=0,Ll=null,Lr=null,Cm=0,Ho=1/0,xa=null,dd=!1,Tm=null,Za=null,fd=!1,ei=null,hd=0,Bl=0,Em=null,pd=-1,md=0;function Or(){return(tt&6)!==0?$t():pd!==-1?pd:pd=$t()}function ti(l){return(l.mode&1)===0?1:(tt&2)!==0&&hr!==0?hr&-hr:FD.transition!==null?(md===0&&(md=DS()),md):(l=ut,l!==0||(l=window.event,l=l===void 0?16:HS(l.type)),l)}function Mn(l,u,h,g){if(50<Bl)throw Bl=0,Em=null,Error(r(185));cl(l,h,g),((tt&2)===0||l!==ir)&&(l===ir&&((tt&2)===0&&(ud|=h),Gt===4&&ri(l,hr)),Br(l,g),h===1&&tt===0&&(u.mode&1)===0&&(Ho=$t()+500,qu&&Ya()))}function Br(l,u){var h=l.callbackNode;FR(l,u);var g=_u(l,l===ir?hr:0);if(g===0)h!==null&&IS(h),l.callbackNode=null,l.callbackPriority=0;else if(u=g&-g,l.callbackPriority!==u){if(h!=null&&IS(h),u===1)l.tag===0?BD(Hj.bind(null,l)):P1(Hj.bind(null,l)),RD(function(){(tt&6)===0&&Ya()}),h=null;else{switch($S(g)){case 1:h=lp;break;case 4:h=MS;break;case 16:h=xu;break;case 536870912:h=RS;break;default:h=xu}h=Zj(h,Vj.bind(null,l))}l.callbackPriority=u,l.callbackNode=h}}function Vj(l,u){if(pd=-1,md=0,(tt&6)!==0)throw Error(r(327));var h=l.callbackNode;if(Wo()&&l.callbackNode!==h)return null;var g=_u(l,l===ir?hr:0);if(g===0)return null;if((g&30)!==0||(g&l.expiredLanes)!==0||u)u=vd(l,g);else{u=g;var j=tt;tt|=2;var O=Gj();(ir!==l||hr!==u)&&(xa=null,Ho=$t()+500,$i(l,u));do try{o$();break}catch(H){Wj(l,H)}while(!0);Gp(),cd.current=O,tt=j,zt!==null?u=0:(ir=null,hr=0,u=Gt)}if(u!==0){if(u===2&&(j=cp(l),j!==0&&(g=j,u=Pm(l,j))),u===1)throw h=$l,$i(l,0),ri(l,g),Br(l,$t()),h;if(u===6)ri(l,g);else{if(j=l.current.alternate,(g&30)===0&&!a$(j)&&(u=vd(l,g),u===2&&(O=cp(l),O!==0&&(g=O,u=Pm(l,O))),u===1))throw h=$l,$i(l,0),ri(l,g),Br(l,$t()),h;switch(l.finishedWork=j,l.finishedLanes=g,u){case 0:case 1:throw Error(r(345));case 2:Li(l,Lr,xa);break;case 3:if(ri(l,g),(g&130023424)===g&&(u=Cm+500-$t(),10<u)){if(_u(l,0)!==0)break;if(j=l.suspendedLanes,(j&g)!==g){Or(),l.pingedLanes|=l.suspendedLanes&j;break}l.timeoutHandle=Dp(Li.bind(null,l,Lr,xa),u);break}Li(l,Lr,xa);break;case 4:if(ri(l,g),(g&4194240)===g)break;for(u=l.eventTimes,j=-1;0<g;){var I=31-Tn(g);O=1<<I,I=u[I],I>j&&(j=I),g&=~O}if(g=j,g=$t()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*n$(g/1960))-g,10<g){l.timeoutHandle=Dp(Li.bind(null,l,Lr,xa),g);break}Li(l,Lr,xa);break;case 5:Li(l,Lr,xa);break;default:throw Error(r(329))}}}return Br(l,$t()),l.callbackNode===h?Vj.bind(null,l):null}function Pm(l,u){var h=Ll;return l.current.memoizedState.isDehydrated&&($i(l,u).flags|=256),l=vd(l,u),l!==2&&(u=Lr,Lr=h,u!==null&&km(u)),l}function km(l){Lr===null?Lr=l:Lr.push.apply(Lr,l)}function a$(l){for(var u=l;;){if(u.flags&16384){var h=u.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var j=h[g],O=j.getSnapshot;j=j.value;try{if(!En(O(),j))return!1}catch{return!1}}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ri(l,u){for(u&=~Om,u&=~ud,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var h=31-Tn(u),g=1<<h;l[h]=-1,u&=~g}}function Hj(l){if((tt&6)!==0)throw Error(r(327));Wo();var u=_u(l,0);if((u&1)===0)return Br(l,$t()),null;var h=vd(l,u);if(l.tag!==0&&h===2){var g=cp(l);g!==0&&(u=g,h=Pm(l,g))}if(h===1)throw h=$l,$i(l,0),ri(l,u),Br(l,$t()),h;if(h===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Li(l,Lr,xa),Br(l,$t()),null}function Nm(l,u){var h=tt;tt|=1;try{return l(u)}finally{tt=h,tt===0&&(Ho=$t()+500,qu&&Ya())}}function Di(l){ei!==null&&ei.tag===0&&(tt&6)===0&&Wo();var u=tt;tt|=1;var h=gn.transition,g=ut;try{if(gn.transition=null,ut=1,l)return l()}finally{ut=g,gn.transition=h,tt=u,(tt&6)===0&&Ya()}}function Im(){Jr=Vo.current,_t(Vo)}function $i(l,u){l.finishedWork=null,l.finishedLanes=0;var h=l.timeoutHandle;if(h!==-1&&(l.timeoutHandle=-1,MD(h)),zt!==null)for(h=zt.return;h!==null;){var g=h;switch(Up(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&zu();break;case 3:zo(),_t(Rr),_t(gr),tm();break;case 5:Zp(g);break;case 4:zo();break;case 13:_t(Pt);break;case 19:_t(Pt);break;case 10:Kp(g.type._context);break;case 22:case 23:Im()}h=h.return}if(ir=l,zt=l=ni(l.current,null),hr=Jr=u,Gt=0,$l=null,Om=ud=Ri=0,Lr=Ll=null,Ni!==null){for(u=0;u<Ni.length;u++)if(h=Ni[u],g=h.interleaved,g!==null){h.interleaved=null;var j=g.next,O=h.pending;if(O!==null){var I=O.next;O.next=j,g.next=I}h.pending=g}Ni=null}return l}function Wj(l,u){do{var h=zt;try{if(Gp(),Zu.current=nd,ed){for(var g=kt.memoizedState;g!==null;){var j=g.queue;j!==null&&(j.pending=null),g=g.next}ed=!1}if(Mi=0,ar=Wt=kt=null,kl=!1,Nl=0,Am.current=null,h===null||h.return===null){Gt=1,$l=u,zt=null;break}e:{var O=l,I=h.return,H=h,X=u;if(u=hr,H.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var se=X,ye=H,xe=ye.tag;if((ye.mode&1)===0&&(xe===0||xe===11||xe===15)){var ge=ye.alternate;ge?(ye.updateQueue=ge.updateQueue,ye.memoizedState=ge.memoizedState,ye.lanes=ge.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Ae=gj(I);if(Ae!==null){Ae.flags&=-257,yj(Ae,I,H,O,u),Ae.mode&1&&vj(O,se,u),u=Ae,X=se;var Pe=u.updateQueue;if(Pe===null){var Ne=new Set;Ne.add(X),u.updateQueue=Ne}else Pe.add(X);break e}else{if((u&1)===0){vj(O,se,u),Mm();break e}X=Error(r(426))}}else if(Ct&&H.mode&1){var Lt=gj(I);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),yj(Lt,I,H,O,u),Hp(Uo(X,H));break e}}O=X=Uo(X,H),Gt!==4&&(Gt=2),Ll===null?Ll=[O]:Ll.push(O),O=I;do{switch(O.tag){case 3:O.flags|=65536,u&=-u,O.lanes|=u;var ae=pj(O,X,u);z1(O,ae);break e;case 1:H=X;var Z=O.type,ie=O.stateNode;if((O.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(Za===null||!Za.has(ie)))){O.flags|=65536,u&=-u,O.lanes|=u;var Se=mj(O,H,u);z1(O,Se);break e}}O=O.return}while(O!==null)}Yj(h)}catch(De){u=De,zt===h&&h!==null&&(zt=h=h.return);continue}break}while(!0)}function Gj(){var l=cd.current;return cd.current=nd,l===null?nd:l}function Mm(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),ir===null||(Ri&268435455)===0&&(ud&268435455)===0||ri(ir,hr)}function vd(l,u){var h=tt;tt|=2;var g=Gj();(ir!==l||hr!==u)&&(xa=null,$i(l,u));do try{i$();break}catch(j){Wj(l,j)}while(!0);if(Gp(),tt=h,cd.current=g,zt!==null)throw Error(r(261));return ir=null,hr=0,Gt}function i$(){for(;zt!==null;)Kj(zt)}function o$(){for(;zt!==null&&!kR();)Kj(zt)}function Kj(l){var u=Qj(l.alternate,l,Jr);l.memoizedProps=l.pendingProps,u===null?Yj(l):zt=u,Am.current=null}function Yj(l){var u=l;do{var h=u.alternate;if(l=u.return,(u.flags&32768)===0){if(h=QD(h,u,Jr),h!==null){zt=h;return}}else{if(h=ZD(h,u),h!==null){h.flags&=32767,zt=h;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Gt=6,zt=null;return}}if(u=u.sibling,u!==null){zt=u;return}zt=u=l}while(u!==null);Gt===0&&(Gt=5)}function Li(l,u,h){var g=ut,j=gn.transition;try{gn.transition=null,ut=1,s$(l,u,h,g)}finally{gn.transition=j,ut=g}return null}function s$(l,u,h,g){do Wo();while(ei!==null);if((tt&6)!==0)throw Error(r(327));h=l.finishedWork;var j=l.finishedLanes;if(h===null)return null;if(l.finishedWork=null,l.finishedLanes=0,h===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var O=h.lanes|h.childLanes;if(zR(l,O),l===ir&&(zt=ir=null,hr=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||fd||(fd=!0,Zj(xu,function(){return Wo(),null})),O=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||O){O=gn.transition,gn.transition=null;var I=ut;ut=1;var H=tt;tt|=4,Am.current=null,t$(l,h),Bj(h,l),CD(Mp),Cu=!!Ip,Mp=Ip=null,l.current=h,r$(h),NR(),tt=H,ut=I,gn.transition=O}else l.current=h;if(fd&&(fd=!1,ei=l,hd=j),O=l.pendingLanes,O===0&&(Za=null),RR(h.stateNode),Br(l,$t()),u!==null)for(g=l.onRecoverableError,h=0;h<u.length;h++)j=u[h],g(j.value,{componentStack:j.stack,digest:j.digest});if(dd)throw dd=!1,l=Tm,Tm=null,l;return(hd&1)!==0&&l.tag!==0&&Wo(),O=l.pendingLanes,(O&1)!==0?l===Em?Bl++:(Bl=0,Em=l):Bl=0,Ya(),null}function Wo(){if(ei!==null){var l=$S(hd),u=gn.transition,h=ut;try{if(gn.transition=null,ut=16>l?16:l,ei===null)var g=!1;else{if(l=ei,ei=null,hd=0,(tt&6)!==0)throw Error(r(331));var j=tt;for(tt|=4,Ce=l.current;Ce!==null;){var O=Ce,I=O.child;if((Ce.flags&16)!==0){var H=O.deletions;if(H!==null){for(var X=0;X<H.length;X++){var se=H[X];for(Ce=se;Ce!==null;){var ye=Ce;switch(ye.tag){case 0:case 11:case 15:Dl(8,ye,O)}var xe=ye.child;if(xe!==null)xe.return=ye,Ce=xe;else for(;Ce!==null;){ye=Ce;var ge=ye.sibling,Ae=ye.return;if(Mj(ye),ye===se){Ce=null;break}if(ge!==null){ge.return=Ae,Ce=ge;break}Ce=Ae}}}var Pe=O.alternate;if(Pe!==null){var Ne=Pe.child;if(Ne!==null){Pe.child=null;do{var Lt=Ne.sibling;Ne.sibling=null,Ne=Lt}while(Ne!==null)}}Ce=O}}if((O.subtreeFlags&2064)!==0&&I!==null)I.return=O,Ce=I;else e:for(;Ce!==null;){if(O=Ce,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:Dl(9,O,O.return)}var ae=O.sibling;if(ae!==null){ae.return=O.return,Ce=ae;break e}Ce=O.return}}var Z=l.current;for(Ce=Z;Ce!==null;){I=Ce;var ie=I.child;if((I.subtreeFlags&2064)!==0&&ie!==null)ie.return=I,Ce=ie;else e:for(I=Z;Ce!==null;){if(H=Ce,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:ld(9,H)}}catch(De){Mt(H,H.return,De)}if(H===I){Ce=null;break e}var Se=H.sibling;if(Se!==null){Se.return=H.return,Ce=Se;break e}Ce=H.return}}if(tt=j,Ya(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(wu,l)}catch{}g=!0}return g}finally{ut=h,gn.transition=u}}return!1}function Xj(l,u,h){u=Uo(h,u),u=pj(l,u,1),l=Ja(l,u,1),u=Or(),l!==null&&(cl(l,1,u),Br(l,u))}function Mt(l,u,h){if(l.tag===3)Xj(l,l,h);else for(;u!==null;){if(u.tag===3){Xj(u,l,h);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Za===null||!Za.has(g))){l=Uo(h,l),l=mj(u,l,1),u=Ja(u,l,1),l=Or(),u!==null&&(cl(u,1,l),Br(u,l));break}}u=u.return}}function l$(l,u,h){var g=l.pingCache;g!==null&&g.delete(u),u=Or(),l.pingedLanes|=l.suspendedLanes&h,ir===l&&(hr&h)===h&&(Gt===4||Gt===3&&(hr&130023424)===hr&&500>$t()-Cm?$i(l,0):Om|=h),Br(l,u)}function Jj(l,u){u===0&&((l.mode&1)===0?u=1:(u=ju,ju<<=1,(ju&130023424)===0&&(ju=4194304)));var h=Or();l=ga(l,u),l!==null&&(cl(l,u,h),Br(l,h))}function c$(l){var u=l.memoizedState,h=0;u!==null&&(h=u.retryLane),Jj(l,h)}function u$(l,u){var h=0;switch(l.tag){case 13:var g=l.stateNode,j=l.memoizedState;j!==null&&(h=j.retryLane);break;case 19:g=l.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(u),Jj(l,h)}var Qj;Qj=function(l,u,h){if(l!==null)if(l.memoizedProps!==u.pendingProps||Rr.current)$r=!0;else{if((l.lanes&h)===0&&(u.flags&128)===0)return $r=!1,JD(l,u,h);$r=(l.flags&131072)!==0}else $r=!1,Ct&&(u.flags&1048576)!==0&&k1(u,Hu,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;od(l,u),l=u.pendingProps;var j=Mo(u,gr.current);Fo(u,h),j=am(null,u,g,l,j,h);var O=im();return u.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Dr(g)?(O=!0,Uu(u)):O=!1,u.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,Jp(u),j.updater=ad,u.stateNode=j,j._reactInternals=u,dm(u,g,l,h),u=mm(null,u,g,!0,O,h)):(u.tag=0,Ct&&O&&zp(u),Ar(null,u,j,h),u=u.child),u;case 16:g=u.elementType;e:{switch(od(l,u),l=u.pendingProps,j=g._init,g=j(g._payload),u.type=g,j=u.tag=f$(g),l=kn(g,l),j){case 0:u=pm(null,u,g,l,h);break e;case 1:u=_j(null,u,g,l,h);break e;case 11:u=bj(null,u,g,l,h);break e;case 14:u=xj(null,u,g,kn(g.type,l),h);break e}throw Error(r(306,g,""))}return u;case 0:return g=u.type,j=u.pendingProps,j=u.elementType===g?j:kn(g,j),pm(l,u,g,j,h);case 1:return g=u.type,j=u.pendingProps,j=u.elementType===g?j:kn(g,j),_j(l,u,g,j,h);case 3:e:{if(Aj(u),l===null)throw Error(r(387));g=u.pendingProps,O=u.memoizedState,j=O.element,F1(l,u),Ju(u,g,null,h);var I=u.memoizedState;if(g=I.element,O.isDehydrated)if(O={element:g,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},u.updateQueue.baseState=O,u.memoizedState=O,u.flags&256){j=Uo(Error(r(423)),u),u=Oj(l,u,g,h,j);break e}else if(g!==j){j=Uo(Error(r(424)),u),u=Oj(l,u,g,h,j);break e}else for(Xr=Wa(u.stateNode.containerInfo.firstChild),Yr=u,Ct=!0,Pn=null,h=L1(u,null,g,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if($o(),g===j){u=ba(l,u,h);break e}Ar(l,u,g,h)}u=u.child}return u;case 5:return q1(u),l===null&&Vp(u),g=u.type,j=u.pendingProps,O=l!==null?l.memoizedProps:null,I=j.children,Rp(g,j)?I=null:O!==null&&Rp(g,O)&&(u.flags|=32),jj(l,u),Ar(l,u,I,h),u.child;case 6:return l===null&&Vp(u),null;case 13:return Cj(l,u,h);case 4:return Qp(u,u.stateNode.containerInfo),g=u.pendingProps,l===null?u.child=Lo(u,null,g,h):Ar(l,u,g,h),u.child;case 11:return g=u.type,j=u.pendingProps,j=u.elementType===g?j:kn(g,j),bj(l,u,g,j,h);case 7:return Ar(l,u,u.pendingProps,h),u.child;case 8:return Ar(l,u,u.pendingProps.children,h),u.child;case 12:return Ar(l,u,u.pendingProps.children,h),u.child;case 10:e:{if(g=u.type._context,j=u.pendingProps,O=u.memoizedProps,I=j.value,yt(Ku,g._currentValue),g._currentValue=I,O!==null)if(En(O.value,I)){if(O.children===j.children&&!Rr.current){u=ba(l,u,h);break e}}else for(O=u.child,O!==null&&(O.return=u);O!==null;){var H=O.dependencies;if(H!==null){I=O.child;for(var X=H.firstContext;X!==null;){if(X.context===g){if(O.tag===1){X=ya(-1,h&-h),X.tag=2;var se=O.updateQueue;if(se!==null){se=se.shared;var ye=se.pending;ye===null?X.next=X:(X.next=ye.next,ye.next=X),se.pending=X}}O.lanes|=h,X=O.alternate,X!==null&&(X.lanes|=h),Yp(O.return,h,u),H.lanes|=h;break}X=X.next}}else if(O.tag===10)I=O.type===u.type?null:O.child;else if(O.tag===18){if(I=O.return,I===null)throw Error(r(341));I.lanes|=h,H=I.alternate,H!==null&&(H.lanes|=h),Yp(I,h,u),I=O.sibling}else I=O.child;if(I!==null)I.return=O;else for(I=O;I!==null;){if(I===u){I=null;break}if(O=I.sibling,O!==null){O.return=I.return,I=O;break}I=I.return}O=I}Ar(l,u,j.children,h),u=u.child}return u;case 9:return j=u.type,g=u.pendingProps.children,Fo(u,h),j=mn(j),g=g(j),u.flags|=1,Ar(l,u,g,h),u.child;case 14:return g=u.type,j=kn(g,u.pendingProps),j=kn(g.type,j),xj(l,u,g,j,h);case 15:return wj(l,u,u.type,u.pendingProps,h);case 17:return g=u.type,j=u.pendingProps,j=u.elementType===g?j:kn(g,j),od(l,u),u.tag=1,Dr(g)?(l=!0,Uu(u)):l=!1,Fo(u,h),fj(u,g,j),dm(u,g,j,h),mm(null,u,g,!0,l,h);case 19:return Ej(l,u,h);case 22:return Sj(l,u,h)}throw Error(r(156,u.tag))};function Zj(l,u){return NS(l,u)}function d$(l,u,h,g){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(l,u,h,g){return new d$(l,u,h,g)}function Rm(l){return l=l.prototype,!(!l||!l.isReactComponent)}function f$(l){if(typeof l=="function")return Rm(l)?1:0;if(l!=null){if(l=l.$$typeof,l===L)return 11;if(l===q)return 14}return 2}function ni(l,u){var h=l.alternate;return h===null?(h=yn(l.tag,u,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=u,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&14680064,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,u=l.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h}function gd(l,u,h,g,j,O){var I=2;if(g=l,typeof l=="function")Rm(l)&&(I=1);else if(typeof l=="string")I=5;else e:switch(l){case P:return Bi(h.children,j,O,u);case R:I=8,j|=8;break;case M:return l=yn(12,h,u,j|2),l.elementType=M,l.lanes=O,l;case F:return l=yn(13,h,u,j),l.elementType=F,l.lanes=O,l;case z:return l=yn(19,h,u,j),l.elementType=z,l.lanes=O,l;case te:return yd(h,j,O,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case $:I=10;break e;case k:I=9;break e;case L:I=11;break e;case q:I=14;break e;case Y:I=16,g=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return u=yn(I,h,u,j),u.elementType=l,u.type=g,u.lanes=O,u}function Bi(l,u,h,g){return l=yn(7,l,g,u),l.lanes=h,l}function yd(l,u,h,g){return l=yn(22,l,g,u),l.elementType=te,l.lanes=h,l.stateNode={isHidden:!1},l}function Dm(l,u,h){return l=yn(6,l,null,u),l.lanes=h,l}function $m(l,u,h){return u=yn(4,l.children!==null?l.children:[],l.key,u),u.lanes=h,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function h$(l,u,h,g,j){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=up(0),this.expirationTimes=up(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=up(0),this.identifierPrefix=g,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function Lm(l,u,h,g,j,O,I,H,X){return l=new h$(l,u,h,H,X),u===1?(u=1,O===!0&&(u|=8)):u=0,O=yn(3,null,null,u),l.current=O,O.stateNode=l,O.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jp(O),l}function p$(l,u,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:g==null?null:""+g,children:l,containerInfo:u,implementation:h}}function e_(l){if(!l)return Ka;l=l._reactInternals;e:{if(Ci(l)!==l||l.tag!==1)throw Error(r(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Dr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(l.tag===1){var h=l.type;if(Dr(h))return T1(l,h,u)}return u}function t_(l,u,h,g,j,O,I,H,X){return l=Lm(h,g,!0,l,j,O,I,H,X),l.context=e_(null),h=l.current,g=Or(),j=ti(h),O=ya(g,j),O.callback=u??null,Ja(h,O,j),l.current.lanes=j,cl(l,j,g),Br(l,g),l}function bd(l,u,h,g){var j=u.current,O=Or(),I=ti(j);return h=e_(h),u.context===null?u.context=h:u.pendingContext=h,u=ya(O,I),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=Ja(j,u,I),l!==null&&(Mn(l,j,I,O),Xu(l,j,I)),I}function xd(l){return l=l.current,l.child?(l.child.tag===5,l.child.stateNode):null}function r_(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<u?h:u}}function Bm(l,u){r_(l,u),(l=l.alternate)&&r_(l,u)}function m$(){return null}var n_=typeof reportError=="function"?reportError:function(l){console.error(l)};function Fm(l){this._internalRoot=l}wd.prototype.render=Fm.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));bd(l,u,null,null)},wd.prototype.unmount=Fm.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;Di(function(){bd(null,l,null,null)}),u[ha]=null}};function wd(l){this._internalRoot=l}wd.prototype.unstable_scheduleHydration=function(l){if(l){var u=FS();l={blockedOn:null,target:l,priority:u};for(var h=0;h<qa.length&&u!==0&&u<qa[h].priority;h++);qa.splice(h,0,l),h===0&&qS(l)}};function zm(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Sd(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function a_(){}function v$(l,u,h,g,j){if(j){if(typeof g=="function"){var O=g;g=function(){var se=xd(I);O.call(se)}}var I=t_(u,g,l,0,null,!1,!1,"",a_);return l._reactRootContainer=I,l[ha]=I.current,jl(l.nodeType===8?l.parentNode:l),Di(),I}for(;j=l.lastChild;)l.removeChild(j);if(typeof g=="function"){var H=g;g=function(){var se=xd(X);H.call(se)}}var X=Lm(l,0,!1,null,null,!1,!1,"",a_);return l._reactRootContainer=X,l[ha]=X.current,jl(l.nodeType===8?l.parentNode:l),Di(function(){bd(u,X,h,g)}),X}function jd(l,u,h,g,j){var O=h._reactRootContainer;if(O){var I=O;if(typeof j=="function"){var H=j;j=function(){var X=xd(I);H.call(X)}}bd(u,I,l,j)}else I=v$(h,u,l,j,g);return xd(I)}LS=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var h=ll(u.pendingLanes);h!==0&&(dp(u,h|1),Br(u,$t()),(tt&6)===0&&(Ho=$t()+500,Ya()))}break;case 13:Di(function(){var g=ga(l,1);if(g!==null){var j=Or();Mn(g,l,1,j)}}),Bm(l,1)}},fp=function(l){if(l.tag===13){var u=ga(l,134217728);if(u!==null){var h=Or();Mn(u,l,134217728,h)}Bm(l,134217728)}},BS=function(l){if(l.tag===13){var u=ti(l),h=ga(l,u);if(h!==null){var g=Or();Mn(h,l,u,g)}Bm(l,u)}},FS=function(){return ut},zS=function(l,u){var h=ut;try{return ut=l,u()}finally{ut=h}},ap=function(l,u,h){switch(u){case"input":if(It(l,h),u=h.name,h.type==="radio"&&u!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<h.length;u++){var g=h[u];if(g!==l&&g.form===l.form){var j=Fu(g);if(!j)throw Error(r(90));ve(g),It(g,j)}}}break;case"textarea":Oi(l,h);break;case"select":u=h.value,u!=null&&dr(l,!!h.multiple,u,!1)}},AS=Nm,OS=Di;var g$={usingClientEntryPoint:!1,Events:[Ol,No,Fu,jS,_S,Nm]},Fl={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y$={bundleType:Fl.bundleType,version:Fl.version,rendererPackageName:Fl.rendererPackageName,rendererConfig:Fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=PS(l),l===null?null:l.stateNode},findFiberByHostInstance:Fl.findFiberByHostInstance||m$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{wu=_d.inject(y$),Wn=_d}catch{}}return Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g$,Fr.createPortal=function(l,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zm(u))throw Error(r(200));return p$(l,u,null,h)},Fr.createRoot=function(l,u){if(!zm(l))throw Error(r(299));var h=!1,g="",j=n_;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(j=u.onRecoverableError)),u=Lm(l,1,!1,null,null,h,!1,g,j),l[ha]=u.current,jl(l.nodeType===8?l.parentNode:l),new Fm(u)},Fr.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=PS(u),l=l===null?null:l.stateNode,l},Fr.flushSync=function(l){return Di(l)},Fr.hydrate=function(l,u,h){if(!Sd(u))throw Error(r(200));return jd(null,l,u,!0,h)},Fr.hydrateRoot=function(l,u,h){if(!zm(l))throw Error(r(405));var g=h!=null&&h.hydratedSources||null,j=!1,O="",I=n_;if(h!=null&&(h.unstable_strictMode===!0&&(j=!0),h.identifierPrefix!==void 0&&(O=h.identifierPrefix),h.onRecoverableError!==void 0&&(I=h.onRecoverableError)),u=t_(u,null,l,1,h??null,j,!1,O,I),l[ha]=u.current,jl(l),g)for(l=0;l<g.length;l++)h=g[l],j=h._getVersion,j=j(h._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[h,j]:u.mutableSourceEagerHydrationData.push(h,j);return new wd(u)},Fr.render=function(l,u,h){if(!Sd(u))throw Error(r(200));return jd(null,l,u,!1,h)},Fr.unmountComponentAtNode=function(l){if(!Sd(l))throw Error(r(40));return l._reactRootContainer?(Di(function(){jd(null,null,l,!1,function(){l._reactRootContainer=null,l[ha]=null})}),!0):!1},Fr.unstable_batchedUpdates=Nm,Fr.unstable_renderSubtreeIntoContainer=function(l,u,h,g){if(!Sd(h))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return jd(l,u,h,!1,g)},Fr.version="18.3.1-next-f1338f8080-20240426",Fr}var f_;function pN(){if(f_)return Vm.exports;f_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vm.exports=C$(),Vm.exports}var h_;function T$(){if(h_)return Od;h_=1;var t=pN();return Od.createRoot=t.createRoot,Od.hydrateRoot=t.hydrateRoot,Od}var E$=T$();const P$=st(E$);pN();function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mc.apply(this,arguments)}var hi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hi||(hi={}));const p_="popstate";function k$(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:s,hash:c}=n.location;return cb("",{pathname:i,search:s,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:tf(a)}return I$(e,r,null,t)}function Ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ew(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N$(){return Math.random().toString(36).substr(2,8)}function m_(t,e){return{usr:t.state,key:t.key,idx:e}}function cb(t,e,r,n){return r===void 0&&(r=null),mc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gs(e):e,{state:r,key:e&&e.key||n||N$()})}function tf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Gs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function I$(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,c=hi.Pop,d=null,f=p();f==null&&(f=0,s.replaceState(mc({},s.state,{idx:f}),""));function p(){return(s.state||{idx:null}).idx}function m(){c=hi.Pop;let b=p(),_=b==null?null:b-f;f=b,d&&d({action:c,location:S.location,delta:_})}function v(b,_){c=hi.Push;let A=cb(S.location,b,_);f=p()+1;let x=m_(A,f),T=S.createHref(A);try{s.pushState(x,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(T)}i&&d&&d({action:c,location:S.location,delta:1})}function y(b,_){c=hi.Replace;let A=cb(S.location,b,_);f=p();let x=m_(A,f),T=S.createHref(A);s.replaceState(x,"",T),i&&d&&d({action:c,location:S.location,delta:0})}function w(b){let _=a.location.origin!=="null"?a.location.origin:a.location.href,A=typeof b=="string"?b:tf(b);return A=A.replace(/ $/,"%20"),Ft(_,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,_)}let S={get action(){return c},get location(){return t(a,s)},listen(b){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(p_,m),d=b,()=>{a.removeEventListener(p_,m),d=null}},createHref(b){return e(a,b)},createURL:w,encodeLocation(b){let _=w(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:y,go(b){return s.go(b)}};return S}var v_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(v_||(v_={}));function M$(t,e,r){return r===void 0&&(r="/"),R$(t,e,r)}function R$(t,e,r,n){let a=typeof e=="string"?Gs(e):e,i=tw(a.pathname||"/",r);if(i==null)return null;let s=mN(t);D$(s);let c=null;for(let d=0;c==null&&d<s.length;++d){let f=K$(i);c=H$(s[d],f)}return c}function mN(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};d.relativePath.startsWith("/")&&(Ft(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let f=mi([n,d.relativePath]),p=r.concat(d);i.children&&i.children.length>0&&(Ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),mN(i.children,e,p,f)),!(i.path==null&&!i.index)&&e.push({path:f,score:q$(f,i.index),routesMeta:p})};return t.forEach((i,s)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,s);else for(let d of vN(i.path))a(i,s,d)}),e}function vN(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=vN(n.join("/")),c=[];return c.push(...s.map(d=>d===""?i:[i,d].join("/"))),a&&c.push(...s),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function D$(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:V$(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const $$=/^:[\w-]+$/,L$=3,B$=2,F$=1,z$=10,U$=-2,g_=t=>t==="*";function q$(t,e){let r=t.split("/"),n=r.length;return r.some(g_)&&(n+=U$),e&&(n+=B$),r.filter(a=>!g_(a)).reduce((a,i)=>a+($$.test(i)?L$:i===""?F$:z$),n)}function V$(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function H$(t,e,r){let{routesMeta:n}=t,a={},i="/",s=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,p=i==="/"?e:e.slice(i.length)||"/",m=W$({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!m)return null;Object.assign(a,m.params),s.push({params:a,pathname:mi([i,m.pathname]),pathnameBase:Z$(mi([i,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(i=mi([i,m.pathnameBase]))}return s}function W$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=G$(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((f,p,m)=>{let{paramName:v,isOptional:y}=p;if(v==="*"){let S=c[m]||"";s=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const w=c[m];return y&&!w?f[v]=void 0:f[v]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:s,pattern:t}}function G$(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ew(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function K$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ew(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Y$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X$=t=>Y$.test(t);function J$(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Gs(t):t,i;if(r)if(X$(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),ew(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?i=y_(r.substring(1),"/"):i=y_(r,e)}else i=e;return{pathname:i,search:eL(n),hash:tL(a)}}function y_(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Gm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Q$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function rw(t,e){let r=Q$(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nw(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Gs(t):(a=mc({},t),Ft(!a.pathname||!a.pathname.includes("?"),Gm("?","pathname","search",a)),Ft(!a.pathname||!a.pathname.includes("#"),Gm("#","pathname","hash",a)),Ft(!a.search||!a.search.includes("#"),Gm("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,c;if(s==null)c=r;else{let m=e.length-1;if(!n&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),m-=1;a.pathname=v.join("/")}c=m>=0?e[m]:"/"}let d=J$(a,c),f=s&&s!=="/"&&s.endsWith("/"),p=(i||s===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}const mi=t=>t.join("/").replace(/\/\/+/g,"/"),Z$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gN=["post","put","patch","delete"];new Set(gN);const nL=["get",...gN];new Set(nL);function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vc.apply(this,arguments)}const aw=N.createContext(null),aL=N.createContext(null),bi=N.createContext(null),uh=N.createContext(null),xi=N.createContext({outlet:null,matches:[],isDataRoute:!1}),yN=N.createContext(null);function iL(t,e){let{relative:r}=e===void 0?{}:e;Ks()||Ft(!1);let{basename:n,navigator:a}=N.useContext(bi),{hash:i,pathname:s,search:c}=xN(t,{relative:r}),d=s;return n!=="/"&&(d=s==="/"?n:mi([n,s])),a.createHref({pathname:d,search:c,hash:i})}function Ks(){return N.useContext(uh)!=null}function vo(){return Ks()||Ft(!1),N.useContext(uh).location}function bN(t){N.useContext(bi).static||N.useLayoutEffect(t)}function go(){let{isDataRoute:t}=N.useContext(xi);return t?yL():oL()}function oL(){Ks()||Ft(!1);let t=N.useContext(aw),{basename:e,future:r,navigator:n}=N.useContext(bi),{matches:a}=N.useContext(xi),{pathname:i}=vo(),s=JSON.stringify(rw(a,r.v7_relativeSplatPath)),c=N.useRef(!1);return bN(()=>{c.current=!0}),N.useCallback(function(f,p){if(p===void 0&&(p={}),!c.current)return;if(typeof f=="number"){n.go(f);return}let m=nw(f,JSON.parse(s),i,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:mi([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,s,i,t])}function xN(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=N.useContext(bi),{matches:a}=N.useContext(xi),{pathname:i}=vo(),s=JSON.stringify(rw(a,n.v7_relativeSplatPath));return N.useMemo(()=>nw(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function sL(t,e){return lL(t,e)}function lL(t,e,r,n){Ks()||Ft(!1);let{navigator:a}=N.useContext(bi),{matches:i}=N.useContext(xi),s=i[i.length-1],c=s?s.params:{};s&&s.pathname;let d=s?s.pathnameBase:"/";s&&s.route;let f=vo(),p;if(e){var m;let b=typeof e=="string"?Gs(e):e;d==="/"||(m=b.pathname)!=null&&m.startsWith(d)||Ft(!1),p=b}else p=f;let v=p.pathname||"/",y=v;if(d!=="/"){let b=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=M$(t,{pathname:y}),S=hL(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:mi([d,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:mi([d,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return e&&S?N.createElement(uh.Provider,{value:{location:vc({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:hi.Pop}},S):S}function cL(){let t=gL(),e=rL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),r?N.createElement("pre",{style:a},r):null,null)}const uL=N.createElement(cL,null);class dL extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?N.createElement(xi.Provider,{value:this.props.routeContext},N.createElement(yN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fL(t){let{routeContext:e,match:r,children:n}=t,a=N.useContext(aw);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(xi.Provider,{value:e},n)}function hL(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,c=(a=r)==null?void 0:a.errors;if(c!=null){let p=s.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);p>=0||Ft(!1),s=s.slice(0,Math.min(s.length,p+1))}let d=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:v,errors:y}=r,w=m.route.loader&&v[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||w){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((p,m,v)=>{let y,w=!1,S=null,b=null;r&&(y=c&&m.route.id?c[m.route.id]:void 0,S=m.route.errorElement||uL,d&&(f<0&&v===0?(bL("route-fallback"),w=!0,b=null):f===v&&(w=!0,b=m.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,v+1)),A=()=>{let x;return y?x=S:w?x=b:m.route.Component?x=N.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=p,N.createElement(fL,{match:m,routeContext:{outlet:p,matches:_,isDataRoute:r!=null},children:x})};return r&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?N.createElement(dL,{location:r.location,revalidation:r.revalidation,component:S,error:y,children:A(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):A()},null)}var wN=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(wN||{}),SN=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(SN||{});function pL(t){let e=N.useContext(aw);return e||Ft(!1),e}function mL(t){let e=N.useContext(aL);return e||Ft(!1),e}function vL(t){let e=N.useContext(xi);return e||Ft(!1),e}function jN(t){let e=vL(),r=e.matches[e.matches.length-1];return r.route.id||Ft(!1),r.route.id}function gL(){var t;let e=N.useContext(yN),r=mL(),n=jN();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function yL(){let{router:t}=pL(wN.UseNavigateStable),e=jN(SN.UseNavigateStable),r=N.useRef(!1);return bN(()=>{r.current=!0}),N.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,vc({fromRouteId:e},i)))},[t,e])}const b_={};function bL(t,e,r){b_[t]||(b_[t]=!0)}function xL(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function _N(t){let{to:e,replace:r,state:n,relative:a}=t;Ks()||Ft(!1);let{future:i,static:s}=N.useContext(bi),{matches:c}=N.useContext(xi),{pathname:d}=vo(),f=go(),p=nw(e,rw(c,i.v7_relativeSplatPath),d,a==="path"),m=JSON.stringify(p);return N.useEffect(()=>f(JSON.parse(m),{replace:r,state:n,relative:a}),[f,m,a,r,n]),null}function Bt(t){Ft(!1)}function wL(t){let{basename:e="/",children:r=null,location:n,navigationType:a=hi.Pop,navigator:i,static:s=!1,future:c}=t;Ks()&&Ft(!1);let d=e.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:d,navigator:i,static:s,future:vc({v7_relativeSplatPath:!1},c)}),[d,c,i,s]);typeof n=="string"&&(n=Gs(n));let{pathname:p="/",search:m="",hash:v="",state:y=null,key:w="default"}=n,S=N.useMemo(()=>{let b=tw(p,d);return b==null?null:{location:{pathname:b,search:m,hash:v,state:y,key:w},navigationType:a}},[d,p,m,v,y,w,a]);return S==null?null:N.createElement(bi.Provider,{value:f},N.createElement(uh.Provider,{children:r,value:S}))}function AN(t){let{children:e,location:r}=t;return sL(ub(e),r)}new Promise(()=>{});function ub(t,e){e===void 0&&(e=[]);let r=[];return N.Children.forEach(t,(n,a)=>{if(!N.isValidElement(n))return;let i=[...e,a];if(n.type===N.Fragment){r.push.apply(r,ub(n.props.children,i));return}n.type!==Bt&&Ft(!1),!n.props.index||!n.props.children||Ft(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=ub(n.props.children,i)),r.push(s)}),r}function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},db.apply(this,arguments)}function SL(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function jL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _L(t,e){return t.button===0&&(!e||e==="_self")&&!jL(t)}function fb(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function AL(t,e){let r=fb(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}const OL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CL="6";try{window.__reactRouterVersion=CL}catch{}const TL="startTransition",x_=_$[TL];function EL(t){let{basename:e,children:r,future:n,window:a}=t,i=N.useRef();i.current==null&&(i.current=k$({window:a,v5Compat:!0}));let s=i.current,[c,d]=N.useState({action:s.action,location:s.location}),{v7_startTransition:f}=n||{},p=N.useCallback(m=>{f&&x_?x_(()=>d(m)):d(m)},[d,f]);return N.useLayoutEffect(()=>s.listen(p),[s,p]),N.useEffect(()=>xL(n),[n]),N.createElement(wL,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:s,future:n})}const PL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jn=N.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:c,target:d,to:f,preventScrollReset:p,viewTransition:m}=e,v=SL(e,OL),{basename:y}=N.useContext(bi),w,S=!1;if(typeof f=="string"&&kL.test(f)&&(w=f,PL))try{let x=new URL(window.location.href),T=f.startsWith("//")?new URL(x.protocol+f):new URL(f),C=tw(T.pathname,y);T.origin===x.origin&&C!=null?f=C+T.search+T.hash:S=!0}catch{}let b=iL(f,{relative:a}),_=NL(f,{replace:s,state:c,target:d,preventScrollReset:p,relative:a,viewTransition:m});function A(x){n&&n(x),x.defaultPrevented||_(x)}return N.createElement("a",db({},v,{href:w||b,onClick:S||i?n:A,ref:r,target:d}))});var w_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(w_||(w_={}));var S_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(S_||(S_={}));function NL(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:c}=e===void 0?{}:e,d=go(),f=vo(),p=xN(t,{relative:s});return N.useCallback(m=>{if(_L(m,r)){m.preventDefault();let v=n!==void 0?n:tf(f)===tf(p);d(t,{replace:v,state:a,preventScrollReset:i,relative:s,viewTransition:c})}},[f,d,p,n,a,r,t,i,s,c])}function IL(t){let e=N.useRef(fb(t)),r=N.useRef(!1),n=vo(),a=N.useMemo(()=>AL(n.search,r.current?null:e.current),[n.search]),i=go(),s=N.useCallback((c,d)=>{const f=fb(typeof c=="function"?c(a):c);r.current=!0,i("?"+f,d)},[i,a]);return[a,s]}function dh(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function ML(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(p){try{f(n.next(p))}catch(m){s(m)}}function d(p){try{f(n.throw(p))}catch(m){s(m)}}function f(p){p.done?i(p.value):a(p.value).then(c,d)}f((n=n.apply(t,e||[])).next())})}const RL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class iw extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class DL extends iw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class j_ extends iw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class __ extends iw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var hb;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(hb||(hb={}));class $L{constructor(e,{headers:r={},customFetch:n,region:a=hb.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=RL(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ML(this,arguments,void 0,function*(r,n={}){var a;let i,s;try{const{headers:c,method:d,body:f,signal:p,timeout:m}=n;let v={},{region:y}=n;y||(y=this.region);const w=new URL(`${this.url}/${r}`);y&&y!=="any"&&(v["x-region"]=y,w.searchParams.set("forceFunctionRegion",y));let S;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(v["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(v["Content-Type"]="application/json",S=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?S=JSON.stringify(f):S=f;let b=p;m&&(s=new AbortController,i=setTimeout(()=>s.abort(),m),p?(b=s.signal,p.addEventListener("abort",()=>s.abort())):b=s.signal);const _=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:S,signal:b}).catch(C=>{throw new DL(C)}),A=_.headers.get("x-relay-error");if(A&&A==="true")throw new j_(_);if(!_.ok)throw new __(_);let x=((a=_.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),T;return x==="application/json"?T=yield _.json():x==="application/octet-stream"||x==="application/pdf"?T=yield _.blob():x==="text/event-stream"?T=_:x==="multipart/form-data"?T=yield _.formData():T=yield _.text(),{data:T,error:null,response:_}}catch(c){return{data:null,error:c,response:c instanceof __||c instanceof j_?c.context:void 0}}finally{i&&clearTimeout(i)}})}}var LL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},BL=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let s=null,c=null,d=null,f=i.status,p=i.statusText;if(i.ok){var m,v;if(r.method!=="HEAD"){var y;const _=await i.text();_===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((y=r.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?c=_:c=JSON.parse(_))}const S=(m=r.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),b=(v=i.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");S&&b&&b.length>1&&(d=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(c)&&(c.length>1?(s={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var w;const S=await i.text();try{s=JSON.parse(S),Array.isArray(s)&&i.status===404&&(c=[],s=null,f=200,p="OK")}catch{i.status===404&&S===""?(f=204,p="No Content"):s={message:S}}if(s&&r.isMaybeSingle&&(!(s==null||(w=s.details)===null||w===void 0)&&w.includes("0 rows"))&&(s=null,f=200,p="OK"),s&&r.shouldThrowOnError)throw new LL(s)}return{error:s,data:c,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var s;let c="";const d=i?.cause;if(d){var f,p,m,v;const w=(f=d?.message)!==null&&f!==void 0?f:"",S=(p=d?.code)!==null&&p!==void 0?p:"";c=`${(m=i?.name)!==null&&m!==void 0?m:"FetchError"}: ${i?.message}`,c+=`

Caused by: ${(v=d?.name)!==null&&v!==void 0?v:"Error"}: ${w}`,S&&(c+=` (${S})`),d?.stack&&(c+=`
${d.stack}`)}else{var y;c=(y=i?.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},FL=class extends BL{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var s;const c=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const A_=new RegExp("[,()]");var os=class extends FL{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&A_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&A_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},zL=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},a=r?"HEAD":"GET";let i=!1;const s=(t??"*").split("").map(f=>/\s/.test(f)&&!i?"":(f==='"'&&(i=!i),f)).join(""),{url:c,headers:d}=this.cloneRequestState();return c.searchParams.set("select",s),n&&d.append("Prefer",`count=${n}`),new os({method:a,url:c,headers:d,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:s}=this.cloneRequestState();if(e&&s.append("Prefer",`count=${e}`),r||s.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);i.searchParams.set("columns",d.join(","))}}return new os({method:a,url:i,headers:s,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const s="POST",{url:c,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),n&&d.append("Prefer",`count=${n}`),a||d.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);c.searchParams.set("columns",p.join(","))}}return new os({method:s,url:c,headers:d,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new os({method:n,url:a,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new os({method:r,url:n,headers:a,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},UL=class ON{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new zL(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ON(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){var s;let c;const d=new URL(`${this.url}/rpc/${e}`);let f;const p=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(p)),m=n&&Object.values(r).some(p);m?(c="POST",f=r):n||a?(c=n?"HEAD":"GET",Object.entries(r).filter(([y,w])=>w!==void 0).map(([y,w])=>[y,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([y,w])=>{d.searchParams.append(y,w)})):(c="POST",f=r);const v=new Headers(this.headers);return m?v.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&v.set("Prefer",`count=${i}`),new os({method:c,url:d,headers:v,schema:this.schemaName,body:f,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class qL{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const VL="2.90.1",HL=`realtime-js/${VL}`,CN="1.0.0",WL="2.0.0",O_=CN,pb=1e4,GL=1e3,KL=100;var si;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(si||(si={}));var Jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Jt||(Jt={}));var Ln;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ln||(Ln={}));var mb;(function(t){t.websocket="websocket"})(mb||(mb={}));var Yi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Yi||(Yi={}));class YL{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,r,n){var a,i;const s=e.topic,c=(a=e.ref)!==null&&a!==void 0?a:"",d=(i=e.join_ref)!==null&&i!==void 0?i:"",f=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+s.length+f.length+m.length,y=new ArrayBuffer(this.HEADER_LENGTH+v);let w=new DataView(y),S=0;w.setUint8(S++,this.KINDS.userBroadcastPush),w.setUint8(S++,d.length),w.setUint8(S++,c.length),w.setUint8(S++,s.length),w.setUint8(S++,f.length),w.setUint8(S++,m.length),w.setUint8(S++,r),Array.from(d,_=>w.setUint8(S++,_.charCodeAt(0))),Array.from(c,_=>w.setUint8(S++,_.charCodeAt(0))),Array.from(s,_=>w.setUint8(S++,_.charCodeAt(0))),Array.from(f,_=>w.setUint8(S++,_.charCodeAt(0))),Array.from(m,_=>w.setUint8(S++,_.charCodeAt(0)));var b=new Uint8Array(y.byteLength+n.byteLength);return b.set(new Uint8Array(y),0),b.set(new Uint8Array(n),y.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[a,i,s,c,d]=n;return r({join_ref:a,ref:i,topic:s,event:c,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),a=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,a)}_decodeUserBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),c=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(e.slice(d,d+a));d=d+a;const p=n.decode(e.slice(d,d+i));d=d+i;const m=n.decode(e.slice(d,d+s));d=d+s;const v=e.slice(d,e.byteLength),y=c===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,w={type:this.BROADCAST_EVENT,event:p,payload:y};return s>0&&(w.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class TN{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(bt||(bt={}));const C_=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,s)=>(i[s]=XL(s,t,e,a),i),{}):{}},XL=(t,e,r,n)=>{const a=e.find(c=>c.name===t),i=a?.type,s=r[t];return i&&!n.includes(i)?EN(i,s):vb(s)},EN=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return eB(e,r)}switch(t){case bt.bool:return JL(e);case bt.float4:case bt.float8:case bt.int2:case bt.int4:case bt.int8:case bt.numeric:case bt.oid:return QL(e);case bt.json:case bt.jsonb:return ZL(e);case bt.timestamp:return tB(e);case bt.abstime:case bt.date:case bt.daterange:case bt.int4range:case bt.int8range:case bt.money:case bt.reltime:case bt.text:case bt.time:case bt.timestamptz:case bt.timetz:case bt.tsrange:case bt.tstzrange:return vb(e);default:return vb(e)}},vb=t=>t,JL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},QL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ZL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},eB=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const s=t.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(c=>EN(e,c))}return t},tB=t=>typeof t=="string"?t.replace(" ","T"):t,PN=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Km{constructor(e,r,n={},a=pb){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var T_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(T_||(T_={}));class oc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oc.syncState(this.state,a,i,s),this.pendingDiffs.forEach(d=>{this.state=oc.syncDiff(this.state,d,i,s)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=oc.syncDiff(this.state,a,i,s),c())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),s=this.transformState(r),c={},d={};return this.map(i,(f,p)=>{s[f]||(d[f]=p)}),this.map(s,(f,p)=>{const m=i[f];if(m){const v=p.map(b=>b.presence_ref),y=m.map(b=>b.presence_ref),w=p.filter(b=>y.indexOf(b.presence_ref)<0),S=m.filter(b=>v.indexOf(b.presence_ref)<0);w.length>0&&(c[f]=w),S.length>0&&(d[f]=S)}else c[f]=p}),this.syncDiff(i,{joins:c,leaves:d},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(c,d)=>{var f;const p=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(d),p.length>0){const m=e[c].map(y=>y.presence_ref),v=p.filter(y=>m.indexOf(y.presence_ref)<0);e[c].unshift(...v)}n(c,p,d)}),this.map(s,(c,d)=>{let f=e[c];if(!f)return;const p=d.map(m=>m.presence_ref);f=f.filter(m=>p.indexOf(m.presence_ref)<0),e[c]=f,a(c,f,d),f.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var E_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(E_||(E_={}));var sc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(sc||(sc={}));var ja;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ja||(ja={}));class us{constructor(e,r={config:{}},n){var a,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Km(this,Ln.join,this.params,this.timeout),this.rejoinTimer=new TN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ln.reply,{},(s,c)=>{this._trigger(this._replyEventName(c),s)}),this.presence=new oc(this),this.broadcastEndpointURL=PN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Jt.closed){const{config:{broadcast:s,presence:c,private:d}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[sc.PRESENCE]&&this.bindings[sc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},v={broadcast:s,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(ja.CHANNEL_ERROR,y)),this._onClose(()=>e?.(ja.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e?.(ja.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,b=(w=S?.length)!==null&&w!==void 0?w:0,_=[];for(let A=0;A<b;A++){const x=S[A],{filter:{event:T,schema:C,table:E,filter:P}}=x,R=y&&y[A];if(R&&R.event===T&&us.isFilterValueEqual(R.schema,C)&&us.isFilterValueEqual(R.table,E)&&us.isFilterValueEqual(R.filter,P))_.push(Object.assign(Object.assign({},x),{id:R.id}));else{this.unsubscribe(),this.state=Jt.errored,e?.(ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(ja.SUBSCRIBED);return}}).receive("error",y=>{this.state=Jt.errored,e?.(ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Jt.joined&&e===sc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,c,d;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ln.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Km(this,Ln.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Km(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>KL){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const s=e.toLocaleLowerCase(),{close:c,error:d,leave:f,join:p}=Ln;if(n&&[c,d,f,p].indexOf(s)>=0&&n!==this._joinRef())return;let v=this._onMessage(s,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var w,S,b;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(S=y.filter)===null||S===void 0?void 0:S.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(y=>y.callback(v,n)):(i=this.bindings[s])===null||i===void 0||i.filter(y=>{var w,S,b,_,A,x,T,C;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in y){const E=y.id,P=(w=y.filter)===null||w===void 0?void 0:w.event;return E&&((S=r.ids)===null||S===void 0?void 0:S.includes(E))&&(P==="*"||P?.toLocaleLowerCase()===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((_=y.filter)===null||_===void 0)&&_.table)||y.filter.table===((A=r.data)===null||A===void 0?void 0:A.table))}else{const E=(T=(x=y?.filter)===null||x===void 0?void 0:x.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return E==="*"||E===((C=r?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===s}).map(y=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:S,table:b,commit_timestamp:_,type:A,errors:x}=w;v=Object.assign(Object.assign({},{schema:S,table:b,commit_timestamp:_,eventType:A,new:{},old:{},errors:x}),this._getPayloadRecords(w))}y.callback(v,n)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&us.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ln.close,{},e)}_onError(e){this._on(Ln.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=C_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=C_(e.columns,e.old_record)),r}}const Ym=()=>{},Cd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rB=[1e3,2e3,5e3,1e4],nB=1e4,aB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iB{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pb,this.transport=null,this.heartbeatIntervalMs=Cd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ym,this.ref=0,this.reconnectTimer=null,this.vsn=O_,this.logger=Ym,this.conn=null,this.sendBuffer=[],this.serializer=new YL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${mb.websocket}`,this.httpEndpoint=PN(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case si.connecting:return Yi.Connecting;case si.open:return Yi.Open;case si.closing:return Yi.Closing;default:return Yi.Closed}}isConnected(){return this.connectionState()===Yi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new us(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,s=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(GL,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Cd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",f)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:s}=r,c=s?`(${s})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${c}`.trim(),i),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===si.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===si.open||this.conn.readyState===si.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ln.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([aB],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:HL};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Ln.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new TN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,s,c,d,f,p,m,v,y;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:pb,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Cd.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:Ym,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:O_,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(w=>rB[w-1]||nB),this.vsn){case CN:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((w,S)=>S(JSON.stringify(w))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:((w,S)=>S(JSON.parse(w)));break;case WL:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var gc=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function oB(t,e,r){const n=new URL(e,t);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function sB(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function lB(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:s}){const c=oB(t.baseUrl,n,a),d=await sB(t.auth),f=await e(c,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...d,...s},body:i?JSON.stringify(i):void 0}),p=await f.text(),m=(f.headers.get("content-type")||"").includes("application/json"),v=m&&p?JSON.parse(p):p;if(!f.ok){const y=m?v:void 0,w=y?.error;throw new gc(w?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:w?.type,icebergCode:w?.code,details:y})}return{status:f.status,headers:f.headers,data:v}}}}function Td(t){return t.join("")}var cB=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Td(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Td(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Td(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Td(t.namespace)}`}),!0}catch(e){if(e instanceof gc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof gc&&r.status===409)return;throw r}}};function Go(t){return t.join("")}var uB=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Go(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Go(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Go(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Go(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Go(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Go(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof gc&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof gc&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},dB=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=lB({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new cB(this.client,e),this.tableOps=new uB(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},fh=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Nt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var fB=class extends fh{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},gb=class extends fh{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const ow=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hB=()=>Response,yb=t=>{if(Array.isArray(t))return t.map(r=>yb(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=yb(n)}),e},pB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},mB=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function vB(t,e){if(yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gB(t){var e=vB(t,"string");return yc(e)=="symbol"?e:e+""}function yB(t,e,r){return(e=gB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function We(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P_(Object(r),!0).forEach(function(n){yB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Xm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},bB=async(t,e,r)=>{t instanceof await hB()&&!r?.noResolveJson?t.json().then(n=>{const a=t.status||500,i=n?.statusCode||a+"";e(new fB(Xm(n),a,i))}).catch(n=>{e(new gb(Xm(n),n))}):e(new gb(Xm(t),t))},xB=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!n?a:(pB(n)?(a.headers=We({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,e?.duplex&&(a.duplex=e.duplex),We(We({},a),r))};async function ou(t,e,r,n,a,i){return new Promise((s,c)=>{t(r,xB(e,n,a,i)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>s(d)).catch(d=>bB(d,c,n))})}async function bc(t,e,r,n){return ou(t,"GET",e,r,n)}async function $n(t,e,r,n,a){return ou(t,"POST",e,n,a,r)}async function bb(t,e,r,n,a){return ou(t,"PUT",e,n,a,r)}async function wB(t,e,r,n){return ou(t,"HEAD",e,We(We({},r),{},{noResolveJson:!0}),n)}async function sw(t,e,r,n,a){return ou(t,"DELETE",e,n,a,r)}var SB=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Nt(e))return{data:null,error:e};throw e}}};let kN;kN=Symbol.toStringTag;var jB=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[kN]="BlobDownloadBuilder",this.promise=null}asStream(){return new SB(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Nt(e))return{data:null,error:e};throw e}}};const _B={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var AB=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=ow(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var a=this;try{let i;const s=We(We({},k_),n);let c=We(We({},a.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const d=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),d&&i.append("metadata",a.encodeMetadata(d)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),d&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(d))):(i=r,c["cache-control"]=`max-age=${s.cacheControl}`,c["content-type"]=s.contentType,d&&(c["x-metadata"]=a.toBase64(a.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),n?.headers&&(c=We(We({},c),n.headers));const f=a._removeEmptyFolders(e),p=a._getFinalPath(f),m=await(t=="PUT"?bb:$n)(a.fetch,`${a.url}/object/${p}`,i,We({headers:c},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var a=this;const i=a._removeEmptyFolders(t),s=a._getFinalPath(i),c=new URL(a.url+`/object/upload/sign/${s}`);c.searchParams.set("token",e);try{let d;const f=We({upsert:k_.upsert},n),p=We(We({},a.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{data:{path:i,fullPath:(await bb(a.fetch,c.toString(),d,{headers:p})).Key},error:null}}catch(d){if(a.shouldThrowOnError)throw d;if(Nt(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const a=We({},r.headers);e?.upsert&&(a["x-upsert"]="true");const i=await $n(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(r.url+i.url),c=s.searchParams.get("token");if(!c)throw new fh("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:c},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await $n(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Nt(a))return{data:null,error:a};throw a}}async copy(t,e,r){var n=this;try{return{data:{path:(await $n(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Nt(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,r){var n=this;try{let a=n._getFinalPath(t),i=await $n(n.fetch,`${n.url}/object/sign/${a}`,We({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Nt(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,r){var n=this;try{const a=await $n(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(s=>We(We({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Nt(a))return{data:null,error:a};throw a}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),a=n?`?${n}`:"",i=this._getFinalPath(t),s=()=>bc(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new jB(s,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:yb(await bc(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await wB(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Nt(n)&&n instanceof gb){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],a=e?.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&n.push(a);const i=typeof e?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(e?.transform||{});s!==""&&n.push(s);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${c}`)}}}async remove(t){var e=this;try{return{data:await sw(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const a=We(We(We({},_B),e),{},{prefix:t||""});return{data:await $n(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Nt(a))return{data:null,error:a};throw a}}async listV2(t,e){var r=this;try{const n=We({},t);return{data:await $n(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const NN="2.90.1",IN={"X-Client-Info":`storage-js/${NN}`};var OB=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const a=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=We(We({},IN),e),this.fetch=ow(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await bc(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await bc(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await $n(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await bb(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await $n(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await sw(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},CB=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=We(We({},IN),e),this.fetch=ow(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await $n(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await bc(e.fetch,a,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await sw(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!mB(t))throw new fh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new dB({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const s=a[i];return typeof s!="function"?s:async(...c)=>{try{return{data:await s.apply(a,c),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const lw={"X-Client-Info":`storage-js/${NN}`,"Content-Type":"application/json"};var MN=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function nn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Jm=class extends MN{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},TB=class extends MN{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const cw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),EB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},N_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),PB=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t.status||500,a=t;if(typeof a.json=="function")a.json().then(i=>{const s=i?.statusCode||i?.code||n+"";e(new Jm(N_(i),n,s))}).catch(()=>{const i=n+"";e(new Jm(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";e(new Jm(a.statusText||`HTTP ${n} error`,n,i))}}else e(new TB(N_(t),t))},kB=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return n?(EB(n)?(a.headers=We({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,We(We({},a),r)):a};async function NB(t,e,r,n,a,i){return new Promise((s,c)=>{t(r,kB(e,n,a,i)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>s(d)).catch(d=>PB(d,c,n))})}async function an(t,e,r,n,a){return NB(t,"POST",e,n,a,r)}var IB=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=We(We({},lw),e),this.fetch=cw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await an(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await an(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await an(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await an(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}},MB=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=We(We({},lw),e),this.fetch=cw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await an(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await an(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await an(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await an(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await an(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}}},RB=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=We(We({},lw),e),this.fetch=cw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await an(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await an(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await an(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await an(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}}},DB=class extends RB{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new $B(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},$B=class extends IB{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,We(We({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,We(We({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new LB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},LB=class extends MB{constructor(t,e,r,n,a){super(t,e,a),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,We(We({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,We(We({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,We(We({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,We(We({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,We(We({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},BB=class extends OB{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new AB(this.url,this.headers,t,this.fetch)}get vectors(){return new DB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new CB(this.url+"/iceberg",this.headers,this.fetch)}};const RN="2.90.1",ss=30*1e3,xb=3,Qm=xb*ss,FB="http://localhost:9999",zB="supabase.auth.token",UB={"X-Client-Info":`gotrue-js/${RN}`},wb="X-Supabase-Api-Version",DN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,VB=600*1e3;class xc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Be(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class HB extends xc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function WB(t){return Be(t)&&t.name==="AuthApiError"}class Xi extends xc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Da extends xc{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Qr extends Da{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GB(t){return Be(t)&&t.name==="AuthSessionMissingError"}class Ko extends Da{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ed extends Da{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pd extends Da{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function KB(t){return Be(t)&&t.name==="AuthImplicitGrantRedirectError"}class I_ extends Da{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class YB extends Da{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Sb extends Da{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Zm(t){return Be(t)&&t.name==="AuthRetryableFetchError"}class M_ extends Da{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class jb extends Da{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const rf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),R_=` 	
\r=`.split(""),XB=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<R_.length;e+=1)t[R_[e].charCodeAt(0)]=-2;for(let e=0;e<rf.length;e+=1)t[rf[e].charCodeAt(0)]=e;return t})();function D_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(rf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(rf[n]),e.queuedBits-=6}}function $N(t,e,r){const n=XB[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $_(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{ZB(s,n,r)};for(let s=0;s<t.length;s+=1)$N(t.charCodeAt(s),a,i);return e.join("")}function JB(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function QB(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}JB(n,e)}}function ZB(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function vs(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)$N(t.charCodeAt(a),r,n);return new Uint8Array(e)}function eF(t){const e=[];return QB(t,r=>e.push(r)),new Uint8Array(e)}function Zi(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>D_(a,r,n)),D_(null,r,n),e.join("")}function tF(t){return Math.round(Date.now()/1e3)+t}function rF(){return Symbol("auth-callback")}const mr=()=>typeof window<"u"&&typeof document<"u",Fi={tested:!1,writable:!1},LN=()=>{if(!mr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fi.tested)return Fi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Fi.tested=!0,Fi.writable=!0}catch{Fi.tested=!0,Fi.writable=!1}return Fi.writable};function nF(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const BN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aF=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ls=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},zi=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pr=async(t,e)=>{await t.removeItem(e)};class hh{constructor(){this.promise=new hh.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}hh.promiseConstructor=Promise;function ev(t){const e=t.split(".");if(e.length!==3)throw new jb("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!qB.test(e[n]))throw new jb("JWT not in base64url format");return{header:JSON.parse($_(e[0])),payload:JSON.parse($_(e[1])),signature:vs(e[2]),raw:{header:e[0],payload:e[1]}}}async function iF(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function oF(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){n(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function sF(t){return("0"+t.toString(16)).substr(-2)}function lF(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,sF).join("")}async function cF(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function uF(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await cF(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yo(t,e,r=!1){const n=lF();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ls(t,`${e}-code-verifier`,a);const i=await uF(n);return[i,n===i?"plain":"s256"]}const dF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fF(t){const e=t.headers.get(wb);if(!e||!e.match(dF))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function hF(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pF(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xo(t){if(!mF.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tv(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vF(t,e){return new Proxy(t,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,a)}})}function L_(t){return JSON.parse(JSON.stringify(t))}const Hi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gF=[502,503,504];async function B_(t){var e;if(!aF(t))throw new Sb(Hi(t),0);if(gF.includes(t.status))throw new Sb(Hi(t),t.status);let r;try{r=await t.json()}catch(i){throw new Xi(Hi(i),i)}let n;const a=fF(t);if(a&&a.getTime()>=DN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new M_(Hi(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Qr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new M_(Hi(r),t.status,r.weak_password.reasons);throw new HB(Hi(r),t.status||500,n)}const yF=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function He(t,e,r,n){var a;const i=Object.assign({},n?.headers);i[wb]||(i[wb]=DN["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(s.redirect_to=n.redirectTo);const c=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",d=await bF(t,e,r+c,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function bF(t,e,r,n,a,i){const s=yF(e,n,a,i);let c;try{c=await t(r,Object.assign({},s))}catch(d){throw console.error(d),new Sb(Hi(d),0)}if(c.ok||await B_(c),n?.noResolveJson)return c;try{return await c.json()}catch(d){await B_(d)}}function Dn(t){var e;let r=null;SF(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=tF(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function F_(t){const e=Dn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ui(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function xF(t){return{data:t,error:null}}function wF(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,s=dh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},s);return{data:{properties:c,user:d},error:null}}function z_(t){return t}function SF(t){return t.access_token&&t.refresh_token&&t.expires_in}const rv=["global","local","others"];class jF{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=BN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=rv[0]){if(rv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rv.join(", ")}`);try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ui})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=dh(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:wF,redirectTo:r?.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ui})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,s,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:z_});if(p.error)throw p.error;const m=await p.json(),v=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,y=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);f[`${b}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Be(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Xo(e);try{return await He(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ui})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Xo(e);try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ui})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Xo(e);try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ui})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Xo(e.userId);try{const{data:r,error:n}=await He(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Xo(e.userId),Xo(e.id);try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,i,s,c,d;try{const f={nextPage:null,lastPage:0,total:0},p=await He(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:z_});if(p.error)throw p.error;const m=await p.json(),v=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,y=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);f[`${b}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Be(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await He(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await He(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await He(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await He(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await He(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}}function U_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Jo={debug:!!(globalThis&&LN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class FN extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _F extends FN{}async function AF(t,e,r){Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new _F(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Jo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function OF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zN(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function CF(t){return parseInt(t,16)}function TF(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function EF(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:c,requestId:d,resources:f,scheme:p,uri:m,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=zN(t.address),w=p?`${p}://${n}`:n,S=t.statement?`${t.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${y}

${S}`;let _=`URI: ${m}
Version: ${v}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(_+=`
Expiration Time: ${a.toISOString()}`),c&&(_+=`
Not Before: ${c.toISOString()}`),d&&(_+=`
Request ID: ${d}`),f){let A=`
Resources:`;for(const x of f){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);A+=`
- ${x}`}_+=A}return`${b}
${_}`}class Vt extends Error{constructor({message:e,code:r,cause:n,name:a}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class nf extends Vt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function PF({error:t,options:e}){var r,n,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Vt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Vt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Vt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Vt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Vt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Vt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Vt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Vt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(UN(s)){if(i.rp.id!==s)return new Vt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Vt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Vt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function kF({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Vt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Vt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(UN(n)){if(r.rpId!==n)return new Vt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Vt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class NF{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const IF=new NF;function MF(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=dh(t,["challenge","user","excludeCredentials"]),i=vs(e).buffer,s=Object.assign(Object.assign({},r),{id:vs(r.id).buffer}),c=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:vs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function RF(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=dh(t,["challenge","allowCredentials"]),a=vs(e).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const c=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},c),{id:vs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function DF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Zi(new Uint8Array(t.response.attestationObject)),clientDataJSON:Zi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $F(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Zi(new Uint8Array(a.authenticatorData)),clientDataJSON:Zi(new Uint8Array(a.clientDataJSON)),signature:Zi(new Uint8Array(a.signature)),userHandle:a.userHandle?Zi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function UN(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function q_(){var t,e;return!!(mr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function LF(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new nf("Browser returned unexpected credential type",e)}:{data:null,error:new nf("Empty credential response",e)}}catch(e){return{data:null,error:PF({error:e,options:t})}}}async function BF(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new nf("Browser returned unexpected credential type",e)}:{data:null,error:new nf("Empty credential response",e)}}catch(e){return{data:null,error:kF({error:e,options:t})}}}const FF={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},zF={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function af(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(e(s)){const c=n[i];e(c)?n[i]=af(c,s):n[i]=af(s)}else n[i]=s}return n}function UF(t,e){return af(FF,t,e||{})}function qF(t,e){return af(zF,t,e||{})}class VF{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},i){try{const{data:s,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!s)return{data:null,error:c};const d=a??IF.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:f}=s.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(s.webauthn.type){case"create":{const f=UF(s.webauthn.credential_options.publicKey,i?.create),{data:p,error:m}=await LF({publicKey:f,signal:d});return p?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const f=qF(s.webauthn.credential_options.publicKey,i?.request),{data:p,error:m}=await BF(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(s){return Be(s)?{data:null,error:s}:{data:null,error:new Xi("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new xc("rpId is required for WebAuthn authentication")};try{if(!q_())return{data:null,error:new Xi("Browser does not support WebAuthn",null)};const{data:s,error:c}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:c};const{webauthn:d}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(s){return Be(s)?{data:null,error:s}:{data:null,error:new Xi("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new xc("rpId is required for WebAuthn registration")};try{if(!q_())return{data:null,error:new Xi("Browser does not support WebAuthn",null)};const{data:s,error:c}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return d?this._verify({factorId:s.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(s){return Be(s)?{data:null,error:s}:{data:null,error:new Xi("Unexpected error in register",s)}}}}OF();const HF={url:FB,storageKey:zB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:UB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function V_(t,e,r){return await r()}const Qo={};class wc{get jwks(){var e,r;return(r=(e=Qo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Qo[this.storageKey]=Object.assign(Object.assign({},Qo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Qo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Qo[this.storageKey]=Object.assign(Object.assign({},Qo[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},HF),e);if(this.storageKey=i.storageKey,this.instanceID=(r=wc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,wc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&mr()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new jF({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=BN(i.fetch),this.lock=i.lock||V_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&mr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=AF:this.lock=V_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new VF(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:LN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=U_(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=U_(this.memoryStorage)),mr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${RN}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(mr()&&(r=nF(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),mr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),KB(i)){const d=(e=i.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:s,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),await this._saveSession(s),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?this._returnResult({error:r}):this._returnResult({error:new Xi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Dn}),{data:s,error:c}=i;if(c||!s)return this._returnResult({data:{user:null,session:null},error:c});const d=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:p,password:m,options:v}=e;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await Yo(this.storage,this.storageKey)),i=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:m,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:w},xform:Dn})}else if("phone"in e){const{phone:p,password:m,options:v}=e;i=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Dn})}else throw new Ed("You must provide either an email or phone number and a password");const{data:s,error:c}=i;if(c||!s)return await pr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:s,options:c}=e;r=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:F_})}else if("phone"in e){const{phone:i,password:s,options:c}=e;r=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:F_})}else throw new Ed("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Ko;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,i,s,c,d,f,p,m,v;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:S,wallet:b,statement:_,options:A}=e;let x;if(mr())if(typeof b=="object")x=b;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")x=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const T=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href),C=await x.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=zN(C[0]);let P=(n=A?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const M=await x.request({method:"eth_chainId"});P=CF(M)}const R={domain:T.host,address:E,statement:_,uri:T.href,version:"1",chainId:P,nonce:(a=A?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=A?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(c=A?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=A?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=A?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.resources};y=EF(R),w=await x.request({method:"personal_sign",params:[TF(y),E]})}try{const{data:S,error:b}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:w},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Dn});if(b)throw b;if(!S||!S.session||!S.user){const _=new Ko;return this._returnResult({data:{user:null,session:null},error:_})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:b})}catch(S){if(Be(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var r,n,a,i,s,c,d,f,p,m,v,y;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:b,wallet:_,statement:A,options:x}=e;let T;if(mr())if(typeof _=="object")T=_;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))T=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=_}const C=new URL((r=x?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const E=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),A?{statement:A}:null));let P;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")P=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)P=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)w=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),S=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${C.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(n=x?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=x?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((s=x?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((c=x?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((d=x?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((f=x?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((m=(p=x?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...x.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const E=await T.signMessage(new TextEncoder().encode(w),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=E}}try{const{data:b,error:_}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Zi(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Dn});if(_)throw _;if(!b||!b.session||!b.user){const A=new Ko;return this._returnResult({data:{user:null,session:null},error:A})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:_})}catch(b){if(Be(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await zi(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new YB;const{data:i,error:s}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Dn});if(await pr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const c=new Ko;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=e,c=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Dn}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new Ko;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,a,i,s;try{if("email"in e){const{email:c,options:d}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Yo(this.storage,this.storageKey));const{error:m}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:c,options:d}=e,{data:f,error:p}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(s=d?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Ed("You must provide either an email or phone number.")}catch(c){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Be(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:c}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Dn});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");const d=s.session,f=s.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,n,a,i,s;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Yo(this.storage,this.storageKey));const f=await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:xF});return!((i=f.data)===null||i===void 0)&&i.url&&mr()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Be(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Qr;const{error:a}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Be(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:s}=await He(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:s,error:c}=await He(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:c})}throw new Ed("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await zi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Qm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await zi(this.userStorage,this.storageKey+"-user");s?.user?e.user=s.user:e.user=tv()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=vF(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ui}):await this._useSession(async r=>{var n,a,i;const{data:s,error:c}=r;if(c)throw c;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qr}:await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ui})})}catch(r){if(Be(r))return GB(r)&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Qr;const s=a.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await Yo(this.storage,this.storageKey));const{data:f,error:p}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:s.access_token,xform:ui});if(p)throw p;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Be(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qr;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=ev(e.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;i={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:c}=r;if(c)throw c;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Qr;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!mr())throw new Pd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Pd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new I_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new I_("No code detected.");const{data:A,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:c,expires_at:d,token_type:f}=e;if(!i||!c||!s||!f)throw new Pd("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(c);let v=p+m;d&&(v=parseInt(d));const y=v-p;y*1e3<=ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);const w=v-m;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,p);const{data:S,error:b}=await this._getUser(i);if(b)throw b;const _={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:m,expires_at:v,refresh_token:s,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:e.type},error:null})}catch(n){if(Be(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await zi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:c}=await this.admin.signOut(s,e);if(c&&!(WB(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=rF(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Yo(this.storage,this.storageKey,!0));try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,c,d,f,p;const{data:m,error:v}=i;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await He(this.fetch,"GET",y,{headers:this.headers,jwt:(p=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return mr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Be(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:c,token:d,access_token:f,nonce:p}=e,m=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Dn}),{data:v,error:y}=m;return y?this._returnResult({data:{user:null,session:null},error:y}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Ko}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:y}))}catch(a){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await He(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await oF(async a=>(a>0&&await iF(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Dn})),(a,i)=>{const s=200*Math.pow(2,a);return i&&Zm(i)&&Date.now()+s-n<ss})}catch(n){if(this._debug(r,"error",n),Be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),mr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await zi(this.storage,this.storageKey);if(a&&this.userStorage){let s=await zi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await ls(this.userStorage,this.storageKey+"-user",s)),a.user=(e=s?.user)!==null&&e!==void 0?e:tv()}else if(a&&!a.user&&!a.user){const s=await zi(this.storage,this.storageKey+"-user");s&&s?.user?(a.user=s.user,await pr(this.storage,this.storageKey+"-user"),await ls(this.storage,this.storageKey,a)):a.user=tv()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Qm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Qm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),Zm(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:c}=await this._getUser(a.access_token);!c&&s?.user?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Qr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new hh;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Qr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(a,"error",i),Be(i)){const s={data:null,error:i};return Zm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(d){i.push(d)}});if(await Promise.all(s),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await pr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ls(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=L_(a);await ls(this.storage,this.storageKey,i)}else{const a=L_(r);await ls(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pr(this.storage,this.storageKey),await pr(this.storage,this.storageKey+"-code-verifier"),await pr(this.storage,this.storageKey+"-user"),this.userStorage&&await pr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ss);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ss}ms, refresh threshold is ${xb} ticks`),a<=xb&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof FN)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Yo(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(c.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await He(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await He(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?DF(e.webauthn.credential_response):$F(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await He(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await He(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:c}=s;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:MF(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:RF(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r?.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ev(n.access_token);let s=null;i.aal&&(s=i.aal);let c=s;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=i.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await He(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Qr})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Qr});const s=await He(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&mr()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Qr});const s=await He(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&mr()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await He(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Qr})})}catch(e){if(Be(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await He(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qr})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(c=>c.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+VB>a)return n;const{data:i,error:s}=await He(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:y,error:w}=await this.getSession();if(w||!y.session)return this._returnResult({data:null,error:w});n=y.session.access_token}const{header:a,payload:i,signature:s,raw:{header:c,payload:d}}=ev(n);r?.allowExpired||hF(i.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:a,signature:s},error:null}}const p=pF(a.alg),m=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,s,eF(`${c}.${d}`)))throw new jb("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}}wc.nextInstanceID={};const WF=wc,GF="2.90.1";let ec="";typeof Deno<"u"?ec="deno":typeof document<"u"?ec="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ec="react-native":ec="node";const KF={"X-Client-Info":`supabase-js-${ec}/${GF}`},YF={headers:KF},XF={schema:"public"},JF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},QF={};function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function ZF(t,e){if(Sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ez(t){var e=ZF(t,"string");return Sc(e)=="symbol"?e:e+""}function tz(t,e,r){return(e=ez(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(r),!0).forEach(function(n){tz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const rz=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),nz=()=>Headers,az=(t,e,r)=>{const n=rz(r),a=nz();return async(i,s)=>{var c;const d=(c=await e())!==null&&c!==void 0?c:t;let f=new a(s?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),n(i,Rt(Rt({},s),{},{headers:f}))}};function iz(t){return t.endsWith("/")?t:t+"/"}function oz(t,e){var r,n;const{db:a,auth:i,realtime:s,global:c}=t,{db:d,auth:f,realtime:p,global:m}=e,v={db:Rt(Rt({},d),a),auth:Rt(Rt({},f),i),realtime:Rt(Rt({},p),s),storage:{},global:Rt(Rt(Rt({},m),c),{},{headers:Rt(Rt({},(r=m?.headers)!==null&&r!==void 0?r:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function sz(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(iz(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var lz=class extends WF{constructor(t){super(t)}},cz=class{constructor(t,e,r){var n,a;this.supabaseUrl=t,this.supabaseKey=e;const i=sz(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const s=`sb-${i.hostname.split(".")[0]}-auth-token`,c={db:XF,realtime:QF,auth:Rt(Rt({},JF),{},{storageKey:s}),global:YF},d=oz(r??{},c);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=az(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new UL(new URL("rest/v1",i).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new BB(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new $L(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:s,lock:c,debug:d,throwOnError:f},p,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lz({url:this.authUrl.href,headers:Rt(Rt({},v),p),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,flowType:s,lock:c,debug:d,throwOnError:f,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new iB(this.realtimeUrl.href,Rt(Rt({},t),{},{params:Rt(Rt({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const uz=(t,e,r)=>new cz(t,e,r);function dz(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}dz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fz="https://houyyjunihxcagvsbdeh.supabase.co",hz="sb_publishable_zn9Pc6X_26q7z-wAXsuFzQ_X3Nx7Mhh";let qN=null;qN=uz(fz,hz,{auth:{persistSession:!0,autoRefreshToken:!0}});const Kt=qN,ne={AIRCRAFT:"aerogestao_aircraft",COMPONENTS:"aerogestao_components",PARTS:"aerogestao_parts",PART_HISTORY:"aerogestao_part_history",USERS:"aerogestao_users",USER_LICENSES:"aerogestao_user_licenses",MEMBERSHIPS:"aerogestao_memberships",MAINTENANCE_EVENTS:"aerogestao_maintenance_events",MAINTENANCE_SCHEDULES:"aerogestao_maintenance_schedules",FLIGHTS:"aerogestao_flights",FLIGHT_ENTRIES:"aerogestao_flight_entries",TBO_PROVISIONS:"aerogestao_tbo_provisions",EXPENSES:"aerogestao_expenses",REVENUES:"aerogestao_revenues",BANK_ACCOUNTS:"aerogestao_bank_accounts",PAYMENTS:"aerogestao_payments",DOCUMENTS:"aerogestao_documents",BOOKINGS:"aerogestao_bookings",ALERTS:"aerogestao_alerts",FLIGHT_ESTIMATES:"aerogestao_flight_estimates",AIRPORTS:"aerogestao_airports",AUDIT_LOGS:"aerogestao_audit_logs",CONFIG:"aerogestao_config",CURRENT_USER:"aerogestao_current_user",MARGIN_RESERVES:"aerogestao_margin_reserves",MARGIN_RESERVE_MOVEMENTS:"aerogestao_margin_reserve_movements",FINANCIAL_APPLICATIONS:"aerogestao_financial_applications",CASH_INVESTMENTS:"aerogestao_cash_investments",AIRCRAFT_ASSETS:"aerogestao_aircraft_assets",ASSET_INVESTMENTS:"aerogestao_asset_investments",LIQUIDITY_ALERTS:"aerogestao_liquidity_alerts"},be=(t,e)=>{const r=localStorage.getItem(t);return r?JSON.parse(r):e},Oe=(t,e)=>{localStorage.setItem(t,JSON.stringify(e))},Ie=()=>crypto.randomUUID(),W_=t=>new Date(t).toLocaleDateString("pt-BR"),$e=(t,e,r,n,a,i,s)=>{const c=be(ne.AUDIT_LOGS,[]),d={id:Ie(),timestamp:new Date().toISOString(),userId:t,userName:e,action:r,entity:n,entityId:a,changes:i,metadata:s};c.unshift(d),Oe(ne.AUDIT_LOGS,c.slice(0,1e3))},Ut=(t,e)=>{const r=[];return new Set([...Object.keys(t||{}),...Object.keys(e||{})]).forEach(a=>{if(a==="updatedAt"||a==="createdAt")return;const i=t?.[a],s=e?.[a];JSON.stringify(i)!==JSON.stringify(s)&&r.push({field:a,oldValue:i,newValue:s})}),r},U={getAircraft:()=>be(ne.AIRCRAFT,[]),getAircraftById:t=>U.getAircraft().find(e=>e.id===t),saveAircraft:(t,e,r)=>{const n=U.getAircraft(),a=n.find(i=>i.id===t.id);if(a){const i=Ut(a,t),s=n.findIndex(c=>c.id===t.id);t.updatedAt=new Date().toISOString(),n[s]=t,$e(e,r,"update","aircraft",t.id,i)}else t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),t.updatedAt=t.createdAt,n.push(t),$e(e,r,"create","aircraft",t.id,[]);return Oe(ne.AIRCRAFT,n),t},deleteAircraft:(t,e,r)=>{const n=U.getAircraft().filter(a=>a.id!==t);Oe(ne.AIRCRAFT,n),$e(e,r,"delete","aircraft",t,[])},getComponents:t=>{const e=be(ne.COMPONENTS,[]);return t?e.filter(r=>r.aircraftId===t):e},getComponentById:t=>be(ne.COMPONENTS,[]).find(e=>e.id===t),saveComponent:(t,e,r)=>{const n=be(ne.COMPONENTS,[]),a=n.find(i=>i.id===t.id);if(a){const i=Ut(a,t),s=n.findIndex(c=>c.id===t.id);n[s]=t,$e(e,r,"update","component",t.id,i)}else t.id=t.id||Ie(),n.push(t),$e(e,r,"create","component",t.id,[]);return Oe(ne.COMPONENTS,n),t},deleteComponent:(t,e,r)=>{const n=be(ne.COMPONENTS,[]).filter(a=>a.id!==t);Oe(ne.COMPONENTS,n),$e(e,r,"delete","component",t,[])},getParts:t=>{const e=be(ne.PARTS,[]);return t?e.filter(r=>r.aircraftId===t):e},getPartById:t=>be(ne.PARTS,[]).find(e=>e.id===t),calculatePartStatus:(t,e)=>{const r=t.alertaPercentual||10,n=e-t.horasUltimaTroca;let a=(t.intervaloHoras||0)-n,i;if(t.intervaloDias&&t.dataUltimaTroca){const c=new Date(t.dataUltimaTroca),d=new Date(c.getTime()+t.intervaloDias*24*60*60*1e3);i=Math.ceil((d.getTime()-Date.now())/(1e3*60*60*24))}let s="ok";if(t.intervaloHoras){const c=t.intervaloHoras*(r/100);a<=0?s="vencido":a<=c&&(s="atencao")}return i!==void 0&&(i<=0&&s!=="vencido"?s="vencido":i<=15&&s==="ok"&&(s="atencao")),{status:s,horasDesdeUltimaTroca:n,horasRestantes:a,diasRestantes:i}},updateAllPartsStatus:t=>{const e=U.getAircraftById(t);if(!e)return[];const r=U.getParts(t),n=e.horasCelula,a=r.map(i=>{const{status:s,horasDesdeUltimaTroca:c,horasRestantes:d,diasRestantes:f}=U.calculatePartStatus(i,n);return{...i,status:s,horasDesdeUltimaTroca:c,horasRestantes:d,diasRestantes:f,updatedAt:new Date().toISOString()}});return Oe(ne.PARTS,be(ne.PARTS,[]).map(i=>a.find(s=>s.id===i.id)||i)),a},savePart:(t,e,r)=>{const n=be(ne.PARTS,[]),a=n.find(s=>s.id===t.id),i=U.getAircraftById(t.aircraftId);if(i){const{status:s,horasDesdeUltimaTroca:c,horasRestantes:d,diasRestantes:f}=U.calculatePartStatus(t,i.horasCelula);t.status=s,t.horasDesdeUltimaTroca=c,t.horasRestantes=d,t.diasRestantes=f}if(a){const s=Ut(a,t),c=n.findIndex(d=>d.id===t.id);t.updatedAt=new Date().toISOString(),n[c]=t,$e(e,r,"update","part",t.id,s)}else t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),t.updatedAt=t.createdAt,t.ativo=t.ativo!==!1,n.push(t),$e(e,r,"create","part",t.id,[]);return Oe(ne.PARTS,n),t},deletePart:(t,e,r)=>{const n=be(ne.PARTS,[]).filter(a=>a.id!==t);Oe(ne.PARTS,n),$e(e,r,"delete","part",t,[])},registerPartReplacement:(t,e,r,n,a,i,s,c,d,f)=>{const p=U.getPartById(t);if(!p)throw new Error("Pea no encontrada");const m={id:Ie(),partId:t,aircraftId:p.aircraftId,data:e,horasAeronave:r,custo:i,fornecedor:s,notaFiscal:c,maintenanceEventId:d,observacoes:f,createdAt:new Date().toISOString(),createdBy:n},v=be(ne.PART_HISTORY,[]);v.push(m),Oe(ne.PART_HISTORY,v),p.horasUltimaTroca=r,p.dataUltimaTroca=e,p.custoUltimaTroca=i,p.fornecedor=s,p.notaFiscal=c,p.historicoManutencaoIds=[...p.historicoManutencaoIds||[],m.id];const y=U.savePart(p,n,a);return $e(n,a,"create","part_replacement",m.id,[],{partId:t,partName:p.nome}),{part:y,history:m}},getPartReplacementHistory:(t,e)=>{let r=be(ne.PART_HISTORY,[]);return t&&(r=r.filter(n=>n.partId===t)),e&&(r=r.filter(n=>n.aircraftId===e)),r.sort((n,a)=>new Date(a.data).getTime()-new Date(n.data).getTime())},getUpcomingReplacements:(t,e=10)=>U.updateAllPartsStatus(t).filter(n=>n.ativo&&n.intervaloHoras).sort((n,a)=>n.status==="vencido"&&a.status!=="vencido"?-1:a.status==="vencido"&&n.status!=="vencido"?1:(n.horasRestantes||0)-(a.horasRestantes||0)).slice(0,e),generatePartAlerts:t=>{const e=U.updateAllPartsStatus(t),r=U.getAircraftById(t);r&&e.forEach(n=>{n.ativo&&(n.status==="vencido"||n.status==="atencao")&&(U.getAlerts(t).find(i=>i.entityId===n.id&&i.tipo==="manutencao"&&!i.dispensado)||U.saveAlert({id:Ie(),tipo:"manutencao",severity:n.status==="vencido"?"critical":"warning",titulo:n.status==="vencido"?"Pea Vencida":"Troca de Pea Prxima",mensagem:`${n.nome} - ${r.prefixo}${n.horasRestantes!==void 0?` (${n.horasRestantes.toFixed(1)}h restantes)`:""}`,aircraftId:t,entityId:n.id,entityType:"part",lido:!1,dispensado:!1,createdAt:new Date().toISOString()}))})},getUsers:()=>be(ne.USERS,[]),getUserById:t=>U.getUsers().find(e=>e.id===t),getUserByEmail:t=>U.getUsers().find(e=>e.email.toLowerCase()===t.toLowerCase()),saveUser:(t,e,r)=>{const n=U.getUsers(),a=n.find(i=>i.id===t.id);if(a){const i=Ut(a,t),s=n.findIndex(c=>c.id===t.id);t.updatedAt=new Date().toISOString(),n[s]=t,e&&r&&$e(e,r,"update","user",t.id,i)}else t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),t.updatedAt=t.createdAt,n.push(t),e&&r&&$e(e,r,"create","user",t.id,[]);return Oe(ne.USERS,n),t},getUserLicenses:t=>{const e=be(ne.USER_LICENSES,[]);return t?e.filter(r=>r.userId===t):e},saveUserLicense:t=>{const e=be(ne.USER_LICENSES,[]),r=e.findIndex(n=>n.id===t.id);return r!==-1?e[r]=t:(t.id=t.id||Ie(),e.push(t)),Oe(ne.USER_LICENSES,e),t},deleteUserLicense:t=>{const e=be(ne.USER_LICENSES,[]).filter(r=>r.id!==t);Oe(ne.USER_LICENSES,e)},getMemberships:t=>{const e=be(ne.MEMBERSHIPS,[]);return t?e.filter(r=>r.aircraftId===t):e},getMembershipsByUser:t=>be(ne.MEMBERSHIPS,[]).filter(e=>e.userId===t),saveMembership:(t,e,r)=>{const n=be(ne.MEMBERSHIPS,[]),a=n.find(i=>i.id===t.id);if(a){const i=Ut(a,t),s=n.findIndex(c=>c.id===t.id);n[s]=t,$e(e,r,"update","membership",t.id,i)}else t.id=t.id||Ie(),n.push(t),$e(e,r,"create","membership",t.id,[]);return Oe(ne.MEMBERSHIPS,n),t},deleteMembership:(t,e,r)=>{const n=be(ne.MEMBERSHIPS,[]).filter(a=>a.id!==t);Oe(ne.MEMBERSHIPS,n),$e(e,r,"delete","membership",t,[])},getMaintenanceEvents:t=>{const e=be(ne.MAINTENANCE_EVENTS,[]);return t?e.filter(r=>r.aircraftId===t):e},saveMaintenanceEvent:(t,e,r,n)=>{const a=be(ne.MAINTENANCE_EVENTS,[]),i=a.find(s=>s.id===t.id);if(i){const s=Ut(i,t),c=a.findIndex(d=>d.id===t.id);a[c]=t,$e(e,r,"update","maintenance_event",t.id,s)}else t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),t.createdBy=e,a.push(t),$e(e,r,"create","maintenance_event",t.id,[]);if(Oe(ne.MAINTENANCE_EVENTS,a),U.updateComponentHoursAfterMaintenance(t),n&&n.length>0){const s=t.pecasTrocadas?.length?t.custo/t.pecasTrocadas.length:t.custo/n.length;n.forEach(c=>{try{U.registerPartReplacement(c,t.data,t.horasAeronave,e,r,s,t.oficina,void 0,t.id,t.observacoes)}catch(d){console.error("Erro ao atualizar pea:",d)}})}return U.updateAllPartsStatus(t.aircraftId),U.generatePartAlerts(t.aircraftId),t},getMaintenanceSchedules:t=>{const e=be(ne.MAINTENANCE_SCHEDULES,[]);return t?e.filter(r=>r.aircraftId===t):e},saveMaintenanceSchedule:(t,e,r)=>{const n=be(ne.MAINTENANCE_SCHEDULES,[]),a=n.find(i=>i.id===t.id);if(a){const i=Ut(a,t),s=n.findIndex(c=>c.id===t.id);n[s]=t,$e(e,r,"update","maintenance_schedule",t.id,i)}else t.id=t.id||Ie(),n.push(t),$e(e,r,"create","maintenance_schedule",t.id,[]);return Oe(ne.MAINTENANCE_SCHEDULES,n),t},deleteMaintenanceSchedule:(t,e,r)=>{const n=be(ne.MAINTENANCE_SCHEDULES,[]).filter(a=>a.id!==t);Oe(ne.MAINTENANCE_SCHEDULES,n),$e(e,r,"delete","maintenance_schedule",t,[])},updateComponentHoursAfterMaintenance:t=>{if(t.componentId&&t.horasComponente!==void 0){const e=U.getComponentById(t.componentId);if(e){e.horasAtuais=t.horasComponente,e.ultimaRevisao=t.data;const r=be(ne.COMPONENTS,[]),n=r.findIndex(a=>a.id===e.id);n!==-1&&(r[n]=e,Oe(ne.COMPONENTS,r))}}},getFlights:t=>{const e=be(ne.FLIGHTS,[]);return t?e.filter(r=>r.aircraftId===t):e},getFlightsByPilot:t=>be(ne.FLIGHTS,[]).filter(e=>e.pilotoId===t||e.copilotoId===t),saveFlight:(t,e,r)=>{const n=be(ne.FLIGHTS,[]),a=n.find(s=>s.id===t.id),i=!a;if(a){const s=Ut(a,t),c=n.findIndex(d=>d.id===t.id);t.updatedAt=new Date().toISOString(),n[c]=t,$e(e,r,"update","flight",t.id,s)}else t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),t.createdBy=e,t.updatedAt=t.createdAt,n.push(t),$e(e,r,"create","flight",t.id,[]);return Oe(ne.FLIGHTS,n),i&&(U.updateAircraftHoursAfterFlight(t),U.updatePilotHoursAfterFlight(t),U.recalculateMaintenanceSchedules(t.aircraftId)),t},deleteFlight:(t,e,r)=>{const n=be(ne.FLIGHTS,[]).filter(a=>a.id!==t);Oe(ne.FLIGHTS,n),$e(e,r,"delete","flight",t,[])},updateAircraftHoursAfterFlight:t=>{const e=U.getAircraftById(t.aircraftId);if(e){e.horasCelula+=t.horasCelula,e.ciclosTotais+=t.ciclos,e.updatedAt=new Date().toISOString();const n=U.getAircraft(),a=n.findIndex(i=>i.id===e.id);a!==-1&&(n[a]=e,Oe(ne.AIRCRAFT,n))}const r=U.getComponents(t.aircraftId);r.forEach(n=>{n.tipo==="motor"?n.horasAtuais+=t.horasMotor:n.tipo==="celula"&&(n.horasAtuais+=t.horasCelula),n.ciclosAtuais!==void 0&&(n.ciclosAtuais+=t.ciclos)}),Oe(ne.COMPONENTS,be(ne.COMPONENTS,[]).map(n=>r.find(a=>a.id===n.id)||n))},updatePilotHoursAfterFlight:t=>{const e=U.getUserById(t.pilotoId);if(e&&(e.horasTotais+=t.tempoVoo,U.saveUser(e)),t.copilotoId){const r=U.getUserById(t.copilotoId);r&&(r.horasTotais+=t.tempoVoo,U.saveUser(r))}},recalculateMaintenanceSchedules:t=>{if(!U.getAircraftById(t))return;const r=U.getMaintenanceSchedules(t);r.forEach(n=>{if(n.trigger==="horas"&&n.intervaloHoras){const a=n.ultimaExecucao?U.getMaintenanceEvents(t).filter(i=>i.data===n.ultimaExecucao).reduce((i,s)=>Math.max(i,s.horasAeronave),0):0;n.proximasHoras=a+n.intervaloHoras}}),Oe(ne.MAINTENANCE_SCHEDULES,be(ne.MAINTENANCE_SCHEDULES,[]).map(n=>r.find(a=>a.id===n.id)||n))},getExpenses:t=>{const e=be(ne.EXPENSES,[]);return t?e.filter(r=>r.aircraftId===t):e},saveExpense:(t,e,r)=>{const n=be(ne.EXPENSES,[]),a=n.find(i=>i.id===t.id);if(a){const i=Ut(a,t),s=n.findIndex(f=>f.id===t.id);n[s]=t,$e(e,r,"update","expense",t.id,i);const d=be(ne.PAYMENTS,[]).filter(f=>f.expenseId!==t.id);Oe(ne.PAYMENTS,d),a.contaBancariaId&&U.updateBankAccountBalance(a.contaBancariaId,a.valor,"revert")}else t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),t.createdBy=e,n.push(t),$e(e,r,"create","expense",t.id,[]);return t.contaBancariaId&&U.updateBankAccountBalance(t.contaBancariaId,t.valor,"subtract"),t.rateioAutomatico?U.createExpenseRateio(t,e,r):t.rateioManual&&t.rateioManual.length>0&&U.createManualRateio(t,e,r),Oe(ne.EXPENSES,n),t},deleteExpense:(t,e,r)=>{const n=be(ne.EXPENSES,[]),a=n.find(s=>s.id===t);a&&a.contaBancariaId&&U.updateBankAccountBalance(a.contaBancariaId,a.valor,"revert");const i=n.filter(s=>s.id!==t);Oe(ne.EXPENSES,i),$e(e,r,"delete","expense",t,[])},createExpenseRateio:(t,e,r)=>{const n=U.getMemberships(t.aircraftId).filter(i=>i.status==="ativo");if(n.length===0)return;const a=t.flightId?be(ne.FLIGHTS,[]).find(i=>i.id===t.flightId):null;n.forEach(i=>{let s=0;if(t.tipo==="fixo"?s=t.valor*(i.cotaPercentual||100/n.length)/100:t.tipo==="variavel"&&a&&a.pilotoId===i.userId&&(s=t.valor),i.descontoPercentual&&(s*=1-i.descontoPercentual/100),i.tetoMensal&&s>i.tetoMensal&&(s=i.tetoMensal),s>0){const c={id:Ie(),expenseId:t.id,memberId:i.userId,aircraftId:t.aircraftId,valor:s,valorOriginal:t.valor,descricao:t.descricao,status:"pendente",dataVencimento:t.dataVencimento||new Date(Date.now()+2592e6).toISOString().split("T")[0],createdAt:new Date().toISOString()},d=be(ne.PAYMENTS,[]);d.push(c),Oe(ne.PAYMENTS,d)}})},createManualRateio:(t,e,r)=>{if(!t.rateioManual||t.rateioManual.length===0)return;const n=be(ne.PAYMENTS,[]);t.rateioManual.forEach(a=>{if(a.valor>0){const i={id:Ie(),expenseId:t.id,memberId:a.memberId,aircraftId:t.aircraftId,valor:a.valor,valorOriginal:t.valor,descricao:t.subVoo?`${t.descricao} (${t.subVoo})`:t.descricao,status:"pendente",dataVencimento:t.dataVencimento||new Date(Date.now()+2592e6).toISOString().split("T")[0],createdAt:new Date().toISOString()};n.push(i)}}),Oe(ne.PAYMENTS,n)},getRevenues:t=>{let e=be(ne.REVENUES,[]);return t&&(e=e.filter(r=>r.aircraftId===t)),e.sort((r,n)=>new Date(n.data).getTime()-new Date(r.data).getTime())},saveRevenue:(t,e,r)=>{const n=be(ne.REVENUES,[]),a=n.find(i=>i.id===t.id);if(a){const i=Ut(a,t),s=n.findIndex(c=>c.id===t.id);n[s]=t,$e(e,r,"update","revenue",t.id,i),a.contaBancariaId&&U.updateBankAccountBalance(a.contaBancariaId,a.valor,"revert")}else t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),t.createdBy=e,n.push(t),$e(e,r,"create","revenue",t.id,[]);return t.contaBancariaId&&U.updateBankAccountBalance(t.contaBancariaId,t.valor,"add"),t.rateioAutomatico?U.createRevenueRateio(t,e,r):t.rateioManual&&t.rateioManual.length>0&&U.createManualRevenueRateio(t,e,r),Oe(ne.REVENUES,n),t},deleteRevenue:(t,e,r)=>{const n=be(ne.REVENUES,[]),a=n.find(s=>s.id===t);a&&a.contaBancariaId&&U.updateBankAccountBalance(a.contaBancariaId,a.valor,"revert");const i=n.filter(s=>s.id!==t);Oe(ne.REVENUES,i),$e(e,r,"delete","revenue",t,[])},createRevenueRateio:(t,e,r)=>{const n=U.getMemberships(t.aircraftId).filter(i=>i.status==="ativo");if(n.length===0)return;const a=t.valor/n.length;n.forEach(i=>{const s={id:Ie(),expenseId:void 0,memberId:i.userId,aircraftId:t.aircraftId,valor:a,valorOriginal:t.valor,descricao:t.descricao,status:"pago",dataVencimento:t.data,dataPagamento:t.data,createdAt:new Date().toISOString()},c=be(ne.PAYMENTS,[]);c.push(s),Oe(ne.PAYMENTS,c)})},createManualRevenueRateio:(t,e,r)=>{if(!t.rateioManual||t.rateioManual.length===0)return;const n=be(ne.PAYMENTS,[]);t.rateioManual.forEach(a=>{if(a.valor>0){const i={id:Ie(),expenseId:void 0,memberId:a.memberId,aircraftId:t.aircraftId,valor:a.valor,valorOriginal:t.valor,descricao:t.subVoo?`${t.descricao} (${t.subVoo})`:t.descricao,status:"pago",dataVencimento:t.data,dataPagamento:t.data,createdAt:new Date().toISOString()};n.push(i)}}),Oe(ne.PAYMENTS,n)},getBankAccounts:t=>{let e=be(ne.BANK_ACCOUNTS,[]);return t&&(e=e.filter(r=>r.aircraftId===t)),e.filter(r=>r.ativa)},saveBankAccount:(t,e,r)=>{const n=be(ne.BANK_ACCOUNTS,[]),a=n.find(i=>i.id===t.id);if(a){const i=Ut(a,t),s=n.findIndex(c=>c.id===t.id);n[s]={...t,updatedAt:new Date().toISOString()},$e(e,r,"update","bank_account",t.id,i)}else t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),t.updatedAt=new Date().toISOString(),t.saldoAtual=t.saldoInicial,n.push(t),$e(e,r,"create","bank_account",t.id,[]);return Oe(ne.BANK_ACCOUNTS,n),t},updateBankAccountBalance:(t,e,r)=>{const n=be(ne.BANK_ACCOUNTS,[]);if(!n.find(s=>s.id===t))return;const i=n.findIndex(s=>s.id===t);r==="add"?n[i].saldoAtual+=e:(r==="subtract"||r==="revert")&&(n[i].saldoAtual-=e),n[i].updatedAt=new Date().toISOString(),Oe(ne.BANK_ACCOUNTS,n)},recalculateBankAccountBalance:t=>{const e=be(ne.BANK_ACCOUNTS,[]).find(d=>d.id===t);if(!e)return;const r=U.getExpenses(e.aircraftId).filter(d=>d.contaBancariaId===t),n=U.getRevenues(e.aircraftId).filter(d=>d.contaBancariaId===t),a=r.reduce((d,f)=>d+f.valor,0),i=n.reduce((d,f)=>d+f.valor,0),s=be(ne.BANK_ACCOUNTS,[]),c=s.findIndex(d=>d.id===t);s[c].saldoAtual=e.saldoInicial+i-a,s[c].updatedAt=new Date().toISOString(),Oe(ne.BANK_ACCOUNTS,s)},getPayments:(t,e)=>{let r=be(ne.PAYMENTS,[]);return t&&(r=r.filter(n=>n.memberId===t)),e&&(r=r.filter(n=>n.aircraftId===e)),r},savePayment:(t,e,r)=>{const n=be(ne.PAYMENTS,[]),a=n.find(i=>i.id===t.id);if(a){const i=Ut(a,t),s=n.findIndex(c=>c.id===t.id);n[s]=t,$e(e,r,"update","payment",t.id,i)}else t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),n.push(t),$e(e,r,"create","payment",t.id,[]);return Oe(ne.PAYMENTS,n),t},getMemberBalance:(t,e)=>{const r=U.getFlights(e).filter(d=>d.pilotoId===t||d.copilotoId===t),n=U.getPayments(t,e),a=r.reduce((d,f)=>d+f.tempoVoo,0),i=n.reduce((d,f)=>d+f.valor,0),s=n.filter(d=>d.status==="pago").reduce((d,f)=>d+f.valor,0),c=s-i;return{horasVoadas:a,valorDevido:i,valorPago:s,saldo:c}},getDocuments:(t,e)=>{let r=be(ne.DOCUMENTS,[]);return t&&(r=r.filter(n=>n.aircraftId===t)),e&&(r=r.filter(n=>n.userId===e)),r},saveDocument:(t,e,r)=>{const n=be(ne.DOCUMENTS,[]),a=n.find(i=>i.id===t.id);if(a){const i=Ut(a,t),s=n.findIndex(c=>c.id===t.id);n[s]=t,$e(e,r,"update","document",t.id,i)}else t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),t.createdBy=e,n.push(t),$e(e,r,"create","document",t.id,[]);return Oe(ne.DOCUMENTS,n),t},deleteDocument:(t,e,r)=>{const n=be(ne.DOCUMENTS,[]).filter(a=>a.id!==t);Oe(ne.DOCUMENTS,n),$e(e,r,"delete","document",t,[])},getBookings:t=>{const e=be(ne.BOOKINGS,[]);return t?e.filter(r=>r.aircraftId===t):e},getBookingsByMember:t=>be(ne.BOOKINGS,[]).filter(e=>e.memberId===t),saveBooking:(t,e,r)=>{const n=be(ne.BOOKINGS,[]);if(!t.cancelado&&n.find(s=>s.aircraftId===t.aircraftId&&s.id!==t.id&&!s.cancelado&&new Date(s.dataInicio)<new Date(t.dataFim)&&new Date(s.dataFim)>new Date(t.dataInicio)))throw new Error("Conflito de agendamento detectado");const a=n.find(i=>i.id===t.id);if(a){const i=Ut(a,t),s=n.findIndex(c=>c.id===t.id);n[s]=t,$e(e,r,"update","booking",t.id,i)}else t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),t.createdBy=e,n.push(t),$e(e,r,"create","booking",t.id,[]);return Oe(ne.BOOKINGS,n),t},getAlerts:t=>{const e=be(ne.ALERTS,[]);return t?e.filter(r=>r.aircraftId===t):e},saveAlert:t=>{const e=be(ne.ALERTS,[]);return t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),e.unshift(t),Oe(ne.ALERTS,e.slice(0,500)),t},dismissAlert:t=>{const e=be(ne.ALERTS,[]),r=e.findIndex(n=>n.id===t);r!==-1&&(e[r].dispensado=!0,Oe(ne.ALERTS,e))},markAlertAsRead:t=>{const e=be(ne.ALERTS,[]),r=e.findIndex(n=>n.id===t);r!==-1&&(e[r].lido=!0,Oe(ne.ALERTS,e))},generateAlerts:t=>{const e=U.getConfig(),r=U.getAircraftById(t);if(!r)return;U.getMaintenanceSchedules(t).forEach(i=>{if(!i.ativo)return;let s=!1,c=!1;if(i.trigger==="horas"&&i.proximasHoras){const d=i.proximasHoras-r.horasCelula;s=d<=0,c=d<=(i.alertaAntesHoras||e.alertaManutencaoHoras)}else if(i.trigger==="calendario"&&i.proximaData){const d=Math.ceil((new Date(i.proximaData).getTime()-Date.now())/864e5);s=d<=0,c=d<=(i.alertaAntesDias||e.alertaManutencaoDias)}(s||c)&&(U.getAlerts(t).find(f=>f.entityId===i.id&&f.tipo==="manutencao"&&!f.dispensado)||U.saveAlert({id:Ie(),tipo:"manutencao",severity:s?"critical":"warning",titulo:s?"Manuteno Vencida":"Manuteno Prxima",mensagem:`${i.nome} - ${r.prefixo}`,aircraftId:t,entityId:i.id,entityType:"maintenance_schedule",lido:!1,dispensado:!1,createdAt:new Date().toISOString()}))}),U.getDocuments(t).forEach(i=>{if(!i.dataValidade)return;const s=Math.ceil((new Date(i.dataValidade).getTime()-Date.now())/(1e3*60*60*24)),c=s<=0,d=s<=(i.alertaAntesDias||e.alertaDocumentoDias);(c||d)&&(U.getAlerts(t).find(p=>p.entityId===i.id&&p.tipo==="documento"&&!p.dispensado)||U.saveAlert({id:Ie(),tipo:"documento",severity:c?"critical":"warning",titulo:c?"Documento Vencido":"Documento Prximo do Vencimento",mensagem:`${i.nome} - ${r.prefixo}`,aircraftId:t,entityId:i.id,entityType:"document",dataVencimento:i.dataValidade,lido:!1,dispensado:!1,createdAt:new Date().toISOString()}))})},getFlightEstimates:t=>{const e=be(ne.FLIGHT_ESTIMATES,[]);return t?e.filter(r=>r.aircraftId===t):e},saveFlightEstimate:(t,e,r)=>{const n=be(ne.FLIGHT_ESTIMATES,[]),a=n.find(i=>i.id===t.id);if(a){const i=Ut(a,t),s=n.findIndex(c=>c.id===t.id);n[s]={...t},Oe(ne.FLIGHT_ESTIMATES,n),$e(e,r,"update","flight_estimate",t.id,i)}else t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),t.criadoPor=e,n.push(t),Oe(ne.FLIGHT_ESTIMATES,n),$e(e,r,"create","flight_estimate",t.id,[]);return t},convertEstimateToFlight:(t,e,r)=>{const n=U.getFlightEstimates().find(c=>c.id===t);if(!n||n.convertidoEmVoo)return null;const a={id:Ie(),aircraftId:n.aircraftId,pilotoId:e,data:new Date().toISOString().split("T")[0],origem:n.origem,origemIcao:n.origemIcao,destino:n.destino,destinoIcao:n.destinoIcao,tempoVoo:n.tempoVooEstimado,horasMotor:n.tempoVooEstimado,horasCelula:n.tempoVooEstimado,ciclos:(n.escalas?.length||0)+1,combustivelConsumido:n.combustivelNecessario,estimativaId:n.id,createdAt:new Date().toISOString(),createdBy:e,updatedAt:new Date().toISOString()},i=be(ne.FLIGHT_ESTIMATES,[]),s=i.findIndex(c=>c.id===t);return s!==-1&&(i[s].convertidoEmVoo=!0,i[s].flightId=a.id,Oe(ne.FLIGHT_ESTIMATES,i)),U.saveFlight(a,e,r)},getAirports:()=>be(ne.AIRPORTS,G_()),getAirportByIcao:t=>U.getAirports().find(e=>e.icao.toUpperCase()===t.toUpperCase()),saveAirport:t=>{const e=U.getAirports(),r=e.findIndex(n=>n.icao===t.icao);return r!==-1?e[r]=t:e.push(t),Oe(ne.AIRPORTS,e),t},getAuditLogs:(t,e)=>{let r=be(ne.AUDIT_LOGS,[]);return t&&(r=r.filter(n=>n.entity===t)),e&&(r=r.filter(n=>n.entityId===e)),r},getFlightEntries:t=>{const e=be(ne.FLIGHT_ENTRIES,[]);return t?e.filter(r=>r.aircraftId===t):e},getFlightEntryById:t=>be(ne.FLIGHT_ENTRIES,[]).find(e=>e.id===t),calculateFlightEntryFields:t=>{const e=U.getConfig(),r=e.fatorConversaoLbsLitros||.567,n=(t.combustivelInicial||0)+(t.abastecimentoLibras||0),a=n-(t.combustivelConsumido||0),i=(t.combustivelConsumido||0)*r,s=(t.abastecimentoLibras||0)*r,c=(t.tempoVoo||0)/60,d=e.tboValorPorHora||2800;let f=0,p=0;t.grupo==="grossi"?f=c*d:t.grupo==="shimada"?p=c*d:t.grupo==="grossi_shimada"&&(f=c*d/2,p=c*d/2);const m=(t.valorCombustivel||0)+(t.hangar||0)+(t.alimentacao||0)+(t.hospedagem||0)+(t.limpeza||0)+(t.uberTaxi||0)+(t.tarifas||0)+(t.outras||0)+f+p;return{...t,combustivelDecolagem:n,combustivelFinal:a,combustivelConsumidoLitros:i,abastecimentoLitros:t.abastecimentoLitros!==void 0?t.abastecimentoLitros:s,provisaoTboGrossi:f,provisaoTboShimada:p,total:m}},saveFlightEntry:(t,e,r)=>{const n=be(ne.FLIGHT_ENTRIES,[]),a=n.find(s=>s.id===t.id),i=U.calculateFlightEntryFields(t);if(a){const s=Ut(a,i),c=n.findIndex(d=>d.id===i.id);i.updatedAt=new Date().toISOString(),n[c]=i,$e(e,r,"update","flight_entry",i.id,s)}else i.id=i.id||Ie(),i.createdAt=new Date().toISOString(),i.createdBy=e,i.updatedAt=i.createdAt,n.push(i),$e(e,r,"create","flight_entry",i.id,[]);return Oe(ne.FLIGHT_ENTRIES,n),U.updateTBOProvision(i.aircraftId,i),i},deleteFlightEntry:(t,e,r)=>{const n=be(ne.FLIGHT_ENTRIES,[]).filter(a=>a.id!==t);Oe(ne.FLIGHT_ENTRIES,n),$e(e,r,"delete","flight_entry",t,[])},validateFlightEntry:t=>{const e=[];return t.voo||e.push("Nmero do voo  obrigatrio"),t.data||e.push("Data  obrigatria"),t.origem||e.push("Origem  obrigatria"),t.destino||e.push("Destino  obrigatrio"),(t.combustivelFinal||0)>(t.combustivelDecolagem||0)&&e.push("Combustvel final no pode ser maior que combustvel de decolagem"),(t.combustivelConsumido||0)<0&&e.push("Combustvel consumido no pode ser negativo"),(t.tempoVoo||0)<0&&e.push("Tempo de voo no pode ser negativo"),e},getTBOProvision:t=>be(ne.TBO_PROVISIONS,[]).find(r=>r.aircraftId===t),updateTBOProvision:(t,e)=>{const r=be(ne.TBO_PROVISIONS,[]);let n=r.find(s=>s.aircraftId===t);const a=e.tempoVoo/60,i=e.provisaoTboGrossi+e.provisaoTboShimada;if(n){n.horasAcumuladas+=a,n.valorProvisionadoAcumulado+=i,n.ultimaAtualizacao=new Date().toISOString(),n.custoRealTBO&&(n.diferencaProvisionadoReal=n.valorProvisionadoAcumulado-n.custoRealTBO);const s=r.findIndex(c=>c.aircraftId===t);r[s]=n}else n={id:Ie(),aircraftId:t,valorPorHora:U.getConfig().tboValorPorHora||2800,horasAcumuladas:a,valorProvisionadoAcumulado:i,ultimaAtualizacao:new Date().toISOString()},r.push(n);Oe(ne.TBO_PROVISIONS,r)},saveTBOProvision:t=>{const e=be(ne.TBO_PROVISIONS,[]),r=e.findIndex(n=>n.id===t.id);return r!==-1?e[r]=t:(t.id=t.id||Ie(),e.push(t)),Oe(ne.TBO_PROVISIONS,e),t},getFlightEntriesReport:(t,e)=>{let r=U.getFlightEntries(t);e?.grupo&&(r=r.filter(A=>A.grupo===e.grupo)),e?.dataInicio&&(r=r.filter(A=>A.data>=e.dataInicio)),e?.dataFim&&(r=r.filter(A=>A.data<=e.dataFim)),e?.origem&&(r=r.filter(A=>A.origem.toLowerCase().includes(e.origem.toLowerCase())||A.origemIcao?.toLowerCase().includes(e.origem.toLowerCase()))),e?.destino&&(r=r.filter(A=>A.destino.toLowerCase().includes(e.destino.toLowerCase())||A.destinoIcao?.toLowerCase().includes(e.destino.toLowerCase())));const n=r.reduce((A,x)=>A+x.tempoVoo,0),a=r.reduce((A,x)=>A+x.combustivelConsumido,0),i=r.reduce((A,x)=>A+x.total,0),s=r.reduce((A,x)=>A+x.valorCombustivel,0),c=r.reduce((A,x)=>A+x.hangar,0),d=r.reduce((A,x)=>A+x.alimentacao,0),f=r.reduce((A,x)=>A+x.hospedagem,0),p=r.reduce((A,x)=>A+x.limpeza,0),m=r.reduce((A,x)=>A+x.uberTaxi,0),v=r.reduce((A,x)=>A+x.tarifas,0),y=r.reduce((A,x)=>A+x.outras,0),w=r.reduce((A,x)=>A+x.provisaoTboGrossi,0),S=r.reduce((A,x)=>A+x.provisaoTboShimada,0),b={grossi:r.filter(A=>A.grupo==="grossi"||A.grupo==="grossi_shimada"),shimada:r.filter(A=>A.grupo==="shimada"||A.grupo==="grossi_shimada"),outros:r.filter(A=>A.grupo==="outros")},_=r.reduce((A,x)=>{const T=x.data.substring(0,7);return A[T]||(A[T]={voos:0,horas:0,custos:0}),A[T].voos++,A[T].horas+=x.tempoVoo/60,A[T].custos+=x.total,A},{});return{entries:r,totais:{voos:r.length,horasMinutos:n,horasDecimal:n/60,combustivelLbs:a,custoTotal:i,porCategoria:{combustivel:s,hangar:c,alimentacao:d,hospedagem:f,limpeza:p,uberTaxi:m,tarifas:v,outras:y,tboGrossi:w,tboShimada:S}},porGrupo:b,porMes:_}},getMemberUsageReport:(t,e,r,n)=>{let a=U.getFlights(t).filter(y=>y.data>=e&&y.data<=r);n?.excluirInstrucao&&(a=a.filter(y=>y.tipoVoo!=="instrucao")),n?.excluirTeste&&(a=a.filter(y=>y.tipoVoo!=="teste")),n?.excluirManutencao&&(a=a.filter(y=>y.tipoVoo!=="manutencao"));const i=a.reduce((y,w)=>y+w.tempoVoo,0),s=a.length,c=U.getExpenses(t).filter(y=>a.some(w=>w.despesasIds?.includes(y.id))),d=c.reduce((y,w)=>y+w.valor,0),f=U.getMemberships(t).filter(y=>y.status==="ativo"),p=U.getUsers(),m=f.map(y=>{const w=p.find(x=>x.id===y.userId);if(!w)return null;let S=a.filter(x=>x.rateioHoras&&x.rateioHoras.length>0?x.rateioHoras.some(T=>T.membroId===y.userId):x.responsavelFinanceiro===y.userId||x.pilotoId===y.userId);const b=S.reduce((x,T)=>{if(T.rateioHoras&&T.rateioHoras.length>0){const C=T.rateioHoras.find(E=>E.membroId===y.userId);return x+(C?T.tempoVoo*(C.percentual/100):0)}return x+T.tempoVoo},0),_=i>0?b/i*100:0,A=c.filter(x=>S.some(T=>T.despesasIds?.includes(x.id))).reduce((x,T)=>x+T.valor,0);return{memberId:y.userId,memberName:w.nome,memberRole:w.role,horasVoadas:b,percentualHoras:_,numeroVoos:S.length,custoTotal:A,custoMedioPorHora:b>0?A/b:0,cotaPercentual:y.cotaPercentual,diferencaUsoCota:y.cotaPercentual?_-y.cotaPercentual:void 0}}).filter(Boolean);return[...new Set(a.map(y=>y.pilotoId))].filter(y=>!f.some(w=>w.userId===y)).forEach(y=>{const w=p.find(A=>A.id===y);if(!w)return;const S=a.filter(A=>A.pilotoId===y),b=S.reduce((A,x)=>A+x.tempoVoo,0),_=i>0?b/i*100:0;m.push({memberId:y,memberName:w.nome,memberRole:w.role,horasVoadas:b,percentualHoras:_,numeroVoos:S.length,custoTotal:0,custoMedioPorHora:0})}),m.sort((y,w)=>w.horasVoadas-y.horasVoadas),{periodo:{inicio:e,fim:r,label:`${W_(e)} a ${W_(r)}`},horasTotais:i,voosTotais:s,custoTotal:d,porMembro:m,filtros:n}},getMemberUsageByMonth:(t,e,r)=>{const n=U.getFlights(t).filter(i=>new Date(i.data).getFullYear()===r&&(i.pilotoId===e||i.responsavelFinanceiro===e||i.rateioHoras?.some(c=>c.membroId===e))),a=[];for(let i=0;i<12;i++){const s=`${r}-${String(i+1).padStart(2,"0")}`,c=n.filter(f=>f.data.startsWith(s)),d=c.reduce((f,p)=>{if(p.rateioHoras&&p.rateioHoras.length>0){const m=p.rateioHoras.find(v=>v.membroId===e);return f+(m?p.tempoVoo*(m.percentual/100):0)}return f+p.tempoVoo},0);a.push({mes:s,horas:d,voos:c.length})}return a},getMarginReserve:t=>be(ne.MARGIN_RESERVES,[]).find(r=>r.aircraftId===t),getMarginReserves:()=>be(ne.MARGIN_RESERVES,[]),calculateMarginReserveStatus:t=>{const e=U.getConfig(),r=t.valorMinimoObrigatorio||e.reservaMargemMinima||2e5;return t.excedente=t.saldoAtual-r,t.percentualPreenchimento=t.saldoAtual/r*100,t.saldoAtual<r?t.status="risco_liquidez":t.percentualPreenchimento<110?t.status="atencao":t.status="normal",t},saveMarginReserve:(t,e,r)=>{const n=be(ne.MARGIN_RESERVES,[]),a=n.find(s=>s.id===t.id),i=U.calculateMarginReserveStatus(t);if(a){const s=Ut(a,i),c=n.findIndex(d=>d.id===i.id);i.updatedAt=new Date().toISOString(),n[c]=i,$e(e,r,"update","margin_reserve",i.id,s)}else i.id=i.id||Ie(),i.createdAt=new Date().toISOString(),i.updatedAt=i.createdAt,n.push(i),$e(e,r,"create","margin_reserve",i.id,[]);return Oe(ne.MARGIN_RESERVES,n),U.checkAndGenerateLiquidityAlerts(i),i},initializeMarginReserve:(t,e,r)=>{const n=U.getConfig(),a={id:Ie(),aircraftId:t,valorMinimoObrigatorio:n.reservaMargemMinima||2e5,saldoAtual:0,status:"risco_liquidez",excedente:-(n.reservaMargemMinima||2e5),percentualPreenchimento:0,diasAbaixoMinimo:0,saldoMedio30Dias:0,ultimaAtualizacao:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return U.saveMarginReserve(a,e,r)},getMarginReserveMovements:(t,e)=>{let r=be(ne.MARGIN_RESERVE_MOVEMENTS,[]);return t&&(r=r.filter(n=>n.reserveId===t)),e&&(r=r.filter(n=>n.aircraftId===e)),r.sort((n,a)=>new Date(a.data).getTime()-new Date(n.data).getTime())},saveMarginReserveMovement:(t,e,r)=>{if(t.tipo==="uso_emergencial"&&!t.justificativa)throw new Error("Uso emergencial requer justificativa obrigatria");const n=U.getMarginReserve(t.aircraftId);if(!n)throw new Error("Reserva de margem no encontrada");t.saldoAnterior=n.saldoAtual,n.saldoAtual+=t.valor,t.saldoApos=n.saldoAtual;const a=be(ne.MARGIN_RESERVE_MOVEMENTS,[]);t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),t.createdBy=e,a.push(t),Oe(ne.MARGIN_RESERVE_MOVEMENTS,a),n.ultimaAtualizacao=new Date().toISOString();const i=U.saveMarginReserve(n,e,r);return t.tipo==="uso_emergencial"?$e(e,r,"create","emergency_reserve_use",t.id,[],{valor:t.valor,justificativa:t.justificativa,saldoApos:t.saldoApos}):$e(e,r,"create","margin_reserve_movement",t.id,[]),{movement:t,reserve:i}},registerSocioAporte:(t,e,r,n,a,i)=>{const s=U.getMarginReserve(t);if(!s)throw new Error("Reserva de margem no encontrada");const c=U.getUserById(e),d={id:Ie(),reserveId:s.id,aircraftId:t,tipo:"aporte",valor:Math.abs(r),saldoAnterior:s.saldoAtual,saldoApos:0,socioId:e,data:new Date().toISOString().split("T")[0],observacoes:i||`Aporte de ${c?.nome||e}`,createdAt:new Date().toISOString(),createdBy:n};return U.saveMarginReserveMovement(d,n,a)},registerEmergencyUse:(t,e,r,n,a,i)=>{const s=U.getUserById(n);if(!s||s.role!=="admin")throw new Error("Apenas administradores podem fazer uso emergencial da reserva");const c=U.getMarginReserve(t);if(!c)throw new Error("Reserva de margem no encontrada");const d={id:Ie(),reserveId:c.id,aircraftId:t,tipo:"uso_emergencial",valor:-Math.abs(e),saldoAnterior:c.saldoAtual,saldoApos:0,justificativa:r,aprovadoPor:n,data:new Date().toISOString().split("T")[0],observacoes:i,createdAt:new Date().toISOString(),createdBy:n};return U.saveMarginReserveMovement(d,n,a)},checkAndGenerateLiquidityAlerts:t=>{const e=be(ne.LIQUIDITY_ALERTS,[]).filter(r=>r.aircraftId===t.aircraftId&&r.ativo);if(e.forEach(r=>{r.ativo=!1,r.resolvidoEm=new Date().toISOString()}),t.status==="risco_liquidez"){const r={id:Ie(),aircraftId:t.aircraftId,tipo:t.excedente<-5e4?"reserva_critica":"reserva_baixa",severity:t.excedente<-5e4?"critical":"warning",titulo:t.excedente<-5e4?"RISCO CRTICO DE LIQUIDEZ":"Reserva de Margem Baixa",mensagem:`Reserva atual: R$ ${t.saldoAtual.toLocaleString("pt-BR")} | Mnimo: R$ ${t.valorMinimoObrigatorio.toLocaleString("pt-BR")} | Dficit: R$ ${Math.abs(t.excedente).toLocaleString("pt-BR")}`,valorAtual:t.saldoAtual,valorMinimo:t.valorMinimoObrigatorio,deficit:Math.abs(t.excedente),ativo:!0,createdAt:new Date().toISOString()};e.push(r),U.saveAlert({id:Ie(),tipo:"financeiro",severity:r.severity,titulo:r.titulo,mensagem:r.mensagem,aircraftId:t.aircraftId,entityId:t.id,entityType:"margin_reserve",lido:!1,dispensado:!1,createdAt:new Date().toISOString()})}Oe(ne.LIQUIDITY_ALERTS,e)},getLiquidityAlerts:t=>{let e=be(ne.LIQUIDITY_ALERTS,[]);return t&&(e=e.filter(r=>r.aircraftId===t)),e.sort((r,n)=>new Date(n.createdAt).getTime()-new Date(r.createdAt).getTime())},getLiquidityReport:t=>{const e=U.getMarginReserve(t),r=U.getMarginReserveMovements(void 0,t),n=new Date(Date.now()-720*60*60*1e3),a=r.filter(f=>new Date(f.data)>=n);let i=e?.saldoAtual||0;a.length>0&&(i=a.reduce((f,p)=>f+p.saldoApos,0)/a.length);const s=r.filter(f=>{const p=e?.valorMinimoObrigatorio||2e5;return f.saldoApos<p&&new Date(f.data)>=n}).length,c=r.find(f=>f.tipo==="aporte"),d=r.find(f=>f.tipo==="uso_emergencial");return{reserve:e,movements:r,saldoMedio:i,diasAbaixoMinimo:s,ultimoAporte:c,ultimoUsoEmergencial:d}},getFinancialApplications:(t,e)=>{let r=be(ne.FINANCIAL_APPLICATIONS,[]);return t&&(r=r.filter(n=>n.aircraftId===t)),e&&(r=r.filter(n=>n.reserveId===e)),r.sort((n,a)=>new Date(a.dataAplicacao).getTime()-new Date(n.dataAplicacao).getTime())},saveFinancialApplication:(t,e,r)=>{const n=be(ne.FINANCIAL_APPLICATIONS,[]),a=n.find(i=>i.id===t.id);if(a){const i=Ut(a,t),s=n.findIndex(c=>c.id===t.id);n[s]={...t,updatedAt:new Date().toISOString()},$e(e,r,"update","financial_application",t.id,i)}else t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),t.updatedAt=new Date().toISOString(),t.createdBy=e,n.push(t),$e(e,r,"create","financial_application",t.id,[]);return Oe(ne.FINANCIAL_APPLICATIONS,n),t},deleteFinancialApplication:(t,e,r)=>{const a=be(ne.FINANCIAL_APPLICATIONS,[]).filter(i=>i.id!==t);Oe(ne.FINANCIAL_APPLICATIONS,a),$e(e,r,"delete","financial_application",t,[])},calculateApplicationYield:(t,e)=>{const r=e?new Date(e):new Date,n=new Date(t.dataAplicacao),a=Math.max(0,Math.floor((r.getTime()-n.getTime())/(1e3*60*60*24))),i=t.taxaRendimento/100,s=t.valorAplicado*i*(a/365);let c=.2;a<=180?c=.15:a<=360&&(c=.175);const d=s*c,f=s-d,p=t.valorAplicado+f,m=f/t.valorAplicado*100;return{diasDecorridos:a,rendimentoBruto:s,rendimentoLiquido:f,valorAtual:p,rendimentoPercentual:m}},getTotalApplicationYield:t=>{const e=U.getFinancialApplications(t).filter(a=>a.ativa);let r=0,n=0;return e.forEach(a=>{r+=a.valorAplicado;const i=U.calculateApplicationYield(a);n+=i.rendimentoLiquido}),{totalAplicado:r,totalRendimento:n,valorAtual:r+n,aplicacoes:e}},getCashInvestments:(t,e)=>{let r=be(ne.CASH_INVESTMENTS,[]);return t&&(r=r.filter(n=>n.aircraftId===t)),e&&(r=r.filter(n=>n.status===e)),r.sort((n,a)=>new Date(a.startDate).getTime()-new Date(n.startDate).getTime())},saveCashInvestment:(t,e,r)=>{const n=be(ne.CASH_INVESTMENTS,[]),a=n.find(i=>i.id===t.id);if((!t.estimatedFinalValue||t.estimatedFinalValue===0)&&(t.estimatedFinalValue=t.principal*1.1),a){const i=Ut(a,t),s=n.findIndex(c=>c.id===t.id);t.updatedAt=new Date().toISOString(),n[s]=t,$e(e,r,"update","cash_investment",t.id,i)}else if(t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),t.updatedAt=new Date().toISOString(),t.userId=e,n.push(t),$e(e,r,"create","cash_investment",t.id,[]),!t.isSimulation&&t.cashAccountId){const i={id:Ie(),aircraftId:t.aircraftId,categoria:"outros",tipo:"variavel",descricao:`Aplicao Financeira - ${t.investmentType}`,valor:t.principal,moeda:"BRL",data:t.startDate,contaBancariaId:t.cashAccountId,rateioAutomatico:!1,observacoes:`Aplicao ID: ${t.id}`,createdAt:new Date().toISOString(),createdBy:e};U.saveExpense(i,e,r)}return Oe(ne.CASH_INVESTMENTS,n),t},redeemCashInvestment:(t,e,r,n)=>{const a=be(ne.CASH_INVESTMENTS,[]),i=a.find(c=>c.id===t);if(!i)throw new Error("Aplicao no encontrada");if(i.status!=="ACTIVE")throw new Error("Aplicao no est ativa");i.status="REDEEMED",i.realizedFinalValue=e,i.redeemedAt=new Date().toISOString(),i.redeemedBy=r,i.updatedAt=new Date().toISOString();const s=a.findIndex(c=>c.id===t);if(a[s]=i,Oe(ne.CASH_INVESTMENTS,a),!i.isSimulation&&i.cashAccountId){const c={id:Ie(),aircraftId:i.aircraftId,categoria:"aplicacao_financeira",descricao:`Resgate de Aplicao - ${i.investmentType}`,valor:e,moeda:"BRL",data:new Date().toISOString().split("T")[0],contaBancariaId:i.cashAccountId,rateioAutomatico:!1,observacoes:`Resgate da aplicao ID: ${i.id}. VP: ${i.principal}, VF: ${e}`,createdAt:new Date().toISOString(),createdBy:r};U.saveRevenue(c,r,n)}return $e(r,n,"update","cash_investment",t,[{field:"status",oldValue:"ACTIVE",newValue:"REDEEMED"},{field:"realizedFinalValue",oldValue:void 0,newValue:e}]),i},deleteCashInvestment:(t,e,r)=>{const a=be(ne.CASH_INVESTMENTS,[]).filter(i=>i.id!==t);Oe(ne.CASH_INVESTMENTS,a),$e(e,r,"delete","cash_investment",t,[])},getAvailableCash:(t,e)=>{const r=U.getBankAccounts(t);if(e){const n=r.find(a=>a.id===e);return n?n.saldoAtual:0}return r.reduce((n,a)=>n+a.saldoAtual,0)},getAircraftAssets:t=>{const e=be(ne.AIRCRAFT_ASSETS,[]);return t?e.filter(r=>r.aircraftId===t):e},getAircraftAssetById:t=>be(ne.AIRCRAFT_ASSETS,[]).find(e=>e.id===t),calculateAssetPercentual:t=>(t.valorEstimadoTotal>0&&(t.percentualExecucao=t.valorInvestidoAtual/t.valorEstimadoTotal*100),t),saveAircraftAsset:(t,e,r)=>{const n=be(ne.AIRCRAFT_ASSETS,[]),a=n.find(s=>s.id===t.id),i=U.calculateAssetPercentual(t);if(a){const s=Ut(a,i),c=n.findIndex(d=>d.id===i.id);i.updatedAt=new Date().toISOString(),n[c]=i,$e(e,r,"update","aircraft_asset",i.id,s)}else i.id=i.id||Ie(),i.createdAt=new Date().toISOString(),i.createdBy=e,i.updatedAt=i.createdAt,i.valorInvestidoAtual=0,i.percentualExecucao=0,i.participacaoSocios=i.participacaoSocios||[],n.push(i),$e(e,r,"create","aircraft_asset",i.id,[]);return Oe(ne.AIRCRAFT_ASSETS,n),i},deleteAircraftAsset:(t,e,r)=>{const n=be(ne.AIRCRAFT_ASSETS,[]).filter(a=>a.id!==t);Oe(ne.AIRCRAFT_ASSETS,n),$e(e,r,"delete","aircraft_asset",t,[])},getAssetInvestments:(t,e)=>{let r=be(ne.ASSET_INVESTMENTS,[]);return t&&(r=r.filter(n=>n.assetId===t)),e&&(r=r.filter(n=>n.aircraftId===e)),r.sort((n,a)=>new Date(a.data).getTime()-new Date(n.data).getTime())},saveAssetInvestment:(t,e,r)=>{const n=be(ne.ASSET_INVESTMENTS,[]);t.id=t.id||Ie(),t.createdAt=new Date().toISOString(),t.createdBy=e,n.push(t),Oe(ne.ASSET_INVESTMENTS,n);const a=U.getAircraftAssetById(t.assetId);if(!a)throw new Error("Ativo no encontrado");if(a.valorInvestidoAtual+=t.valor,t.rateioPorSocio&&t.rateioPorSocio.length>0){t.rateioPorSocio.forEach(c=>{const d=a.participacaoSocios.findIndex(f=>f.socioId===c.socioId);if(d>=0)a.participacaoSocios[d].valorInvestido+=c.valor;else{const f=U.getUserById(c.socioId);a.participacaoSocios.push({socioId:c.socioId,socioNome:f?.nome||"Desconhecido",percentual:c.percentual,valorInvestido:c.valor})}});const s=a.participacaoSocios.reduce((c,d)=>c+d.valorInvestido,0);a.participacaoSocios.forEach(c=>{c.percentual=c.valorInvestido/s*100})}const i=U.saveAircraftAsset(a,e,r);return $e(e,r,"create","asset_investment",t.id,[],{assetId:a.id,assetName:a.nome,valor:t.valor}),{investment:t,asset:i}},deleteAssetInvestment:(t,e,r)=>{const n=be(ne.ASSET_INVESTMENTS,[]).find(i=>i.id===t);if(n){const i=U.getAircraftAssetById(n.assetId);i&&(i.valorInvestidoAtual-=n.valor,n.rateioPorSocio&&n.rateioPorSocio.forEach(s=>{const c=i.participacaoSocios.findIndex(d=>d.socioId===s.socioId);c>=0&&(i.participacaoSocios[c].valorInvestido-=s.valor)}),U.saveAircraftAsset(i,e,r))}const a=be(ne.ASSET_INVESTMENTS,[]).filter(i=>i.id!==t);Oe(ne.ASSET_INVESTMENTS,a),$e(e,r,"delete","asset_investment",t,[])},getFinancialDashboard:t=>{const e=U.getExpenses(t),r=U.getRevenues(t),n=U.getPayments(void 0,t),a=e.reduce((b,_)=>b+_.valor,0),i=r.reduce((b,_)=>b+_.valor,0),s=n.filter(b=>b.status==="pago").reduce((b,_)=>b+_.valor,0),c=i+s-a,d=U.getMarginReserve(t),f={saldo:d?.saldoAtual||0,minimo:d?.valorMinimoObrigatorio||2e5,excedente:d?.excedente||0,status:d?.status||"risco_liquidez"},p=U.getAircraftAssets(t),m={valorTotal:p.reduce((b,_)=>b+_.valorInvestidoAtual,0),emConstrucao:p.filter(b=>b.status==="em_construcao").reduce((b,_)=>b+_.valorInvestidoAtual,0),concluido:p.filter(b=>b.status==="concluido").reduce((b,_)=>b+_.valorInvestidoAtual,0)},v=c+f.saldo,y=e.filter(b=>{const _=new Date(b.data),A=new Date(Date.now()-2160*60*60*1e3);return _>=A}),w=y.length>0?y.reduce((b,_)=>b+_.valor,0)/3:0,S={liquidezImediata:w>0?c/w:0,coberturaMargem:f.minimo>0?f.saldo/f.minimo*100:0,patrimonioTotal:v+m.valorTotal};return{caixaTotal:v,caixaOperacional:c,reservaMargem:f,patrimonioAtivos:m,indicadores:S}},getPatrimonyBySocio:t=>{const e=U.getMemberships(t).filter(c=>c.status==="ativo"),r=U.getUsers(),n=U.getAircraftAssets(t),a=U.getAircraftById(t),i=a?.custoHora?a.custoHora*500:0;return e.map(c=>{const d=r.find(w=>w.id===c.userId),f=c.cotaPercentual||100/e.length,p=i*(f/100),m=n.reduce((w,S)=>{const b=S.participacaoSocios.find(_=>_.socioId===c.userId);return w+(b?.valorInvestido||0)},0),v=p+m,y=i+n.reduce((w,S)=>w+S.valorInvestidoAtual,0);return{socioId:c.userId,socioNome:d?.nome||"Desconhecido",valorAeronave:p,valorAtivos:m,valorTotal:v,percentualTotal:y>0?v/y*100:0}}).sort((c,d)=>d.valorTotal-c.valorTotal)},getConfig:()=>be(ne.CONFIG,{alertaManutencaoDias:15,alertaManutencaoHoras:10,alertaDocumentoDias:30,alertaPagamentoDias:5,reservaCombustivelMinutos:45,margemSegurancaPercentual:10,moedaPadrao:"BRL",formatoData:"dd/MM/yyyy",formatoHora:"HH:mm",tboValorPorHora:2800,fatorConversaoLbsLitros:.567,reservaMargemMinima:2e5,alertaReservaPercentual:110}),saveConfig:t=>{Oe(ne.CONFIG,t)},getCurrentUser:()=>be(ne.CURRENT_USER,null),setCurrentUser:t=>{Oe(ne.CURRENT_USER,t)},login:t=>{const e=U.getUserByEmail(t);return e&&e.active?(U.setCurrentUser(e),e):null},logout:()=>{U.setCurrentUser(null)},initializeBasicAdmin:()=>{if(U.getUsers().length>0)return;const e={id:Ie(),email:"admin@aerogestao.com",nome:"Administrador",telefone:"",role:"admin",horasTotais:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),active:!0};U.saveUser(e,"system","Sistema");const r={id:Ie(),prefixo:"PP-XXX",modelo:"Aeronave Exemplo",fabricante:"A definir",anoFabricacao:new Date().getFullYear(),numeroSerie:"000000",tipo:"pistao",horasCelula:0,horasMotor:0,ciclosTotais:0,tipoCombustivel:"avgas",unidadeCombustivel:"litros",consumoMedio:40,velocidadeCruzeiro:120,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),active:!0};U.saveAircraft(r,"system","Sistema")},resetAllData:()=>{Object.values(ne).forEach(t=>{localStorage.removeItem(t)})},initializeWithSampleData:()=>{if(U.getUsers().length>0)return;const t=pz(),e={id:Ie(),email:"admin@aerogestao.com",nome:"Administrador",telefone:"(11) 99999-9999",role:"admin",horasTotais:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),active:!0};U.saveUser(e);const r={id:Ie(),email:"grossi@aerogestao.com",nome:"Grossi",telefone:"(34) 99999-0001",role:"cotista",horasTotais:8.5,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),active:!0};U.saveUser(r);const n={id:Ie(),email:"shimada@aerogestao.com",nome:"Shimada",telefone:"(34) 99999-0002",role:"cotista",horasTotais:.65,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),active:!0};U.saveUser(n);const a={id:Ie(),prefixo:"PT-GSS",modelo:"King Air C90GTi",fabricante:"Beechcraft",numeroSerie:"LJ-2145",anoFabricacao:2018,tipo:"turbohelice",baseHangar:"SDCO",consumoMedio:340,velocidadeCruzeiro:260,tipoCombustivel:"jet-a",unidadeCombustivel:"litros",horasCelula:1250,ciclosTotais:2100,custoHora:2800,reservaCombustivel:45,margemSeguranca:10,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),active:!0};U.saveAircraft(a,e.id,e.nome);const i={id:Ie(),aircraftId:a.id,tipo:"motor",serial:"PCE-RD0345",modelo:"PT6A-135A",fabricante:"Pratt & Whitney",limiteTSO:3600,horasAtuais:1250,dataInstalacao:"2018-01-01"};U.saveComponent(i,e.id,e.nome);const s={id:Ie(),aircraftId:a.id,tipo:"motor",serial:"PCE-RD0346",modelo:"PT6A-135A",fabricante:"Pratt & Whitney",limiteTSO:3600,horasAtuais:1250,dataInstalacao:"2018-01-01"};U.saveComponent(s,e.id,e.nome);const c={id:Ie(),aircraftId:a.id,tipo:"helice",serial:"HC-E4A-3D-2345",modelo:"HC-E4A-3D",fabricante:"Hartzell",limiteTSO:6e3,horasAtuais:1250,dataInstalacao:"2018-01-01"};U.saveComponent(c,e.id,e.nome);const d={id:Ie(),aircraftId:a.id,tipo:"helice",serial:"HC-E4A-3D-2346",modelo:"HC-E4A-3D",fabricante:"Hartzell",limiteTSO:6e3,horasAtuais:1250,dataInstalacao:"2018-01-01"};U.saveComponent(d,e.id,e.nome);const f={id:Ie(),aircraftId:a.id,nome:"Inspeo 100h",descricao:"Inspeo peridica de 100 horas",tipo:"inspecao",trigger:"horas",intervaloHoras:100,proximasHoras:1300,alertaAntesHoras:10,obrigatorio:!0,ativo:!0};U.saveMaintenanceSchedule(f,e.id,e.nome);const p={id:Ie(),aircraftId:a.id,nome:"Inspeo Anual",descricao:"Inspeo anual de aeronavegabilidade",tipo:"inspecao",trigger:"calendario",intervaloDias:365,proximaData:"2025-06-15",alertaAntesDias:30,obrigatorio:!0,ativo:!0};U.saveMaintenanceSchedule(p,e.id,e.nome);const m={id:Ie(),userId:r.id,aircraftId:a.id,tipoParticipacao:"cotista",rateioType:"hora_voo",cotaPercentual:50,status:"ativo",dataInicio:"2024-01-01"};U.saveMembership(m,e.id,e.nome);const v={id:Ie(),userId:n.id,aircraftId:a.id,tipoParticipacao:"cotista",rateioType:"hora_voo",cotaPercentual:50,status:"ativo",dataInicio:"2024-01-01"};U.saveMembership(v,e.id,e.nome);const y=x=>{if(!x||x==="")return 0;const T=x.split(":");if(T.length!==2)return 0;const C=parseInt(T[0],10)||0,E=parseInt(T[1],10)||0;return C*60+E};t.forEach(x=>{const T={id:Ie(),aircraftId:a.id,voo:x.voo,subVoo:x.subVoo,data:x.data,grupo:x.grupo,origem:x.origem,destino:x.destino,tempoAcionamentoCorte:y(x.tempoAcionamento),tempoVoo:y(x.tempoVoo),combustivelInicial:x.combustivelInicial,abastecimentoLibras:x.abastecimentoLibras,abastecimentoLitros:x.abastecimentoLitros,localAbastecimento:x.localAbastecimento,combustivelDecolagem:x.combustivelDecolagem,combustivelConsumido:x.combustivelConsumidoLibras,combustivelConsumidoLitros:x.combustivelConsumidoLitros,combustivelFinal:x.combustivelFinal,tipoMedicaoCombustivel:"estimado",valorCombustivel:x.valorCombustivel,hangar:x.hangar,alimentacao:x.alimentacao,hospedagem:x.hospedagem,limpeza:x.limpeza,uberTaxi:x.uberTaxi,tarifas:x.tarifas,outras:x.outras,provisaoTboGrossi:x.provisaoTBOGrossi,provisaoTboShimada:x.provisaoTBOShimada,observacoes:x.observacoes,total:x.valorCombustivel+x.hangar+x.alimentacao+x.hospedagem+x.limpeza+x.uberTaxi+x.tarifas+x.outras+x.provisaoTBOGrossi+x.provisaoTBOShimada,status:"conferido",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:e.id},C=be(ne.FLIGHT_ENTRIES,[]);C.push(T),Oe(ne.FLIGHT_ENTRIES,C)});const w={id:Ie(),aircraftId:a.id,tipo:"aeronavegabilidade",nome:"Certificado de Aeronavegabilidade",descricao:"CA vlido",dataEmissao:"2024-01-15",dataValidade:"2025-01-15",observacoes:"Renovar junto com inspeo anual",createdAt:new Date().toISOString(),createdBy:e.id};U.saveDocument(w,e.id,e.nome);const S={id:Ie(),aircraftId:a.id,tipo:"seguro",nome:"Aplice de Seguro Aeronutico",descricao:"Cobertura completa - Porto Seguro",dataEmissao:"2024-06-01",dataValidade:"2025-06-01",observacoes:"Valor segurado: R$ 3.500.000,00",createdAt:new Date().toISOString(),createdBy:e.id};U.saveDocument(S,e.id,e.nome);const b={id:Ie(),aircraftId:a.id,valorMinimoObrigatorio:2e5,saldoAtual:18e4,status:"atencao",excedente:-2e4,percentualPreenchimento:90,diasAbaixoMinimo:0,saldoMedio30Dias:18e4,ultimaAtualizacao:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};Oe(ne.MARGIN_RESERVES,[b]);const _={id:Ie(),aircraftId:a.id,nome:"Hangar Prprio - Base Patos de Minas",tipo:"imobilizado",status:"em_construcao",descricao:"Construo do hangar prprio na base de Patos de Minas. Previso de concluso: Junho/2025.",dataInicioObra:"2024-03-01",valorEstimadoTotal:8e5,valorInvestidoAtual:45e4,percentualExecucao:56.25,participacaoSocios:[],createdAt:new Date().toISOString(),createdBy:e.id,updatedAt:new Date().toISOString()};Oe(ne.AIRCRAFT_ASSETS,[_]);const A=G_();A.push({icao:"SNPD",nome:"Patos de Minas",cidade:"Patos de Minas",pais:"Brasil",latitude:-18.6728,longitude:-46.4917,elevacao:2815,taxaPouso:50},{icao:"SNPT",nome:"Patrocnio",cidade:"Patrocnio",pais:"Brasil",latitude:-18.9439,longitude:-46.9869,elevacao:3051,taxaPouso:40},{icao:"SBAX",nome:"Arax",cidade:"Arax",pais:"Brasil",latitude:-19.5631,longitude:-46.9639,elevacao:3274,taxaPouso:80},{icao:"SBGO",iata:"GYN",nome:"Santa Genoveva",cidade:"Goinia",pais:"Brasil",latitude:-16.6319,longitude:-49.2206,elevacao:2450,taxaPouso:120},{icao:"SBMK",iata:"MOC",nome:"Montes Claros",cidade:"Montes Claros",pais:"Brasil",latitude:-16.7069,longitude:-43.8189,elevacao:2191,taxaPouso:100}),Oe(ne.AIRPORTS,A)}};function pz(){return[{voo:"",subVoo:"",data:"2024-09-12",grupo:"grossi",origem:"Sorocaba",destino:"Sorocaba",tempoAcionamento:"",tempoVoo:"",combustivelInicial:424,abastecimentoLibras:919,abastecimentoLitros:522,localAbastecimento:"Sorocaba",combustivelDecolagem:1343,combustivelConsumidoLibras:0,combustivelConsumidoLitros:0,combustivelFinal:1343,valorCombustivel:4212.54,hangar:0,alimentacao:0,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:0,outras:0,provisaoTBOGrossi:0,provisaoTBOShimada:0,observacoes:"Abastecimento em Sorocaba 522 lt x 8,07 = R$ 4.212,54 conf. NF 14424 de Petrojet"},{voo:"",subVoo:"",data:"2024-09-30",grupo:"grossi",origem:"Sorocaba",destino:"Sorocaba",tempoAcionamento:"",tempoVoo:"",combustivelInicial:1343,abastecimentoLibras:1227,abastecimentoLitros:697,localAbastecimento:"Sorocaba",combustivelDecolagem:2570,combustivelConsumidoLibras:0,combustivelConsumidoLitros:0,combustivelFinal:2570,valorCombustivel:5359.93,hangar:0,alimentacao:0,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:0,outras:0,provisaoTBOGrossi:0,provisaoTBOShimada:0,observacoes:"Abastecimento em Sorocaba 697 lt x 7,69 = R$ 5.359,93 conf. NF 14571 de Petrojet"},{voo:"GSS0001",subVoo:"GSS-0001",data:"2024-09-26",grupo:"grossi",origem:"Sorocaba",destino:"Patrocnio",tempoAcionamento:"01:30",tempoVoo:"01:15",combustivelInicial:2570,abastecimentoLibras:0,abastecimentoLitros:0,localAbastecimento:"",combustivelDecolagem:2570,combustivelConsumidoLibras:600,combustivelConsumidoLitros:340,combustivelFinal:1970,valorCombustivel:0,hangar:0,alimentacao:0,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:696.8,outras:0,provisaoTBOGrossi:3500,provisaoTBOShimada:0,observacoes:"Tarifas aeronuticas conf. Fatura 5374038 da Infraero"},{voo:"GSS0002",subVoo:"GSS-0001",data:"2024-09-26",grupo:"grossi",origem:"Patrocnio",destino:"Patos",tempoAcionamento:"00:20",tempoVoo:"00:10",combustivelInicial:1970,abastecimentoLibras:0,abastecimentoLitros:0,localAbastecimento:"",combustivelDecolagem:1970,combustivelConsumidoLibras:170,combustivelConsumidoLitros:96,combustivelFinal:1800,valorCombustivel:0,hangar:0,alimentacao:0,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:0,outras:21.53,provisaoTBOGrossi:466.67,provisaoTBOShimada:0,observacoes:"Taxa DECEA de R$ 21,53 conf. DOC 4837363 de DECEA"},{voo:"GSS0003",subVoo:"GSS-0002",data:"2024-10-02",grupo:"grossi",origem:"Patos",destino:"Patrocnio",tempoAcionamento:"00:22",tempoVoo:"00:10",combustivelInicial:1800,abastecimentoLibras:0,abastecimentoLitros:0,localAbastecimento:"",combustivelDecolagem:1800,combustivelConsumidoLibras:150,combustivelConsumidoLitros:85,combustivelFinal:1650,valorCombustivel:0,hangar:0,alimentacao:0,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:0,outras:0,provisaoTBOGrossi:466.67,provisaoTBOShimada:0,observacoes:""},{voo:"GSS0004",subVoo:"GSS-0002",data:"2024-10-02",grupo:"grossi",origem:"Patrocnio",destino:"Montes Claros",tempoAcionamento:"01:13",tempoVoo:"01:01",combustivelInicial:1650,abastecimentoLibras:0,abastecimentoLitros:0,localAbastecimento:"",combustivelDecolagem:1650,combustivelConsumidoLibras:700,combustivelConsumidoLitros:397,combustivelFinal:950,valorCombustivel:0,hangar:1239.27,alimentacao:0,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:0,outras:187.47,provisaoTBOGrossi:2846.67,provisaoTBOShimada:0,observacoes:"Taxas do Decea de comunicao, Hangar 1.239,27 parte da NFS 1568 de Bloco de onze aeroportos"},{voo:"GSS0005",subVoo:"GSS-0002",data:"2024-10-03",grupo:"grossi",origem:"Montes Claros",destino:"Patrocnio",tempoAcionamento:"01:33",tempoVoo:"01:17",combustivelInicial:950,abastecimentoLibras:700,abastecimentoLitros:400,localAbastecimento:"Montes Claros",combustivelDecolagem:1650,combustivelConsumidoLibras:850,combustivelConsumidoLitros:482,combustivelFinal:800,valorCombustivel:4100,hangar:0,alimentacao:0,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:0,outras:0,provisaoTBOGrossi:3593.33,provisaoTBOShimada:0,observacoes:"Abastecimento em Montes Claros 400 lt x 10,25 - R$ 4.100,00 NF 3488 de Saraiva"},{voo:"GSS0006",subVoo:"GSS-0002",data:"2024-10-03",grupo:"grossi",origem:"Patrocnio",destino:"Patos",tempoAcionamento:"00:22",tempoVoo:"00:12",combustivelInicial:800,abastecimentoLibras:0,abastecimentoLitros:0,localAbastecimento:"",combustivelDecolagem:800,combustivelConsumidoLibras:150,combustivelConsumidoLitros:85,combustivelFinal:650,valorCombustivel:0,hangar:0,alimentacao:0,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:0,outras:0,provisaoTBOGrossi:560,provisaoTBOShimada:0,observacoes:"Lembrando que o Consumo  estimado, os marcadores de combustvel no so 100% confiveis."},{voo:"GSS0007",subVoo:"GSS-0003",data:"2024-10-08",grupo:"grossi_shimada",origem:"Patos",destino:"Arax",tempoAcionamento:"00:32",tempoVoo:"00:20",combustivelInicial:614,abastecimentoLibras:1056,abastecimentoLitros:600,localAbastecimento:"Patos",combustivelDecolagem:1670,combustivelConsumidoLibras:240,combustivelConsumidoLitros:136,combustivelFinal:1430,valorCombustivel:3512.34,hangar:0,alimentacao:0,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:0,outras:209.45,provisaoTBOGrossi:466.67,provisaoTBOShimada:466.67,observacoes:"Taxas do Decea de comunicao, Abastecimentos 600,4 lt x 5,85 = R$ 3.512,34 ACAAP"},{voo:"GSS0008",subVoo:"GSS-0003",data:"2024-10-08",grupo:"grossi_shimada",origem:"Arax",destino:"Patos",tempoAcionamento:"00:32",tempoVoo:"00:19",combustivelInicial:1430,abastecimentoLibras:0,abastecimentoLitros:0,localAbastecimento:"",combustivelDecolagem:1430,combustivelConsumidoLibras:230,combustivelConsumidoLitros:130,combustivelFinal:1200,valorCombustivel:0,hangar:0,alimentacao:0,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:0,outras:341.12,provisaoTBOGrossi:443.33,provisaoTBOShimada:443.33,observacoes:"Tarifas aeronuticas conf. Fatura 5378624 da Infraero"},{voo:"GSS0009",subVoo:"GSS-0004",data:"2024-10-16",grupo:"grossi",origem:"Patos",destino:"Patrocnio",tempoAcionamento:"00:24",tempoVoo:"00:12",combustivelInicial:1200,abastecimentoLibras:1e3,abastecimentoLitros:571,localAbastecimento:"Patos",combustivelDecolagem:2200,combustivelConsumidoLibras:150,combustivelConsumidoLitros:85,combustivelFinal:2050,valorCombustivel:3138.3,hangar:1025.42,alimentacao:65.17,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:0,outras:0,provisaoTBOGrossi:560,provisaoTBOShimada:0,observacoes:"Abastecimento Patos 570,6 x 5,50 = R$ 3.138,30"},{voo:"GSS0010",subVoo:"GSS-0004",data:"2024-10-16",grupo:"grossi",origem:"Patrocnio",destino:"Goinia",tempoAcionamento:"01:03",tempoVoo:"00:50",combustivelInicial:2050,abastecimentoLibras:0,abastecimentoLitros:0,localAbastecimento:"",combustivelDecolagem:2050,combustivelConsumidoLibras:450,combustivelConsumidoLitros:255,combustivelFinal:1600,valorCombustivel:0,hangar:0,alimentacao:0,hospedagem:105.14,limpeza:263,uberTaxi:0,tarifas:460.91,outras:0,provisaoTBOGrossi:2333.33,provisaoTBOShimada:0,observacoes:"Taxas do Decea de comunicao, Operao de pouco Conf. NFS 18845 Concessionaria do bloco central"},{voo:"GSS0011",subVoo:"GSS-0004",data:"2024-10-17",grupo:"grossi",origem:"Goinia",destino:"Patrocnio",tempoAcionamento:"00:54",tempoVoo:"00:54",combustivelInicial:1600,abastecimentoLibras:0,abastecimentoLitros:0,localAbastecimento:"",combustivelDecolagem:1600,combustivelConsumidoLibras:500,combustivelConsumidoLitros:283,combustivelFinal:1100,valorCombustivel:0,hangar:0,alimentacao:0,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:0,outras:0,provisaoTBOGrossi:2520,provisaoTBOShimada:0,observacoes:""},{voo:"GSS0012",subVoo:"GSS-0004",data:"2024-10-17",grupo:"grossi",origem:"Patrocnio",destino:"Patos",tempoAcionamento:"00:23",tempoVoo:"00:12",combustivelInicial:1100,abastecimentoLibras:0,abastecimentoLitros:0,localAbastecimento:"",combustivelDecolagem:1100,combustivelConsumidoLibras:150,combustivelConsumidoLitros:85,combustivelFinal:950,valorCombustivel:0,hangar:0,alimentacao:0,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:0,outras:0,provisaoTBOGrossi:560,provisaoTBOShimada:0,observacoes:""},{voo:"GSS0013",subVoo:"GSS-0004",data:"2024-10-17",grupo:"grossi",origem:"Patos",destino:"Goinia",tempoAcionamento:"01:10",tempoVoo:"00:54",combustivelInicial:950,abastecimentoLibras:1503,abastecimentoLitros:854,localAbastecimento:"Patos",combustivelDecolagem:2450,combustivelConsumidoLibras:550,combustivelConsumidoLitros:312,combustivelFinal:1900,valorCombustivel:4697.55,hangar:0,alimentacao:0,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:460.91,outras:0,provisaoTBOGrossi:2520,provisaoTBOShimada:0,observacoes:"Taxas do Decea de comunicao, Abastecimento Patos 854,1 x 5,50 = R$ 4.697,55"},{voo:"GSS0014",subVoo:"GSS-0004",data:"2024-10-17",grupo:"grossi",origem:"Goinia",destino:"Patos",tempoAcionamento:"01:14",tempoVoo:"01:00",combustivelInicial:1900,abastecimentoLibras:0,abastecimentoLitros:0,localAbastecimento:"",combustivelDecolagem:1900,combustivelConsumidoLibras:600,combustivelConsumidoLitros:340,combustivelFinal:1300,valorCombustivel:0,hangar:0,alimentacao:0,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:0,outras:0,provisaoTBOGrossi:2800,provisaoTBOShimada:0,observacoes:""}]}function G_(){return[{icao:"SBSP",iata:"CGH",nome:"Congonhas",cidade:"So Paulo",pais:"Brasil",latitude:-23.6261,longitude:-46.6564,elevacao:2631,taxaPouso:150},{icao:"SBGR",iata:"GRU",nome:"Guarulhos",cidade:"So Paulo",pais:"Brasil",latitude:-23.4356,longitude:-46.4731,elevacao:2459,taxaPouso:200},{icao:"SBRJ",iata:"SDU",nome:"Santos Dumont",cidade:"Rio de Janeiro",pais:"Brasil",latitude:-22.9105,longitude:-43.1631,elevacao:11,taxaPouso:180},{icao:"SBGL",iata:"GIG",nome:"Galeo",cidade:"Rio de Janeiro",pais:"Brasil",latitude:-22.8099,longitude:-43.2505,elevacao:28,taxaPouso:220},{icao:"SBBR",iata:"BSB",nome:"Braslia",cidade:"Braslia",pais:"Brasil",latitude:-15.8711,longitude:-47.9186,elevacao:3479,taxaPouso:180},{icao:"SBCF",iata:"CNF",nome:"Confins",cidade:"Belo Horizonte",pais:"Brasil",latitude:-19.6244,longitude:-43.9719,elevacao:2715,taxaPouso:160},{icao:"SBPA",iata:"POA",nome:"Salgado Filho",cidade:"Porto Alegre",pais:"Brasil",latitude:-29.9944,longitude:-51.1711,elevacao:11,taxaPouso:150},{icao:"SBCT",iata:"CWB",nome:"Afonso Pena",cidade:"Curitiba",pais:"Brasil",latitude:-25.5285,longitude:-49.1758,elevacao:2988,taxaPouso:140},{icao:"SBSV",iata:"SSA",nome:"Salvador",cidade:"Salvador",pais:"Brasil",latitude:-12.9086,longitude:-38.3225,elevacao:64,taxaPouso:160},{icao:"SBRF",iata:"REC",nome:"Recife",cidade:"Recife",pais:"Brasil",latitude:-8.1264,longitude:-34.9236,elevacao:33,taxaPouso:150},{icao:"SBFZ",iata:"FOR",nome:"Fortaleza",cidade:"Fortaleza",pais:"Brasil",latitude:-3.7763,longitude:-38.5326,elevacao:82,taxaPouso:150},{icao:"SBKP",iata:"VCP",nome:"Viracopos",cidade:"Campinas",pais:"Brasil",latitude:-23.0074,longitude:-47.1345,elevacao:2170,taxaPouso:180},{icao:"SBJD",iata:"JDO",nome:"Jundia",cidade:"Jundia",pais:"Brasil",latitude:-23.1817,longitude:-46.9436,elevacao:2484,taxaPouso:80},{icao:"SDCO",nome:"Sorocaba",cidade:"Sorocaba",pais:"Brasil",latitude:-23.4781,longitude:-47.4903,elevacao:2077,taxaPouso:60}]}const VN=N.createContext(void 0),mz=t=>({canManageAircraft:t==="admin"||t==="gestor",canManageMaintenance:t==="admin"||t==="gestor",canManageFinancial:t==="admin"||t==="gestor",canCreateFlights:t==="admin"||t==="gestor"||t==="piloto",canViewReports:!0,canManageUsers:t==="admin"}),kd=(t,e)=>({id:e.id,email:e.email||t.email||"",nome:t.nome||"",telefone:t.telefone||void 0,role:t.role||"cotista",avatar:t.avatar||void 0,horasTotais:Number(t.horas_totais)||0,observacoes:t.observacoes||void 0,createdAt:t.created_at||new Date().toISOString(),updatedAt:t.updated_at||new Date().toISOString(),active:t.active!==!1});function vz({children:t}){const[e,r]=N.useState(null),[n,a]=N.useState(!0);N.useEffect(()=>{if(!Kt){console.warn("Supabase no configurado, usando localStorage como fallback"),!localStorage.getItem("aerogestao_initialized_v3")&&(U.resetAllData(),localStorage.setItem("aerogestao_initialized_v3","true")),U.initializeBasicAdmin();let v=U.getCurrentUser();v||(v=U.login("admin@aerogestao.com")),v&&r(v),a(!1);return}if((async()=>{if(Kt)try{const{data:{session:m},error:v}=await Kt.auth.getSession();if(v){console.error("Erro ao carregar sesso:",v),a(!1);return}if(m?.user&&Kt){const{data:y,error:w}=await Kt.from("user_profiles").select("*").eq("user_id",m.user.id).single();if(w){console.error("Erro ao carregar perfil:",w),a(!1);return}if(y){const S=kd(y,m.user);r(S)}}}catch(m){console.error("Erro ao carregar sesso:",m)}finally{a(!1)}})(),!Kt)return;const{data:{subscription:p}}=Kt.auth.onAuthStateChange(async(m,v)=>{if(m==="SIGNED_OUT"||!v||!Kt){r(null);return}if(v?.user&&Kt){const{data:y}=await Kt.from("user_profiles").select("*").eq("user_id",v.user.id).single();if(y){const w=kd(y,v.user);r(w)}}});return()=>{p.unsubscribe()}},[]);const i=async(f,p)=>{if(!Kt){const m=U.login(f);return m?(r(m),{success:!0}):{success:!1,error:"Email no encontrado"}}try{const{data:m,error:v}=await Kt.auth.signInWithPassword({email:f,password:p});if(v)return{success:!1,error:v.message};if(m.user){const{data:y,error:w}=await Kt.from("user_profiles").select("*").eq("user_id",m.user.id).single();if(w||!y)return{success:!1,error:"Perfil de usurio no encontrado"};const S=kd(y,m.user);return r(S),{success:!0}}return{success:!1,error:"Erro ao fazer login"}}catch(m){return console.error("Erro ao fazer login:",m),{success:!1,error:m.message||"Erro ao fazer login"}}},s=async(f,p,m,v)=>{if(!Kt)return{success:!1,error:"Cadastro no disponvel. Configure o Supabase."};try{const{data:y,error:w}=await Kt.auth.signUp({email:f,password:p});if(w)return{success:!1,error:w.message};if(!y.user)return{success:!1,error:"Erro ao criar usurio"};const{error:S}=await Kt.from("user_profiles").insert({user_id:y.user.id,nome:m,telefone:v||null,role:"cotista",active:!0,horas_totais:0});if(S)return console.error("Erro ao criar perfil:",S),{success:!1,error:"Erro ao criar perfil do usurio: "+S.message};const{data:b,error:_}=await Kt.from("user_profiles").select("*").eq("user_id",y.user.id).single();if(_||!b)return{success:!1,error:"Erro ao buscar perfil criado"};const A=kd(b,y.user);return r(A),{success:!0}}catch(y){return console.error("Erro ao fazer cadastro:",y),{success:!1,error:y.message||"Erro ao fazer cadastro"}}},c=async()=>{if(!Kt){U.logout(),r(null);return}try{await Kt.auth.signOut(),r(null)}catch(f){console.error("Erro ao fazer logout:",f)}},d=e?mz(e.role):{canManageAircraft:!1,canManageMaintenance:!1,canManageFinancial:!1,canCreateFlights:!1,canViewReports:!1,canManageUsers:!1};return o.jsx(VN.Provider,{value:{user:e,isAuthenticated:!!e,isLoading:n,login:i,register:s,logout:c,permissions:d},children:t})}function cr(){const t=N.useContext(VN);if(!t)throw new Error("useAuth must be used dentro de AuthProvider");return t}const HN=N.createContext(void 0);function gz({children:t}){const[e,r]=N.useState([]),[n,a]=N.useState(null),i=()=>{const c=U.getAircraft().filter(d=>d.active);r(c),n&&!c.find(d=>d.id===n.id)?a(c[0]||null):!n&&c.length>0&&a(c[0])};N.useEffect(()=>{i()},[]);const s=c=>{if(c){const d=e.find(f=>f.id===c);a(d||null)}else a(null)};return o.jsx(HN.Provider,{value:{aircrafts:e,selectedAircraft:n,selectAircraft:s,refreshAircrafts:i},children:t})}function Ir(){const t=N.useContext(HN);if(t===void 0)throw new Error("useAircraft must be used within an AircraftProvider");return t}var yz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ke=(t,e)=>{const r=N.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:c="",children:d,...f},p)=>N.createElement("svg",{ref:p,...yz,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${bz(t)}`,c].join(" "),...f},[...e.map(([m,v])=>N.createElement(m,v)),...Array.isArray(d)?d:[d]]));return r.displayName=`${t}`,r};const uw=ke("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Tr=ke("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const xz=ke("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);const wz=ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const ea=ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Nd=ke("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const Sz=ke("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const jc=ke("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const tc=ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const dw=ke("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const jz=ke("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);const di=ke("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const _z=ke("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);const lo=ke("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);const fw=ke("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const of=ke("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Az=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Oz=ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const _b=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Cz=ke("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const _n=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const K_=ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const Tz=ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const vi=ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const su=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const WN=ke("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const nv=ke("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);const Ta=ke("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);const Ys=ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Ji=ke("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);const Ez=ke("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const Pz=ke("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const hw=ke("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Ab=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const GN=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const kz=ke("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const Nz=ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Iz=ke("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const pw=ke("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);const Y_=ke("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const zr=ke("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);const Mz=ke("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const Rz=ke("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);const Dz=ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const ph=ke("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);const X_=ke("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]);const Hr=ke("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);const Zt=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const KN=ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const YN=ke("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const J_=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const mh=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const io=ke("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);const Id=ke("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const Ur=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Ob=ke("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const yi=ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Cb=ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const $z=ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const Lz=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const ia=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Bz=ke("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);const _c=ke("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);const vh=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Fz({children:t}){const{user:e,permissions:r}=cr(),{aircrafts:n,selectedAircraft:a,selectAircraft:i}=Ir(),s=vo(),[c,d]=N.useState(!1),[f,p]=N.useState(!1),m=[{path:"/",icon:Pz,label:"Dashboard",show:!0},{path:"/aeronaves",icon:Hr,label:"Aeronaves",show:r.canManageAircraft},{path:"/catalogo",icon:jz,label:"Catlogo",show:!0},{path:"/lancamentos",icon:Cz,label:"Lanamentos de Voo",show:!0},{path:"/logbook",icon:dw,label:"Logbook",show:!0},{path:"/manutencao",icon:_c,label:"Manuteno",show:!0},{path:"/financeiro",icon:vi,label:"Financeiro",show:!0},{path:"/patrimonio",icon:di,label:"Patrimnio",show:!0},{path:"/documentos",icon:Ta,label:"Documentos",show:!0},{path:"/agenda",icon:lo,label:"Agenda",show:!0},{path:"/estimativa",icon:pw,label:"Estimativa de Voo",show:!0},{path:"/relatorios",icon:jc,label:"Relatrios",show:r.canViewReports},{path:"/relatorios-lancamentos",icon:ph,label:"Relatrios Voos",show:r.canViewReports},{path:"/uso-por-socio",icon:ia,label:"Uso por Scio",show:r.canViewReports},{path:"/usuarios",icon:ia,label:"Usurios",show:r.canManageUsers},{path:"/importacao",icon:Cb,label:"Importao",show:!0},{path:"/configuracoes",icon:mh,label:"Configuraes",show:!0}];return e?o.jsxs("div",{className:"layout",children:[o.jsxs("aside",{className:`sidebar ${c?"open":""}`,children:[o.jsxs("div",{className:"sidebar-header",children:[o.jsxs("div",{className:"logo",children:[o.jsx(Hr,{className:"logo-icon"}),o.jsx("span",{className:"logo-text",children:"AeroGesto"})]}),o.jsx("button",{className:"sidebar-close",onClick:()=>d(!1),children:o.jsx(vh,{size:24})})]}),n.length>0&&o.jsxs("div",{className:"aircraft-selector",children:[o.jsxs("button",{className:"aircraft-selector-btn",onClick:()=>p(!f),children:[o.jsxs("div",{className:"aircraft-info",children:[o.jsx("span",{className:"aircraft-prefix",children:a?.prefixo||"Selecionar"}),o.jsx("span",{className:"aircraft-model",children:a?.modelo||"aeronave"})]}),o.jsx(Az,{className:`chevron ${f?"open":""}`})]}),f&&o.jsx("div",{className:"aircraft-dropdown",children:n.map(v=>o.jsxs("button",{className:`aircraft-option ${a?.id===v.id?"active":""}`,onClick:()=>{i(v.id),p(!1)},children:[o.jsx("span",{className:"aircraft-prefix",children:v.prefixo}),o.jsx("span",{className:"aircraft-model",children:v.modelo})]},v.id))})]}),o.jsx("nav",{className:"sidebar-nav",children:m.filter(v=>v.show).map(v=>{const y=v.icon,w=s.pathname===v.path;return o.jsxs(Jn,{to:v.path,className:`nav-item ${w?"active":""}`,onClick:()=>d(!1),children:[o.jsx(y,{size:20}),o.jsx("span",{children:v.label})]},v.path)})})]}),o.jsxs("div",{className:"main-wrapper",children:[o.jsxs("header",{className:"header",children:[o.jsx("button",{className:"menu-toggle",onClick:()=>d(!0),children:o.jsx(Nz,{size:24})}),o.jsx("div",{className:"header-right",children:o.jsxs("button",{className:"notification-btn",children:[o.jsx(tc,{size:20}),o.jsx("span",{className:"notification-badge",children:"3"})]})})]}),o.jsx("main",{className:"main-content",children:t})]}),c&&o.jsx("div",{className:"sidebar-overlay",onClick:()=>d(!1)})]}):o.jsx(o.Fragment,{children:t})}function me({variant:t="primary",size:e="md",children:r,loading:n=!1,icon:a,className:i="",disabled:s,...c}){return o.jsxs("button",{className:`btn btn-${t} btn-${e} ${n?"loading":""} ${i}`,disabled:s||n,...c,children:[n?o.jsx("span",{className:"btn-spinner"}):a?o.jsx("span",{className:"btn-icon",children:a}):null,o.jsx("span",{className:"btn-text",children:r})]})}const Q=N.forwardRef(({label:t,error:e,hint:r,icon:n,suffix:a,className:i="",...s},c)=>o.jsxs("div",{className:`input-wrapper ${e?"has-error":""} ${i}`,children:[t&&o.jsxs("label",{className:"input-label",children:[t,s.required&&o.jsx("span",{className:"required",children:"*"})]}),o.jsxs("div",{className:"input-container",children:[n&&o.jsx("span",{className:"input-icon",children:n}),o.jsx("input",{ref:c,className:`input ${n?"has-icon":""}`,...s}),a&&o.jsx("span",{className:"input-suffix",children:a})]}),e&&o.jsx("span",{className:"input-error",children:e}),r&&!e&&o.jsx("span",{className:"input-hint",children:r})]}));Q.displayName="Input";function zz(){const{login:t}=cr(),e=go(),[r,n]=N.useState(""),[a,i]=N.useState(""),[s,c]=N.useState(""),[d,f]=N.useState(!1),p=async m=>{m.preventDefault(),c(""),f(!0);try{const v=await t(r,a);v.success?e("/"):c(v.error||"Erro ao fazer login. Verifique suas credenciais.")}catch(v){c(v.message||"Erro ao fazer login. Tente novamente.")}finally{f(!1)}};return o.jsxs("div",{className:"login-page",children:[o.jsxs("div",{className:"login-background",children:[o.jsx("div",{className:"gradient-1"}),o.jsx("div",{className:"gradient-2"}),o.jsx("div",{className:"grid-overlay"})]}),o.jsxs("div",{className:"login-container",children:[o.jsxs("div",{className:"login-card",children:[o.jsxs("div",{className:"login-header",children:[o.jsx("div",{className:"login-logo",children:o.jsx(Hr,{className:"logo-icon"})}),o.jsx("h1",{children:"AeroGesto"}),o.jsx("p",{children:"Sistema de Gesto de Aeronaves Compartilhadas"})]}),o.jsxs("form",{onSubmit:p,className:"login-form",children:[o.jsx(Q,{type:"email",label:"Email",placeholder:"seu@email.com",value:r,onChange:m=>n(m.target.value),icon:o.jsx(GN,{}),required:!0,autoComplete:"email"}),o.jsx(Q,{type:"password",label:"Senha",placeholder:"Digite sua senha",value:a,onChange:m=>i(m.target.value),icon:o.jsx(Ab,{}),required:!0,autoComplete:"current-password"}),s&&o.jsxs("div",{className:"login-error",children:[o.jsx(uw,{size:16}),o.jsx("span",{children:s})]}),o.jsx(me,{type:"submit",loading:d,className:"login-button",children:"Entrar"})]}),o.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:o.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:["No tem uma conta?"," ",o.jsx(Jn,{to:"/cadastro",style:{color:"var(--accent-color)",textDecoration:"none",fontWeight:500},children:"Criar conta"})]})})]}),o.jsxs("div",{className:"login-features",children:[o.jsxs("div",{className:"feature",children:[o.jsx("div",{className:"feature-icon",children:""}),o.jsx("h3",{children:"Dashboard Completo"}),o.jsx("p",{children:"Visualize todas as informaes da sua aeronave em um s lugar"})]}),o.jsxs("div",{className:"feature",children:[o.jsx("div",{className:"feature-icon",children:""}),o.jsx("h3",{children:"Logbook Digital"}),o.jsx("p",{children:"Registre voos com rastreabilidade total"})]}),o.jsxs("div",{className:"feature",children:[o.jsx("div",{className:"feature-icon",children:""}),o.jsx("h3",{children:"Controle de Manuteno"}),o.jsx("p",{children:"Alertas automticos de vencimento por horas e calendrio"})]}),o.jsxs("div",{className:"feature",children:[o.jsx("div",{className:"feature-icon",children:""}),o.jsx("h3",{children:"Rateio Financeiro"}),o.jsx("p",{children:"Distribuio automtica de custos entre cotistas"})]})]})]})]})}function Uz(){const{register:t}=cr(),e=go(),[r,n]=N.useState(""),[a,i]=N.useState(""),[s,c]=N.useState(""),[d,f]=N.useState(""),[p,m]=N.useState(""),[v,y]=N.useState(""),[w,S]=N.useState(!1),b=async _=>{if(_.preventDefault(),y(""),!r.trim()){y("Nome  obrigatrio");return}if(!a.trim()){y("Email  obrigatrio");return}if(s.length<6){y("A senha deve ter pelo menos 6 caracteres");return}if(s!==d){y("As senhas no coincidem");return}S(!0);try{const A=await t(a,s,r,p||void 0);A.success?e("/"):y(A.error||"Erro ao fazer cadastro. Tente novamente.")}catch(A){y(A.message||"Erro ao fazer cadastro. Tente novamente.")}finally{S(!1)}};return o.jsxs("div",{className:"login-page",children:[o.jsxs("div",{className:"login-background",children:[o.jsx("div",{className:"gradient-1"}),o.jsx("div",{className:"gradient-2"}),o.jsx("div",{className:"grid-overlay"})]}),o.jsxs("div",{className:"login-container",children:[o.jsxs("div",{className:"login-card",children:[o.jsxs("div",{className:"login-header",children:[o.jsx("div",{className:"login-logo",children:o.jsx(Hr,{className:"logo-icon"})}),o.jsx("h1",{children:"AeroGesto"}),o.jsx("p",{children:"Criar nova conta"})]}),o.jsxs("form",{onSubmit:b,className:"login-form",children:[o.jsx(Q,{type:"text",label:"Nome completo",placeholder:"Seu nome",value:r,onChange:_=>n(_.target.value),icon:o.jsx(Lz,{}),required:!0,autoComplete:"name"}),o.jsx(Q,{type:"email",label:"Email",placeholder:"seu@email.com",value:a,onChange:_=>i(_.target.value),icon:o.jsx(GN,{}),required:!0,autoComplete:"email"}),o.jsx(Q,{type:"tel",label:"Telefone (opcional)",placeholder:"(00) 00000-0000",value:p,onChange:_=>m(_.target.value),icon:o.jsx(Dz,{}),autoComplete:"tel"}),o.jsx(Q,{type:"password",label:"Senha",placeholder:"Mnimo 6 caracteres",value:s,onChange:_=>c(_.target.value),icon:o.jsx(Ab,{}),required:!0,autoComplete:"new-password"}),o.jsx(Q,{type:"password",label:"Confirmar senha",placeholder:"Digite a senha novamente",value:d,onChange:_=>f(_.target.value),icon:o.jsx(Ab,{}),required:!0,autoComplete:"new-password"}),v&&o.jsxs("div",{className:"login-error",children:[o.jsx(uw,{size:16}),o.jsx("span",{children:v})]}),o.jsx(me,{type:"submit",loading:w,className:"login-button",children:"Criar conta"})]}),o.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:o.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:["J tem uma conta?"," ",o.jsx(Jn,{to:"/login",style:{color:"var(--accent-color)",textDecoration:"none",fontWeight:500},children:"Fazer login"})]})})]}),o.jsxs("div",{className:"login-features",children:[o.jsxs("div",{className:"feature",children:[o.jsx("div",{className:"feature-icon",children:""}),o.jsx("h3",{children:"Dashboard Completo"}),o.jsx("p",{children:"Visualize todas as informaes da sua aeronave em um s lugar"})]}),o.jsxs("div",{className:"feature",children:[o.jsx("div",{className:"feature-icon",children:""}),o.jsx("h3",{children:"Logbook Digital"}),o.jsx("p",{children:"Registre voos com rastreabilidade total"})]}),o.jsxs("div",{className:"feature",children:[o.jsx("div",{className:"feature-icon",children:""}),o.jsx("h3",{children:"Controle de Manuteno"}),o.jsx("p",{children:"Alertas automticos de vencimento por horas e calendrio"})]}),o.jsxs("div",{className:"feature",children:[o.jsx("div",{className:"feature-icon",children:""}),o.jsx("h3",{children:"Rateio Financeiro"}),o.jsx("p",{children:"Distribuio automtica de custos entre cotistas"})]})]})]})]})}function XN(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=XN(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Qe(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=XN(t))&&(n&&(n+=" "),n+=e);return n}var av,Q_;function Wr(){if(Q_)return av;Q_=1;var t=Array.isArray;return av=t,av}var iv,Z_;function JN(){if(Z_)return iv;Z_=1;var t=typeof Ad=="object"&&Ad&&Ad.Object===Object&&Ad;return iv=t,iv}var ov,eA;function ca(){if(eA)return ov;eA=1;var t=JN(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return ov=r,ov}var sv,tA;function lu(){if(tA)return sv;tA=1;var t=ca(),e=t.Symbol;return sv=e,sv}var lv,rA;function qz(){if(rA)return lv;rA=1;var t=lu(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(s){var c=r.call(s,a),d=s[a];try{s[a]=void 0;var f=!0}catch{}var p=n.call(s);return f&&(c?s[a]=d:delete s[a]),p}return lv=i,lv}var cv,nA;function Vz(){if(nA)return cv;nA=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return cv=r,cv}var uv,aA;function $a(){if(aA)return uv;aA=1;var t=lu(),e=qz(),r=Vz(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(c){return c==null?c===void 0?a:n:i&&i in Object(c)?e(c):r(c)}return uv=s,uv}var dv,iA;function La(){if(iA)return dv;iA=1;function t(e){return e!=null&&typeof e=="object"}return dv=t,dv}var fv,oA;function Xs(){if(oA)return fv;oA=1;var t=$a(),e=La(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return fv=n,fv}var hv,sA;function mw(){if(sA)return hv;sA=1;var t=Wr(),e=Xs(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(t(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return hv=a,hv}var pv,lA;function wi(){if(lA)return pv;lA=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return pv=t,pv}var mv,cA;function vw(){if(cA)return mv;cA=1;var t=$a(),e=wi(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(c){if(!e(c))return!1;var d=t(c);return d==n||d==a||d==r||d==i}return mv=s,mv}var vv,uA;function Hz(){if(uA)return vv;uA=1;var t=ca(),e=t["__core-js_shared__"];return vv=e,vv}var gv,dA;function Wz(){if(dA)return gv;dA=1;var t=Hz(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return gv=r,gv}var yv,fA;function QN(){if(fA)return yv;fA=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return yv=r,yv}var bv,hA;function Gz(){if(hA)return bv;hA=1;var t=vw(),e=Wz(),r=wi(),n=QN(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,d=s.toString,f=c.hasOwnProperty,p=RegExp("^"+d.call(f).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!r(v)||e(v))return!1;var y=t(v)?p:i;return y.test(n(v))}return bv=m,bv}var xv,pA;function Kz(){if(pA)return xv;pA=1;function t(e,r){return e?.[r]}return xv=t,xv}var wv,mA;function yo(){if(mA)return wv;mA=1;var t=Gz(),e=Kz();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return wv=r,wv}var Sv,vA;function gh(){if(vA)return Sv;vA=1;var t=yo(),e=t(Object,"create");return Sv=e,Sv}var jv,gA;function Yz(){if(gA)return jv;gA=1;var t=gh();function e(){this.__data__=t?t(null):{},this.size=0}return jv=e,jv}var _v,yA;function Xz(){if(yA)return _v;yA=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return _v=t,_v}var Av,bA;function Jz(){if(bA)return Av;bA=1;var t=gh(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(t){var c=s[i];return c===e?void 0:c}return n.call(s,i)?s[i]:void 0}return Av=a,Av}var Ov,xA;function Qz(){if(xA)return Ov;xA=1;var t=gh(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return Ov=n,Ov}var Cv,wA;function Zz(){if(wA)return Cv;wA=1;var t=gh(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return Cv=r,Cv}var Tv,SA;function e3(){if(SA)return Tv;SA=1;var t=Yz(),e=Xz(),r=Jz(),n=Qz(),a=Zz();function i(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Tv=i,Tv}var Ev,jA;function t3(){if(jA)return Ev;jA=1;function t(){this.__data__=[],this.size=0}return Ev=t,Ev}var Pv,_A;function gw(){if(_A)return Pv;_A=1;function t(e,r){return e===r||e!==e&&r!==r}return Pv=t,Pv}var kv,AA;function yh(){if(AA)return kv;AA=1;var t=gw();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return kv=e,kv}var Nv,OA;function r3(){if(OA)return Nv;OA=1;var t=yh(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var c=i.length-1;return s==c?i.pop():r.call(i,s,1),--this.size,!0}return Nv=n,Nv}var Iv,CA;function n3(){if(CA)return Iv;CA=1;var t=yh();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Iv=e,Iv}var Mv,TA;function a3(){if(TA)return Mv;TA=1;var t=yh();function e(r){return t(this.__data__,r)>-1}return Mv=e,Mv}var Rv,EA;function i3(){if(EA)return Rv;EA=1;var t=yh();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return Rv=e,Rv}var Dv,PA;function bh(){if(PA)return Dv;PA=1;var t=t3(),e=r3(),r=n3(),n=a3(),a=i3();function i(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Dv=i,Dv}var $v,kA;function yw(){if(kA)return $v;kA=1;var t=yo(),e=ca(),r=t(e,"Map");return $v=r,$v}var Lv,NA;function o3(){if(NA)return Lv;NA=1;var t=e3(),e=bh(),r=yw();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Lv=n,Lv}var Bv,IA;function s3(){if(IA)return Bv;IA=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Bv=t,Bv}var Fv,MA;function xh(){if(MA)return Fv;MA=1;var t=s3();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Fv=e,Fv}var zv,RA;function l3(){if(RA)return zv;RA=1;var t=xh();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return zv=e,zv}var Uv,DA;function c3(){if(DA)return Uv;DA=1;var t=xh();function e(r){return t(this,r).get(r)}return Uv=e,Uv}var qv,$A;function u3(){if($A)return qv;$A=1;var t=xh();function e(r){return t(this,r).has(r)}return qv=e,qv}var Vv,LA;function d3(){if(LA)return Vv;LA=1;var t=xh();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return Vv=e,Vv}var Hv,BA;function bw(){if(BA)return Hv;BA=1;var t=o3(),e=l3(),r=c3(),n=u3(),a=d3();function i(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Hv=i,Hv}var Wv,FA;function ZN(){if(FA)return Wv;FA=1;var t=bw(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,c=a?a.apply(this,s):s[0],d=i.cache;if(d.has(c))return d.get(c);var f=n.apply(this,s);return i.cache=d.set(c,f)||d,f};return i.cache=new(r.Cache||t),i}return r.Cache=t,Wv=r,Wv}var Gv,zA;function f3(){if(zA)return Gv;zA=1;var t=ZN(),e=500;function r(n){var a=t(n,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return Gv=r,Gv}var Kv,UA;function h3(){if(UA)return Kv;UA=1;var t=f3(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,c,d,f){i.push(d?f.replace(r,"$1"):c||s)}),i});return Kv=n,Kv}var Yv,qA;function xw(){if(qA)return Yv;qA=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return Yv=t,Yv}var Xv,VA;function p3(){if(VA)return Xv;VA=1;var t=lu(),e=xw(),r=Wr(),n=Xs(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(c){if(typeof c=="string")return c;if(r(c))return e(c,s)+"";if(n(c))return i?i.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return Xv=s,Xv}var Jv,HA;function eI(){if(HA)return Jv;HA=1;var t=p3();function e(r){return r==null?"":t(r)}return Jv=e,Jv}var Qv,WA;function tI(){if(WA)return Qv;WA=1;var t=Wr(),e=mw(),r=h3(),n=eI();function a(i,s){return t(i)?i:e(i,s)?[i]:r(n(i))}return Qv=a,Qv}var Zv,GA;function wh(){if(GA)return Zv;GA=1;var t=Xs();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Zv=e,Zv}var eg,KA;function ww(){if(KA)return eg;KA=1;var t=tI(),e=wh();function r(n,a){a=t(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[e(a[i++])];return i&&i==s?n:void 0}return eg=r,eg}var tg,YA;function rI(){if(YA)return tg;YA=1;var t=ww();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return tg=e,tg}var m3=rI();const sn=st(m3);var rg,XA;function v3(){if(XA)return rg;XA=1;function t(e){return e==null}return rg=t,rg}var g3=v3();const Xe=st(g3);var ng,JA;function y3(){if(JA)return ng;JA=1;var t=$a(),e=Wr(),r=La(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return ng=a,ng}var b3=y3();const co=st(b3);var x3=vw();const Ke=st(x3);var w3=wi();const Js=st(w3);var ag={exports:{}},it={};var QA;function S3(){if(QA)return it;QA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function S(b){if(typeof b=="object"&&b!==null){var _=b.$$typeof;switch(_){case t:switch(b=b.type,b){case r:case a:case n:case f:case p:return b;default:switch(b=b&&b.$$typeof,b){case c:case s:case d:case v:case m:case i:return b;default:return _}}case e:return _}}}return it.ContextConsumer=s,it.ContextProvider=i,it.Element=t,it.ForwardRef=d,it.Fragment=r,it.Lazy=v,it.Memo=m,it.Portal=e,it.Profiler=a,it.StrictMode=n,it.Suspense=f,it.SuspenseList=p,it.isAsyncMode=function(){return!1},it.isConcurrentMode=function(){return!1},it.isContextConsumer=function(b){return S(b)===s},it.isContextProvider=function(b){return S(b)===i},it.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},it.isForwardRef=function(b){return S(b)===d},it.isFragment=function(b){return S(b)===r},it.isLazy=function(b){return S(b)===v},it.isMemo=function(b){return S(b)===m},it.isPortal=function(b){return S(b)===e},it.isProfiler=function(b){return S(b)===a},it.isStrictMode=function(b){return S(b)===n},it.isSuspense=function(b){return S(b)===f},it.isSuspenseList=function(b){return S(b)===p},it.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===a||b===n||b===f||b===p||b===y||typeof b=="object"&&b!==null&&(b.$$typeof===v||b.$$typeof===m||b.$$typeof===i||b.$$typeof===s||b.$$typeof===d||b.$$typeof===w||b.getModuleId!==void 0)},it.typeOf=S,it}var ZA;function j3(){return ZA||(ZA=1,ag.exports=S3()),ag.exports}var _3=j3(),ig,eO;function nI(){if(eO)return ig;eO=1;var t=$a(),e=La(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return ig=n,ig}var og,tO;function A3(){if(tO)return og;tO=1;var t=nI();function e(r){return t(r)&&r!=+r}return og=e,og}var O3=A3();const cu=st(O3);var C3=nI();const T3=st(C3);var Er=function(e){return e===0?0:e>0?1:-1},eo=function(e){return co(e)&&e.indexOf("%")===e.length-1},je=function(e){return T3(e)&&!cu(e)},E3=function(e){return Xe(e)},tr=function(e){return je(e)||co(e)},P3=0,Qs=function(e){var r=++P3;return"".concat(e||"").concat(r)},Pr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&!co(e))return n;var i;if(eo(e)){var s=e.indexOf("%");i=r*parseFloat(e.slice(0,s))/100}else i=+e;return cu(i)&&(i=n),a&&i>r&&(i=r),i},fi=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},k3=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},rn=function(e,r){return je(e)&&je(r)?function(n){return e+n*(r-e)}:function(){return r}};function sf(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):sn(n,e))===r})}var N3=function(e,r){return je(e)&&je(r)?e-r:co(e)&&co(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function gs(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Tb(t){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(t)}var I3=["viewBox","children"],M3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rO=["points","pathLength"],sg={svg:I3,polygon:rO,polyline:rO},Sw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],lf=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),!Js(n))return null;var a={};return Object.keys(n).forEach(function(i){Sw.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},R3=function(e,r,n){return function(a){return e(r,n,a),null}},uo=function(e,r,n){if(!Js(e)||Tb(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];Sw.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=R3(s,r,n))}),a},D3=["children"],$3=["children"];function nO(t,e){if(t==null)return{};var r=L3(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function L3(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Eb(t){"@babel/helpers - typeof";return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(t)}var aO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ea=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},iO=null,lg=null,jw=function t(e){if(e===iO&&Array.isArray(lg))return lg;var r=[];return N.Children.forEach(e,function(n){Xe(n)||(_3.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),lg=r,iO=e,r};function ln(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Ea(a)}):n=[Ea(e)],jw(t).forEach(function(a){var i=sn(a,"type.displayName")||sn(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function tn(t,e){var r=ln(t,e);return r&&r[0]}var oO=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!je(n)||n<=0||!je(a)||a<=0)},B3=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],F3=function(e){return e&&e.type&&co(e.type)&&B3.indexOf(e.type)>=0},z3=function(e){return e&&Eb(e)==="object"&&"clipDot"in e},U3=function(e,r,n,a){var i,s=(i=sg?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ke(e)&&(a&&s.includes(r)||M3.includes(r))||n&&Sw.includes(r)},qe=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(N.isValidElement(e)&&(a=e.props),!Js(a))return null;var i={};return Object.keys(a).forEach(function(s){var c;U3((c=a)===null||c===void 0?void 0:c[s],s,r,n)&&(i[s]=a[s])}),i},Pb=function t(e,r){if(e===r)return!0;var n=N.Children.count(e);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return sO(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!sO(i,s))return!1}return!0},sO=function(e,r){if(Xe(e)&&Xe(r))return!0;if(!Xe(e)&&!Xe(r)){var n=e.props||{},a=n.children,i=nO(n,D3),s=r.props||{},c=s.children,d=nO(s,$3);return a&&c?gs(i,d)&&Pb(a,c):!a&&!c?gs(i,d):!1}return!1},lO=function(e,r){var n=[],a={};return jw(e).forEach(function(i,s){if(F3(i))n.push(i);else if(i){var c=Ea(i.type),d=r[c]||{},f=d.handler,p=d.once;if(f&&(!p||!a[c])){var m=f(i,c,s);n.push(m),a[c]=!0}}}),n},q3=function(e){var r=e&&e.type;return r&&aO[r]?aO[r]:null},V3=function(e,r){return jw(r).indexOf(e)},H3=["children","width","height","viewBox","className","style","title","desc"];function kb(){return kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kb.apply(this,arguments)}function W3(t,e){if(t==null)return{};var r=G3(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G3(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nb(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,s=t.style,c=t.title,d=t.desc,f=W3(t,H3),p=a||{width:r,height:n,x:0,y:0},m=Qe("recharts-surface",i);return G.createElement("svg",kb({},qe(f,!0,"svg"),{className:m,width:r,height:n,style:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),G.createElement("title",null,c),G.createElement("desc",null,d),e)}var K3=["children","className"];function Ib(){return Ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ib.apply(this,arguments)}function Y3(t,e){if(t==null)return{};var r=X3(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X3(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var nt=G.forwardRef(function(t,e){var r=t.children,n=t.className,a=Y3(t,K3),i=Qe("recharts-layer",n);return G.createElement("g",Ib({className:i},qe(a,!0),{ref:e}),r)}),qn=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},cg,cO;function J3(){if(cO)return cg;cO=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+r];return s}return cg=t,cg}var ug,uO;function Q3(){if(uO)return ug;uO=1;var t=J3();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return ug=e,ug}var dg,dO;function aI(){if(dO)return dg;dO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="\\u200d",c=RegExp("["+s+t+a+i+"]");function d(f){return c.test(f)}return dg=d,dg}var fg,fO;function Z3(){if(fO)return fg;fO=1;function t(e){return e.split("")}return fg=t,fg}var hg,hO;function eU(){if(hO)return hg;hO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="["+t+"]",c="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+d+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",w=f+"?",S="["+i+"]?",b="(?:"+y+"(?:"+[p,m,v].join("|")+")"+S+w+")*",_=S+w+b,A="(?:"+[p+c+"?",c,m,v,s].join("|")+")",x=RegExp(d+"(?="+d+")|"+A+_,"g");function T(C){return C.match(x)||[]}return hg=T,hg}var pg,pO;function tU(){if(pO)return pg;pO=1;var t=Z3(),e=aI(),r=eU();function n(a){return e(a)?r(a):t(a)}return pg=n,pg}var mg,mO;function rU(){if(mO)return mg;mO=1;var t=Q3(),e=aI(),r=tU(),n=eI();function a(i){return function(s){s=n(s);var c=e(s)?r(s):void 0,d=c?c[0]:s.charAt(0),f=c?t(c,1).join(""):s.slice(1);return d[i]()+f}}return mg=a,mg}var vg,vO;function nU(){if(vO)return vg;vO=1;var t=rU(),e=t("toUpperCase");return vg=e,vg}var aU=nU();const Sh=st(aU);function wt(t){return function(){return t}}const iI=Math.cos,cf=Math.sin,Hn=Math.sqrt,uf=Math.PI,jh=2*uf,Mb=Math.PI,Rb=2*Mb,Wi=1e-6,iU=Rb-Wi;function oI(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function oU(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return oI;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class sU{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?oI:oU(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,s){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,c=this._y1,d=n-e,f=a-r,p=s-e,m=c-r,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>Wi)if(!(Math.abs(m*d-f*p)>Wi)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let y=n-s,w=a-c,S=d*d+f*f,b=y*y+w*w,_=Math.sqrt(S),A=Math.sqrt(v),x=i*Math.tan((Mb-Math.acos((S+v-b)/(2*_*A)))/2),T=x/A,C=x/_;Math.abs(T-1)>Wi&&this._append`L${e+T*p},${r+T*m}`,this._append`A${i},${i},0,0,${+(m*y>p*w)},${this._x1=e+C*d},${this._y1=r+C*f}`}}arc(e,r,n,a,i,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),f=e+c,p=r+d,m=1^s,v=s?a-i:i-a;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Wi||Math.abs(this._y1-p)>Wi)&&this._append`L${f},${p}`,n&&(v<0&&(v=v%Rb+Rb),v>iU?this._append`A${n},${n},0,1,${m},${e-c},${r-d}A${n},${n},0,1,${m},${this._x1=f},${this._y1=p}`:v>Wi&&this._append`A${n},${n},0,${+(v>=Mb)},${m},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function _w(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new sU(e)}function Aw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sI(t){this._context=t}sI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _h(t){return new sI(t)}function lI(t){return t[0]}function cI(t){return t[1]}function uI(t,e){var r=wt(!0),n=null,a=_h,i=null,s=_w(c);t=typeof t=="function"?t:t===void 0?lI:wt(t),e=typeof e=="function"?e:e===void 0?cI:wt(e);function c(d){var f,p=(d=Aw(d)).length,m,v=!1,y;for(n==null&&(i=a(y=s())),f=0;f<=p;++f)!(f<p&&r(m=d[f],f,d))===v&&((v=!v)?i.lineStart():i.lineEnd()),v&&i.point(+t(m,f,d),+e(m,f,d));if(y)return i=null,y+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:wt(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:wt(+d),c):e},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:wt(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),c):n},c}function Md(t,e,r){var n=null,a=wt(!0),i=null,s=_h,c=null,d=_w(f);t=typeof t=="function"?t:t===void 0?lI:wt(+t),e=typeof e=="function"?e:wt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?cI:wt(+r);function f(m){var v,y,w,S=(m=Aw(m)).length,b,_=!1,A,x=new Array(S),T=new Array(S);for(i==null&&(c=s(A=d())),v=0;v<=S;++v){if(!(v<S&&a(b=m[v],v,m))===_)if(_=!_)y=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=v-1;w>=y;--w)c.point(x[w],T[w]);c.lineEnd(),c.areaEnd()}_&&(x[v]=+t(b,v,m),T[v]=+e(b,v,m),c.point(n?+n(b,v,m):x[v],r?+r(b,v,m):T[v]))}if(A)return c=null,A+""||null}function p(){return uI().defined(a).curve(s).context(i)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:wt(+m),n=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:wt(+m),f):t},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:wt(+m),f):n},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:wt(+m),r=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:wt(+m),f):e},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:wt(+m),f):r},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(r)},f.lineX1=function(){return p().x(n).y(e)},f.defined=function(m){return arguments.length?(a=typeof m=="function"?m:wt(!!m),f):a},f.curve=function(m){return arguments.length?(s=m,i!=null&&(c=s(i)),f):s},f.context=function(m){return arguments.length?(m==null?i=c=null:c=s(i=m),f):i},f}class dI{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function lU(t){return new dI(t,!0)}function cU(t){return new dI(t,!1)}const Ow={draw(t,e){const r=Hn(e/uf);t.moveTo(r,0),t.arc(0,0,r,0,jh)}},uU={draw(t,e){const r=Hn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},fI=Hn(1/3),dU=fI*2,fU={draw(t,e){const r=Hn(e/dU),n=r*fI;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},hU={draw(t,e){const r=Hn(e),n=-r/2;t.rect(n,n,r,r)}},pU=.8908130915292852,hI=cf(uf/10)/cf(7*uf/10),mU=cf(jh/10)*hI,vU=-iI(jh/10)*hI,gU={draw(t,e){const r=Hn(e*pU),n=mU*r,a=vU*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const s=jh*i/5,c=iI(s),d=cf(s);t.lineTo(d*r,-c*r),t.lineTo(c*n-d*a,d*n+c*a)}t.closePath()}},gg=Hn(3),yU={draw(t,e){const r=-Hn(e/(gg*3));t.moveTo(0,r*2),t.lineTo(-gg*r,-r),t.lineTo(gg*r,-r),t.closePath()}},bn=-.5,xn=Hn(3)/2,Db=1/Hn(12),bU=(Db/2+1)*3,xU={draw(t,e){const r=Hn(e/bU),n=r/2,a=r*Db,i=n,s=r*Db+r,c=-i,d=s;t.moveTo(n,a),t.lineTo(i,s),t.lineTo(c,d),t.lineTo(bn*n-xn*a,xn*n+bn*a),t.lineTo(bn*i-xn*s,xn*i+bn*s),t.lineTo(bn*c-xn*d,xn*c+bn*d),t.lineTo(bn*n+xn*a,bn*a-xn*n),t.lineTo(bn*i+xn*s,bn*s-xn*i),t.lineTo(bn*c+xn*d,bn*d-xn*c),t.closePath()}};function wU(t,e){let r=null,n=_w(a);t=typeof t=="function"?t:wt(t||Ow),e=typeof e=="function"?e:wt(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:wt(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:wt(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function df(){}function ff(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function pI(t){this._context=t}pI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ff(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ff(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SU(t){return new pI(t)}function mI(t){this._context=t}mI.prototype={areaStart:df,areaEnd:df,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ff(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jU(t){return new mI(t)}function vI(t){this._context=t}vI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ff(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _U(t){return new vI(t)}function gI(t){this._context=t}gI.prototype={areaStart:df,areaEnd:df,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function AU(t){return new gI(t)}function gO(t){return t<0?-1:1}function yO(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),s=(r-t._y1)/(a||n<0&&-0),c=(i*a+s*n)/(n+a);return(gO(i)+gO(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(c))||0}function bO(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function yg(t,e,r){var n=t._x0,a=t._y0,i=t._x1,s=t._y1,c=(i-n)/3;t._context.bezierCurveTo(n+c,a+c*e,i-c,s-c*r,i,s)}function hf(t){this._context=t}hf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yg(this,this._t0,bO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yg(this,bO(this,r=yO(this,t,e)),r);break;default:yg(this,this._t0,r=yO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function yI(t){this._context=new bI(t)}(yI.prototype=Object.create(hf.prototype)).point=function(t,e){hf.prototype.point.call(this,e,t)};function bI(t){this._context=t}bI.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function OU(t){return new hf(t)}function CU(t){return new yI(t)}function xI(t){this._context=t}xI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=xO(t),a=xO(e),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function xO(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,s[e]-=n*s[e-1];for(a[r-1]=s[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function TU(t){return new xI(t)}function Ah(t,e){this._context=t,this._t=e}Ah.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function EU(t){return new Ah(t,.5)}function PU(t){return new Ah(t,0)}function kU(t){return new Ah(t,1)}function ws(t,e){if((s=t.length)>1)for(var r=1,n,a,i=t[e[0]],s,c=i.length;r<s;++r)for(a=i,i=t[e[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function $b(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function NU(t,e){return t[e]}function IU(t){const e=[];return e.key=t,e}function MU(){var t=wt([]),e=$b,r=ws,n=NU;function a(i){var s=Array.from(t.apply(this,arguments),IU),c,d=s.length,f=-1,p;for(const m of i)for(c=0,++f;c<d;++c)(s[c][f]=[0,+n(m,s[c].key,f,i)]).data=m;for(c=0,p=Aw(e(s));c<d;++c)s[p[c]].index=c;return r(s,p),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:wt(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:wt(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?$b:typeof i=="function"?i:wt(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??ws,a):r},a}function RU(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=t[r][a][1]||0;if(s)for(r=0;r<n;++r)t[r][a][1]/=s}ws(t,e)}}function DU(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var s=0,c=0;s<a;++s)c+=t[s][r][1]||0;n[r][1]+=n[r][0]=-c/2}ws(t,e)}}function $U(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var c=0,d=0,f=0;c<s;++c){for(var p=t[e[c]],m=p[n][1]||0,v=p[n-1][1]||0,y=(m-v)/2,w=0;w<c;++w){var S=t[e[w]],b=S[n][1]||0,_=S[n-1][1]||0;y+=b-_}d+=m,f+=y*m}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,ws(t,e)}}function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}var LU=["type","size","sizeType"];function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lb.apply(this,arguments)}function wO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function SO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(r),!0).forEach(function(n){BU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BU(t,e,r){return e=FU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FU(t){var e=zU(t,"string");return Ac(e)=="symbol"?e:e+""}function zU(t,e){if(Ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UU(t,e){if(t==null)return{};var r=qU(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wI={symbolCircle:Ow,symbolCross:uU,symbolDiamond:fU,symbolSquare:hU,symbolStar:gU,symbolTriangle:yU,symbolWye:xU},VU=Math.PI/180,HU=function(e){var r="symbol".concat(Sh(e));return wI[r]||Ow},WU=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*VU;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},GU=function(e,r){wI["symbol".concat(Sh(e))]=r},Cw=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,s=e.sizeType,c=s===void 0?"area":s,d=UU(e,LU),f=SO(SO({},d),{},{type:n,size:i,sizeType:c}),p=function(){var b=HU(n),_=wU().type(b).size(WU(i,c,n));return _()},m=f.className,v=f.cx,y=f.cy,w=qe(f,!0);return v===+v&&y===+y&&i===+i?G.createElement("path",Lb({},w,{className:Qe("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(y,")"),d:p()})):null};Cw.registerSymbol=GU;function Ss(t){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(t)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bb.apply(this,arguments)}function jO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function KU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(r),!0).forEach(function(n){Oc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jI(n.key),n)}}function JU(t,e,r){return e&&XU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QU(t,e,r){return e=pf(e),ZU(t,SI()?Reflect.construct(e,r||[],pf(t).constructor):e.apply(t,r))}function ZU(t,e){if(e&&(Ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e4(t)}function e4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SI=function(){return!!t})()}function pf(t){return pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pf(t)}function t4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fb(t,e)}function Fb(t,e){return Fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fb(t,e)}function Oc(t,e,r){return e=jI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jI(t){var e=r4(t,"string");return Ss(e)=="symbol"?e:e+""}function r4(t,e){if(Ss(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wn=32,Tw=(function(t){function e(){return YU(this,e),QU(this,e,arguments)}return t4(e,t),JU(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=wn/2,s=wn/6,c=wn/3,d=n.inactive?a:n.color;if(n.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:wn,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(wn,"M").concat(2*c,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return G.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(wn/8,"h").concat(wn,"v").concat(wn*3/4,"h").concat(-wn,"z"),className:"recharts-legend-icon"});if(G.isValidElement(n.legendIcon)){var f=KU({},n);return delete f.legendIcon,G.cloneElement(n.legendIcon,f)}return G.createElement(Cw,{fill:d,cx:i,cy:i,size:wn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,c=a.layout,d=a.formatter,f=a.inactiveColor,p={x:0,y:0,width:wn,height:wn},m={display:c==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(y,w){var S=y.formatter||d,b=Qe(Oc(Oc({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",y.inactive));if(y.type==="none")return null;var _=Ke(y.value)?null:y.value;qn(!Ke(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=y.inactive?f:y.color;return G.createElement("li",Bb({className:b,style:m,key:"legend-item-".concat(w)},uo(n.props,y,w)),G.createElement(Nb,{width:s,height:s,viewBox:p,style:v},n.renderIcon(y)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},S?S(_,y,w):_))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var c={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(N.PureComponent);Oc(Tw,"displayName","Legend");Oc(Tw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var bg,_O;function n4(){if(_O)return bg;_O=1;var t=bh();function e(){this.__data__=new t,this.size=0}return bg=e,bg}var xg,AO;function a4(){if(AO)return xg;AO=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return xg=t,xg}var wg,OO;function i4(){if(OO)return wg;OO=1;function t(e){return this.__data__.get(e)}return wg=t,wg}var Sg,CO;function o4(){if(CO)return Sg;CO=1;function t(e){return this.__data__.has(e)}return Sg=t,Sg}var jg,TO;function s4(){if(TO)return jg;TO=1;var t=bh(),e=yw(),r=bw(),n=200;function a(i,s){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!e||d.length<n-1)return d.push([i,s]),this.size=++c.size,this;c=this.__data__=new r(d)}return c.set(i,s),this.size=c.size,this}return jg=a,jg}var _g,EO;function _I(){if(EO)return _g;EO=1;var t=bh(),e=n4(),r=a4(),n=i4(),a=o4(),i=s4();function s(c){var d=this.__data__=new t(c);this.size=d.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,_g=s,_g}var Ag,PO;function l4(){if(PO)return Ag;PO=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Ag=e,Ag}var Og,kO;function c4(){if(kO)return Og;kO=1;function t(e){return this.__data__.has(e)}return Og=t,Og}var Cg,NO;function AI(){if(NO)return Cg;NO=1;var t=bw(),e=l4(),r=c4();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Cg=n,Cg}var Tg,IO;function OI(){if(IO)return Tg;IO=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return Tg=t,Tg}var Eg,MO;function CI(){if(MO)return Eg;MO=1;function t(e,r){return e.has(r)}return Eg=t,Eg}var Pg,RO;function TI(){if(RO)return Pg;RO=1;var t=AI(),e=OI(),r=CI(),n=1,a=2;function i(s,c,d,f,p,m){var v=d&n,y=s.length,w=c.length;if(y!=w&&!(v&&w>y))return!1;var S=m.get(s),b=m.get(c);if(S&&b)return S==c&&b==s;var _=-1,A=!0,x=d&a?new t:void 0;for(m.set(s,c),m.set(c,s);++_<y;){var T=s[_],C=c[_];if(f)var E=v?f(C,T,_,c,s,m):f(T,C,_,s,c,m);if(E!==void 0){if(E)continue;A=!1;break}if(x){if(!e(c,function(P,R){if(!r(x,R)&&(T===P||p(T,P,d,f,m)))return x.push(R)})){A=!1;break}}else if(!(T===C||p(T,C,d,f,m))){A=!1;break}}return m.delete(s),m.delete(c),A}return Pg=i,Pg}var kg,DO;function u4(){if(DO)return kg;DO=1;var t=ca(),e=t.Uint8Array;return kg=e,kg}var Ng,$O;function d4(){if($O)return Ng;$O=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return Ng=t,Ng}var Ig,LO;function Ew(){if(LO)return Ig;LO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Ig=t,Ig}var Mg,BO;function f4(){if(BO)return Mg;BO=1;var t=lu(),e=u4(),r=gw(),n=TI(),a=d4(),i=Ew(),s=1,c=2,d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",v="[object Number]",y="[object RegExp]",w="[object Set]",S="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",A="[object DataView]",x=t?t.prototype:void 0,T=x?x.valueOf:void 0;function C(E,P,R,M,$,k,L){switch(R){case A:if(E.byteLength!=P.byteLength||E.byteOffset!=P.byteOffset)return!1;E=E.buffer,P=P.buffer;case _:return!(E.byteLength!=P.byteLength||!k(new e(E),new e(P)));case d:case f:case v:return r(+E,+P);case p:return E.name==P.name&&E.message==P.message;case y:case S:return E==P+"";case m:var F=a;case w:var z=M&s;if(F||(F=i),E.size!=P.size&&!z)return!1;var q=L.get(E);if(q)return q==P;M|=c,L.set(E,P);var Y=n(F(E),F(P),M,$,k,L);return L.delete(E),Y;case b:if(T)return T.call(E)==T.call(P)}return!1}return Mg=C,Mg}var Rg,FO;function EI(){if(FO)return Rg;FO=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return Rg=t,Rg}var Dg,zO;function h4(){if(zO)return Dg;zO=1;var t=EI(),e=Wr();function r(n,a,i){var s=a(n);return e(n)?s:t(s,i(n))}return Dg=r,Dg}var $g,UO;function p4(){if(UO)return $g;UO=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,s=[];++n<a;){var c=e[n];r(c,n,e)&&(s[i++]=c)}return s}return $g=t,$g}var Lg,qO;function m4(){if(qO)return Lg;qO=1;function t(){return[]}return Lg=t,Lg}var Bg,VO;function v4(){if(VO)return Bg;VO=1;var t=p4(),e=m4(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(c){return n.call(s,c)}))}:e;return Bg=i,Bg}var Fg,HO;function g4(){if(HO)return Fg;HO=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return Fg=t,Fg}var zg,WO;function y4(){if(WO)return zg;WO=1;var t=$a(),e=La(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return zg=n,zg}var Ug,GO;function Pw(){if(GO)return Ug;GO=1;var t=y4(),e=La(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return Ug=i,Ug}var rc={exports:{}},qg,KO;function b4(){if(KO)return qg;KO=1;function t(){return!1}return qg=t,qg}rc.exports;var YO;function PI(){return YO||(YO=1,(function(t,e){var r=ca(),n=b4(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,c=s?r.Buffer:void 0,d=c?c.isBuffer:void 0,f=d||n;t.exports=f})(rc,rc.exports)),rc.exports}var Vg,XO;function kw(){if(XO)return Vg;XO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return Vg=r,Vg}var Hg,JO;function Nw(){if(JO)return Hg;JO=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Hg=e,Hg}var Wg,QO;function x4(){if(QO)return Wg;QO=1;var t=$a(),e=Nw(),r=La(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",c="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",v="[object RegExp]",y="[object Set]",w="[object String]",S="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",A="[object Float32Array]",x="[object Float64Array]",T="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",P="[object Uint8Array]",R="[object Uint8ClampedArray]",M="[object Uint16Array]",$="[object Uint32Array]",k={};k[A]=k[x]=k[T]=k[C]=k[E]=k[P]=k[R]=k[M]=k[$]=!0,k[n]=k[a]=k[b]=k[i]=k[_]=k[s]=k[c]=k[d]=k[f]=k[p]=k[m]=k[v]=k[y]=k[w]=k[S]=!1;function L(F){return r(F)&&e(F.length)&&!!k[t(F)]}return Wg=L,Wg}var Gg,ZO;function kI(){if(ZO)return Gg;ZO=1;function t(e){return function(r){return e(r)}}return Gg=t,Gg}var nc={exports:{}};nc.exports;var eC;function w4(){return eC||(eC=1,(function(t,e){var r=JN(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i&&r.process,c=(function(){try{var d=a&&a.require&&a.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}})();t.exports=c})(nc,nc.exports)),nc.exports}var Kg,tC;function NI(){if(tC)return Kg;tC=1;var t=x4(),e=kI(),r=w4(),n=r&&r.isTypedArray,a=n?e(n):t;return Kg=a,Kg}var Yg,rC;function S4(){if(rC)return Yg;rC=1;var t=g4(),e=Pw(),r=Wr(),n=PI(),a=kw(),i=NI(),s=Object.prototype,c=s.hasOwnProperty;function d(f,p){var m=r(f),v=!m&&e(f),y=!m&&!v&&n(f),w=!m&&!v&&!y&&i(f),S=m||v||y||w,b=S?t(f.length,String):[],_=b.length;for(var A in f)(p||c.call(f,A))&&!(S&&(A=="length"||y&&(A=="offset"||A=="parent")||w&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||a(A,_)))&&b.push(A);return b}return Yg=d,Yg}var Xg,nC;function j4(){if(nC)return Xg;nC=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return Xg=e,Xg}var Jg,aC;function II(){if(aC)return Jg;aC=1;function t(e,r){return function(n){return e(r(n))}}return Jg=t,Jg}var Qg,iC;function _4(){if(iC)return Qg;iC=1;var t=II(),e=t(Object.keys,Object);return Qg=e,Qg}var Zg,oC;function A4(){if(oC)return Zg;oC=1;var t=j4(),e=_4(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var c in Object(i))n.call(i,c)&&c!="constructor"&&s.push(c);return s}return Zg=a,Zg}var ey,sC;function uu(){if(sC)return ey;sC=1;var t=vw(),e=Nw();function r(n){return n!=null&&e(n.length)&&!t(n)}return ey=r,ey}var ty,lC;function Oh(){if(lC)return ty;lC=1;var t=S4(),e=A4(),r=uu();function n(a){return r(a)?t(a):e(a)}return ty=n,ty}var ry,cC;function O4(){if(cC)return ry;cC=1;var t=h4(),e=v4(),r=Oh();function n(a){return t(a,r,e)}return ry=n,ry}var ny,uC;function C4(){if(uC)return ny;uC=1;var t=O4(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,c,d,f,p){var m=c&e,v=t(i),y=v.length,w=t(s),S=w.length;if(y!=S&&!m)return!1;for(var b=y;b--;){var _=v[b];if(!(m?_ in s:n.call(s,_)))return!1}var A=p.get(i),x=p.get(s);if(A&&x)return A==s&&x==i;var T=!0;p.set(i,s),p.set(s,i);for(var C=m;++b<y;){_=v[b];var E=i[_],P=s[_];if(d)var R=m?d(P,E,_,s,i,p):d(E,P,_,i,s,p);if(!(R===void 0?E===P||f(E,P,c,d,p):R)){T=!1;break}C||(C=_=="constructor")}if(T&&!C){var M=i.constructor,$=s.constructor;M!=$&&"constructor"in i&&"constructor"in s&&!(typeof M=="function"&&M instanceof M&&typeof $=="function"&&$ instanceof $)&&(T=!1)}return p.delete(i),p.delete(s),T}return ny=a,ny}var ay,dC;function T4(){if(dC)return ay;dC=1;var t=yo(),e=ca(),r=t(e,"DataView");return ay=r,ay}var iy,fC;function E4(){if(fC)return iy;fC=1;var t=yo(),e=ca(),r=t(e,"Promise");return iy=r,iy}var oy,hC;function MI(){if(hC)return oy;hC=1;var t=yo(),e=ca(),r=t(e,"Set");return oy=r,oy}var sy,pC;function P4(){if(pC)return sy;pC=1;var t=yo(),e=ca(),r=t(e,"WeakMap");return sy=r,sy}var ly,mC;function k4(){if(mC)return ly;mC=1;var t=T4(),e=yw(),r=E4(),n=MI(),a=P4(),i=$a(),s=QN(),c="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",v="[object DataView]",y=s(t),w=s(e),S=s(r),b=s(n),_=s(a),A=i;return(t&&A(new t(new ArrayBuffer(1)))!=v||e&&A(new e)!=c||r&&A(r.resolve())!=f||n&&A(new n)!=p||a&&A(new a)!=m)&&(A=function(x){var T=i(x),C=T==d?x.constructor:void 0,E=C?s(C):"";if(E)switch(E){case y:return v;case w:return c;case S:return f;case b:return p;case _:return m}return T}),ly=A,ly}var cy,vC;function N4(){if(vC)return cy;vC=1;var t=_I(),e=TI(),r=f4(),n=C4(),a=k4(),i=Wr(),s=PI(),c=NI(),d=1,f="[object Arguments]",p="[object Array]",m="[object Object]",v=Object.prototype,y=v.hasOwnProperty;function w(S,b,_,A,x,T){var C=i(S),E=i(b),P=C?p:a(S),R=E?p:a(b);P=P==f?m:P,R=R==f?m:R;var M=P==m,$=R==m,k=P==R;if(k&&s(S)){if(!s(b))return!1;C=!0,M=!1}if(k&&!M)return T||(T=new t),C||c(S)?e(S,b,_,A,x,T):r(S,b,P,_,A,x,T);if(!(_&d)){var L=M&&y.call(S,"__wrapped__"),F=$&&y.call(b,"__wrapped__");if(L||F){var z=L?S.value():S,q=F?b.value():b;return T||(T=new t),x(z,q,_,A,T)}}return k?(T||(T=new t),n(S,b,_,A,x,T)):!1}return cy=w,cy}var uy,gC;function Iw(){if(gC)return uy;gC=1;var t=N4(),e=La();function r(n,a,i,s,c){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,s,r,c)}return uy=r,uy}var dy,yC;function I4(){if(yC)return dy;yC=1;var t=_I(),e=Iw(),r=1,n=2;function a(i,s,c,d){var f=c.length,p=f,m=!d;if(i==null)return!p;for(i=Object(i);f--;){var v=c[f];if(m&&v[2]?v[1]!==i[v[0]]:!(v[0]in i))return!1}for(;++f<p;){v=c[f];var y=v[0],w=i[y],S=v[1];if(m&&v[2]){if(w===void 0&&!(y in i))return!1}else{var b=new t;if(d)var _=d(w,S,y,i,s,b);if(!(_===void 0?e(S,w,r|n,d,b):_))return!1}}return!0}return dy=a,dy}var fy,bC;function RI(){if(bC)return fy;bC=1;var t=wi();function e(r){return r===r&&!t(r)}return fy=e,fy}var hy,xC;function M4(){if(xC)return hy;xC=1;var t=RI(),e=Oh();function r(n){for(var a=e(n),i=a.length;i--;){var s=a[i],c=n[s];a[i]=[s,c,t(c)]}return a}return hy=r,hy}var py,wC;function DI(){if(wC)return py;wC=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return py=t,py}var my,SC;function R4(){if(SC)return my;SC=1;var t=I4(),e=M4(),r=DI();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return my=n,my}var vy,jC;function D4(){if(jC)return vy;jC=1;function t(e,r){return e!=null&&r in Object(e)}return vy=t,vy}var gy,_C;function $4(){if(_C)return gy;_C=1;var t=tI(),e=Pw(),r=Wr(),n=kw(),a=Nw(),i=wh();function s(c,d,f){d=t(d,c);for(var p=-1,m=d.length,v=!1;++p<m;){var y=i(d[p]);if(!(v=c!=null&&f(c,y)))break;c=c[y]}return v||++p!=m?v:(m=c==null?0:c.length,!!m&&a(m)&&n(y,m)&&(r(c)||e(c)))}return gy=s,gy}var yy,AC;function L4(){if(AC)return yy;AC=1;var t=D4(),e=$4();function r(n,a){return n!=null&&e(n,a,t)}return yy=r,yy}var by,OC;function B4(){if(OC)return by;OC=1;var t=Iw(),e=rI(),r=L4(),n=mw(),a=RI(),i=DI(),s=wh(),c=1,d=2;function f(p,m){return n(p)&&a(m)?i(s(p),m):function(v){var y=e(v,p);return y===void 0&&y===m?r(v,p):t(m,y,c|d)}}return by=f,by}var xy,CC;function Zs(){if(CC)return xy;CC=1;function t(e){return e}return xy=t,xy}var wy,TC;function F4(){if(TC)return wy;TC=1;function t(e){return function(r){return r?.[e]}}return wy=t,wy}var Sy,EC;function z4(){if(EC)return Sy;EC=1;var t=ww();function e(r){return function(n){return t(n,r)}}return Sy=e,Sy}var jy,PC;function U4(){if(PC)return jy;PC=1;var t=F4(),e=z4(),r=mw(),n=wh();function a(i){return r(i)?t(n(i)):e(i)}return jy=a,jy}var _y,kC;function ua(){if(kC)return _y;kC=1;var t=R4(),e=B4(),r=Zs(),n=Wr(),a=U4();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):a(s)}return _y=i,_y}var Ay,NC;function $I(){if(NC)return Ay;NC=1;function t(e,r,n,a){for(var i=e.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(e[s],s,e))return s;return-1}return Ay=t,Ay}var Oy,IC;function q4(){if(IC)return Oy;IC=1;function t(e){return e!==e}return Oy=t,Oy}var Cy,MC;function V4(){if(MC)return Cy;MC=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return Cy=t,Cy}var Ty,RC;function H4(){if(RC)return Ty;RC=1;var t=$I(),e=q4(),r=V4();function n(a,i,s){return i===i?r(a,i,s):t(a,e,s)}return Ty=n,Ty}var Ey,DC;function W4(){if(DC)return Ey;DC=1;var t=H4();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return Ey=e,Ey}var Py,$C;function G4(){if($C)return Py;$C=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return Py=t,Py}var ky,LC;function K4(){if(LC)return ky;LC=1;function t(){}return ky=t,ky}var Ny,BC;function Y4(){if(BC)return Ny;BC=1;var t=MI(),e=K4(),r=Ew(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return Ny=a,Ny}var Iy,FC;function X4(){if(FC)return Iy;FC=1;var t=AI(),e=W4(),r=G4(),n=CI(),a=Y4(),i=Ew(),s=200;function c(d,f,p){var m=-1,v=e,y=d.length,w=!0,S=[],b=S;if(p)w=!1,v=r;else if(y>=s){var _=f?null:a(d);if(_)return i(_);w=!1,v=n,b=new t}else b=f?[]:S;e:for(;++m<y;){var A=d[m],x=f?f(A):A;if(A=p||A!==0?A:0,w&&x===x){for(var T=b.length;T--;)if(b[T]===x)continue e;f&&b.push(x),S.push(A)}else v(b,x,p)||(b!==S&&b.push(x),S.push(A))}return S}return Iy=c,Iy}var My,zC;function J4(){if(zC)return My;zC=1;var t=ua(),e=X4();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return My=r,My}var Q4=J4();const UC=st(Q4);function LI(t,e,r){return e===!0?UC(t,r):Ke(e)?UC(t,e):t}function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}var Z4=["ref"];function qC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(r),!0).forEach(function(n){Ch(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FI(n.key),n)}}function t5(t,e,r){return e&&VC(t.prototype,e),r&&VC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function r5(t,e,r){return e=mf(e),n5(t,BI()?Reflect.construct(e,r||[],mf(t).constructor):e.apply(t,r))}function n5(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a5(t)}function a5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BI=function(){return!!t})()}function mf(t){return mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mf(t)}function i5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zb(t,e)}function zb(t,e){return zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zb(t,e)}function Ch(t,e,r){return e=FI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FI(t){var e=o5(t,"string");return js(e)=="symbol"?e:e+""}function o5(t,e){if(js(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function s5(t,e){if(t==null)return{};var r=l5(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function c5(t){return t.value}function u5(t,e){if(G.isValidElement(t))return G.cloneElement(t,e);if(typeof t=="function")return G.createElement(t,e);e.ref;var r=s5(e,Z4);return G.createElement(Tw,r)}var HC=1,cn=(function(t){function e(){var r;e5(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=r5(this,e,[].concat(a)),Ch(r,"lastBoundingBox",{width:-1,height:-1}),r}return i5(e,t),t5(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>HC||Math.abs(a.height-this.lastBoundingBox.height)>HC)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,c=a.verticalAlign,d=a.margin,f=a.chartWidth,p=a.chartHeight,m,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var y=this.getBBoxSnapshot();m={left:((f||0)-y.width)/2}}else m=s==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var w=this.getBBoxSnapshot();v={top:((p||0)-w.height)/2}}else v=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return wa(wa({},m),v)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,c=a.height,d=a.wrapperStyle,f=a.payloadUniqBy,p=a.payload,m=wa(wa({position:"absolute",width:s||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return G.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(y){n.wrapperNode=y}},u5(i,wa(wa({},this.props),{},{payload:LI(p,f,c5)})))}}],[{key:"getWithHeight",value:function(n,a){var i=wa(wa({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&je(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])})(N.PureComponent);Ch(cn,"displayName","Legend");Ch(cn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ry,WC;function d5(){if(WC)return Ry;WC=1;var t=lu(),e=Pw(),r=Wr(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return Ry=a,Ry}var Dy,GC;function zI(){if(GC)return Dy;GC=1;var t=EI(),e=d5();function r(n,a,i,s,c){var d=-1,f=n.length;for(i||(i=e),c||(c=[]);++d<f;){var p=n[d];a>0&&i(p)?a>1?r(p,a-1,i,s,c):t(c,p):s||(c[c.length]=p)}return c}return Dy=r,Dy}var $y,KC;function f5(){if(KC)return $y;KC=1;function t(e){return function(r,n,a){for(var i=-1,s=Object(r),c=a(r),d=c.length;d--;){var f=c[e?d:++i];if(n(s[f],f,s)===!1)break}return r}}return $y=t,$y}var Ly,YC;function h5(){if(YC)return Ly;YC=1;var t=f5(),e=t();return Ly=e,Ly}var By,XC;function UI(){if(XC)return By;XC=1;var t=h5(),e=Oh();function r(n,a){return n&&t(n,a,e)}return By=r,By}var Fy,JC;function p5(){if(JC)return Fy;JC=1;var t=uu();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var s=a.length,c=n?s:-1,d=Object(a);(n?c--:++c<s)&&i(d[c],c,d)!==!1;);return a}}return Fy=e,Fy}var zy,QC;function Mw(){if(QC)return zy;QC=1;var t=UI(),e=p5(),r=e(t);return zy=r,zy}var Uy,ZC;function qI(){if(ZC)return Uy;ZC=1;var t=Mw(),e=uu();function r(n,a){var i=-1,s=e(n)?Array(n.length):[];return t(n,function(c,d,f){s[++i]=a(c,d,f)}),s}return Uy=r,Uy}var qy,eT;function m5(){if(eT)return qy;eT=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return qy=t,qy}var Vy,tT;function v5(){if(tT)return Vy;tT=1;var t=Xs();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,c=t(r),d=n!==void 0,f=n===null,p=n===n,m=t(n);if(!f&&!m&&!c&&r>n||c&&d&&p&&!f&&!m||i&&d&&p||!a&&p||!s)return 1;if(!i&&!c&&!m&&r<n||m&&a&&s&&!i&&!c||f&&a&&s||!d&&s||!p)return-1}return 0}return Vy=e,Vy}var Hy,rT;function g5(){if(rT)return Hy;rT=1;var t=v5();function e(r,n,a){for(var i=-1,s=r.criteria,c=n.criteria,d=s.length,f=a.length;++i<d;){var p=t(s[i],c[i]);if(p){if(i>=f)return p;var m=a[i];return p*(m=="desc"?-1:1)}}return r.index-n.index}return Hy=e,Hy}var Wy,nT;function y5(){if(nT)return Wy;nT=1;var t=xw(),e=ww(),r=ua(),n=qI(),a=m5(),i=kI(),s=g5(),c=Zs(),d=Wr();function f(p,m,v){m.length?m=t(m,function(S){return d(S)?function(b){return e(b,S.length===1?S[0]:S)}:S}):m=[c];var y=-1;m=t(m,i(r));var w=n(p,function(S,b,_){var A=t(m,function(x){return x(S)});return{criteria:A,index:++y,value:S}});return a(w,function(S,b){return s(S,b,v)})}return Wy=f,Wy}var Gy,aT;function b5(){if(aT)return Gy;aT=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Gy=t,Gy}var Ky,iT;function x5(){if(iT)return Ky;iT=1;var t=b5(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var s=arguments,c=-1,d=e(s.length-a,0),f=Array(d);++c<d;)f[c]=s[a+c];c=-1;for(var p=Array(a+1);++c<a;)p[c]=s[c];return p[a]=i(f),t(n,this,p)}}return Ky=r,Ky}var Yy,oT;function w5(){if(oT)return Yy;oT=1;function t(e){return function(){return e}}return Yy=t,Yy}var Xy,sT;function VI(){if(sT)return Xy;sT=1;var t=yo(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Xy=e,Xy}var Jy,lT;function S5(){if(lT)return Jy;lT=1;var t=w5(),e=VI(),r=Zs(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return Jy=n,Jy}var Qy,cT;function j5(){if(cT)return Qy;cT=1;var t=800,e=16,r=Date.now;function n(a){var i=0,s=0;return function(){var c=r(),d=e-(c-s);if(s=c,d>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Qy=n,Qy}var Zy,uT;function _5(){if(uT)return Zy;uT=1;var t=S5(),e=j5(),r=e(t);return Zy=r,Zy}var e0,dT;function A5(){if(dT)return e0;dT=1;var t=Zs(),e=x5(),r=_5();function n(a,i){return r(e(a,i,t),a+"")}return e0=n,e0}var t0,fT;function Th(){if(fT)return t0;fT=1;var t=gw(),e=uu(),r=kw(),n=wi();function a(i,s,c){if(!n(c))return!1;var d=typeof s;return(d=="number"?e(c)&&r(s,c.length):d=="string"&&s in c)?t(c[s],i):!1}return t0=a,t0}var r0,hT;function O5(){if(hT)return r0;hT=1;var t=zI(),e=y5(),r=A5(),n=Th(),a=r(function(i,s){if(i==null)return[];var c=s.length;return c>1&&n(i,s[0],s[1])?s=[]:c>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(i,t(s,1),[])});return r0=a,r0}var C5=O5();const Rw=st(C5);function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ub.apply(this,arguments)}function T5(t,e){return N5(t)||k5(t,e)||P5(t,e)||E5()}function E5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P5(t,e){if(t){if(typeof t=="string")return pT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pT(t,e)}}function pT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k5(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function N5(t){if(Array.isArray(t))return t}function mT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function n0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mT(Object(r),!0).forEach(function(n){I5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I5(t,e,r){return e=M5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M5(t){var e=R5(t,"string");return Cc(e)=="symbol"?e:e+""}function R5(t,e){if(Cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D5(t){return Array.isArray(t)&&tr(t[0])&&tr(t[1])?t.join(" ~ "):t}var $5=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,c=s===void 0?{}:s,d=e.labelStyle,f=d===void 0?{}:d,p=e.payload,m=e.formatter,v=e.itemSorter,y=e.wrapperClassName,w=e.labelClassName,S=e.label,b=e.labelFormatter,_=e.accessibilityLayer,A=_===void 0?!1:_,x=function(){if(p&&p.length){var L={padding:0,margin:0},F=(v?Rw(p,v):p).map(function(z,q){if(z.type==="none")return null;var Y=n0({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},c),te=z.formatter||m||D5,ee=z.value,oe=z.name,ue=ee,W=oe;if(te&&ue!=null&&W!=null){var J=te(ee,oe,z,q,p);if(Array.isArray(J)){var D=T5(J,2);ue=D[0],W=D[1]}else ue=J}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:Y},tr(W)?G.createElement("span",{className:"recharts-tooltip-item-name"},W):null,tr(W)?G.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,G.createElement("span",{className:"recharts-tooltip-item-value"},ue),G.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:L},F)}return null},T=n0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=n0({margin:0},f),E=!Xe(S),P=E?S:"",R=Qe("recharts-default-tooltip",y),M=Qe("recharts-tooltip-label",w);E&&b&&p!==void 0&&p!==null&&(P=b(S,p));var $=A?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",Ub({className:R,style:T},$),G.createElement("p",{className:M,style:C},G.isValidElement(P)?P:"".concat(P)),x())};function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function Rd(t,e,r){return e=L5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L5(t){var e=B5(t,"string");return Tc(e)=="symbol"?e:e+""}function B5(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ul="recharts-tooltip-wrapper",F5={visibility:"hidden"};function z5(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Qe(Ul,Rd(Rd(Rd(Rd({},"".concat(Ul,"-right"),je(r)&&e&&je(e.x)&&r>=e.x),"".concat(Ul,"-left"),je(r)&&e&&je(e.x)&&r<e.x),"".concat(Ul,"-bottom"),je(n)&&e&&je(e.y)&&n>=e.y),"".concat(Ul,"-top"),je(n)&&e&&je(e.y)&&n<e.y))}function vT(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,c=t.tooltipDimension,d=t.viewBox,f=t.viewBoxDimension;if(i&&je(i[n]))return i[n];var p=r[n]-c-a,m=r[n]+a;if(e[n])return s[n]?p:m;if(s[n]){var v=p,y=d[n];return v<y?Math.max(m,d[n]):Math.max(p,d[n])}var w=m+c,S=d[n]+f;return w>S?Math.max(p,d[n]):Math.max(m,d[n])}function U5(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function q5(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,c=t.useTranslate3d,d=t.viewBox,f,p,m;return s.height>0&&s.width>0&&r?(p=vT({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),m=vT({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),f=U5({translateX:p,translateY:m,useTranslate3d:c})):f=F5,{cssProperties:f,cssClasses:z5({translateX:p,translateY:m,coordinate:r})}}function _s(t){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(t)}function gT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(r),!0).forEach(function(n){Vb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WI(n.key),n)}}function W5(t,e,r){return e&&H5(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G5(t,e,r){return e=vf(e),K5(t,HI()?Reflect.construct(e,r||[],vf(t).constructor):e.apply(t,r))}function K5(t,e){if(e&&(_s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y5(t)}function Y5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HI=function(){return!!t})()}function vf(t){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vf(t)}function X5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qb(t,e)}function qb(t,e){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qb(t,e)}function Vb(t,e,r){return e=WI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WI(t){var e=J5(t,"string");return _s(e)=="symbol"?e:e+""}function J5(t,e){if(_s(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bT=1,Q5=(function(t){function e(){var r;V5(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=G5(this,e,[].concat(a)),Vb(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Vb(r,"handleKeyDown",function(s){if(s.key==="Escape"){var c,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return X5(e,t),W5(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>bT||Math.abs(n.height-this.state.lastBoundingBox.height)>bT)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,f=a.children,p=a.coordinate,m=a.hasPayload,v=a.isAnimationActive,y=a.offset,w=a.position,S=a.reverseDirection,b=a.useTranslate3d,_=a.viewBox,A=a.wrapperStyle,x=q5({allowEscapeViewBox:s,coordinate:p,offsetTopLeft:y,position:w,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:_}),T=x.cssClasses,C=x.cssProperties,E=yT(yT({transition:v&&i?"transform ".concat(c,"ms ").concat(d):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},A);return G.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(R){n.wrapperNode=R}},f)}}])})(N.PureComponent),Z5=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},bo={isSsr:Z5()};function As(t){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}function xT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xT(Object(r),!0).forEach(function(n){Dw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KI(n.key),n)}}function rq(t,e,r){return e&&tq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nq(t,e,r){return e=gf(e),aq(t,GI()?Reflect.construct(e,r||[],gf(t).constructor):e.apply(t,r))}function aq(t,e){if(e&&(As(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iq(t)}function iq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GI=function(){return!!t})()}function gf(t){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gf(t)}function oq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hb(t,e)}function Hb(t,e){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hb(t,e)}function Dw(t,e,r){return e=KI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KI(t){var e=sq(t,"string");return As(e)=="symbol"?e:e+""}function sq(t,e){if(As(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(As(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lq(t){return t.dataKey}function cq(t,e){return G.isValidElement(t)?G.cloneElement(t,e):typeof t=="function"?G.createElement(t,e):G.createElement($5,e)}var Tt=(function(t){function e(){return eq(this,e),nq(this,e,arguments)}return oq(e,t),rq(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,f=a.content,p=a.coordinate,m=a.filterNull,v=a.isAnimationActive,y=a.offset,w=a.payload,S=a.payloadUniqBy,b=a.position,_=a.reverseDirection,A=a.useTranslate3d,x=a.viewBox,T=a.wrapperStyle,C=w??[];m&&C.length&&(C=LI(w.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),S,lq));var E=C.length>0;return G.createElement(Q5,{allowEscapeViewBox:s,animationDuration:c,animationEasing:d,isAnimationActive:v,active:i,coordinate:p,hasPayload:E,offset:y,position:b,reverseDirection:_,useTranslate3d:A,viewBox:x,wrapperStyle:T},cq(f,wT(wT({},this.props),{},{payload:C})))}}])})(N.PureComponent);Dw(Tt,"displayName","Tooltip");Dw(Tt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!bo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var a0,ST;function uq(){if(ST)return a0;ST=1;var t=ca(),e=function(){return t.Date.now()};return a0=e,a0}var i0,jT;function dq(){if(jT)return i0;jT=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return i0=e,i0}var o0,_T;function fq(){if(_T)return o0;_T=1;var t=dq(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return o0=r,o0}var s0,AT;function YI(){if(AT)return s0;AT=1;var t=fq(),e=wi(),r=Xs(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=e(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=i.test(f);return m||s.test(f)?c(f.slice(2),m?2:8):a.test(f)?n:+f}return s0=d,s0}var l0,OT;function hq(){if(OT)return l0;OT=1;var t=wi(),e=uq(),r=YI(),n="Expected a function",a=Math.max,i=Math.min;function s(c,d,f){var p,m,v,y,w,S,b=0,_=!1,A=!1,x=!0;if(typeof c!="function")throw new TypeError(n);d=r(d)||0,t(f)&&(_=!!f.leading,A="maxWait"in f,v=A?a(r(f.maxWait)||0,d):v,x="trailing"in f?!!f.trailing:x);function T(F){var z=p,q=m;return p=m=void 0,b=F,y=c.apply(q,z),y}function C(F){return b=F,w=setTimeout(R,d),_?T(F):y}function E(F){var z=F-S,q=F-b,Y=d-z;return A?i(Y,v-q):Y}function P(F){var z=F-S,q=F-b;return S===void 0||z>=d||z<0||A&&q>=v}function R(){var F=e();if(P(F))return M(F);w=setTimeout(R,E(F))}function M(F){return w=void 0,x&&p?T(F):(p=m=void 0,y)}function $(){w!==void 0&&clearTimeout(w),b=0,p=S=m=w=void 0}function k(){return w===void 0?y:M(e())}function L(){var F=e(),z=P(F);if(p=arguments,m=this,S=F,z){if(w===void 0)return C(S);if(A)return clearTimeout(w),w=setTimeout(R,d),T(S)}return w===void 0&&(w=setTimeout(R,d)),y}return L.cancel=$,L.flush=k,L}return l0=s,l0}var c0,CT;function pq(){if(CT)return c0;CT=1;var t=hq(),e=wi(),r="Expected a function";function n(a,i,s){var c=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return e(s)&&(c="leading"in s?!!s.leading:c,d="trailing"in s?!!s.trailing:d),t(a,i,{leading:c,maxWait:i,trailing:d})}return c0=n,c0}var mq=pq();const XI=st(mq);function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function TT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Dd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TT(Object(r),!0).forEach(function(n){vq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vq(t,e,r){return e=gq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gq(t){var e=yq(t,"string");return Ec(e)=="symbol"?e:e+""}function yq(t,e){if(Ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bq(t,e){return jq(t)||Sq(t,e)||wq(t,e)||xq()}function xq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wq(t,e){if(t){if(typeof t=="string")return ET(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ET(t,e)}}function ET(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sq(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function jq(t){if(Array.isArray(t))return t}var kr=N.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,s=i===void 0?"100%":i,c=t.height,d=c===void 0?"100%":c,f=t.minWidth,p=f===void 0?0:f,m=t.minHeight,v=t.maxHeight,y=t.children,w=t.debounce,S=w===void 0?0:w,b=t.id,_=t.className,A=t.onResize,x=t.style,T=x===void 0?{}:x,C=N.useRef(null),E=N.useRef();E.current=A,N.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var P=N.useState({containerWidth:a.width,containerHeight:a.height}),R=bq(P,2),M=R[0],$=R[1],k=N.useCallback(function(F,z){$(function(q){var Y=Math.round(F),te=Math.round(z);return q.containerWidth===Y&&q.containerHeight===te?q:{containerWidth:Y,containerHeight:te}})},[]);N.useEffect(function(){var F=function(oe){var ue,W=oe[0].contentRect,J=W.width,D=W.height;k(J,D),(ue=E.current)===null||ue===void 0||ue.call(E,J,D)};S>0&&(F=XI(F,S,{trailing:!0,leading:!1}));var z=new ResizeObserver(F),q=C.current.getBoundingClientRect(),Y=q.width,te=q.height;return k(Y,te),z.observe(C.current),function(){z.disconnect()}},[k,S]);var L=N.useMemo(function(){var F=M.containerWidth,z=M.containerHeight;if(F<0||z<0)return null;qn(eo(s)||eo(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,d),qn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=eo(s)?F:s,Y=eo(d)?z:d;r&&r>0&&(q?Y=q/r:Y&&(q=Y*r),v&&Y>v&&(Y=v)),qn(q>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,Y,s,d,p,m,r);var te=!Array.isArray(y)&&Ea(y.type).endsWith("Chart");return G.Children.map(y,function(ee){return G.isValidElement(ee)?N.cloneElement(ee,Dd({width:q,height:Y},te?{style:Dd({height:"100%",width:"100%",maxHeight:Y,maxWidth:q},ee.props.style)}:{})):ee})},[r,y,d,v,m,p,M,s]);return G.createElement("div",{id:b?"".concat(b):void 0,className:Qe("recharts-responsive-container",_),style:Dd(Dd({},T),{},{width:s,height:d,minWidth:p,minHeight:m,maxHeight:v}),ref:C},L)}),Si=function(e){return null};Si.displayName="Cell";function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function PT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Wb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PT(Object(r),!0).forEach(function(n){_q(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _q(t,e,r){return e=Aq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Aq(t){var e=Oq(t,"string");return Pc(e)=="symbol"?e:e+""}function Oq(t,e){if(Pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zo={widthCache:{},cacheCount:0},Cq=2e3,Tq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kT="recharts_measurement_span";function Eq(t){var e=Wb({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var lc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||bo.isSsr)return{width:0,height:0};var n=Eq(r),a=JSON.stringify({text:e,copyStyle:n});if(Zo.widthCache[a])return Zo.widthCache[a];try{var i=document.getElementById(kT);i||(i=document.createElement("span"),i.setAttribute("id",kT),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=Wb(Wb({},Tq),n);Object.assign(i.style,s),i.textContent="".concat(e);var c=i.getBoundingClientRect(),d={width:c.width,height:c.height};return Zo.widthCache[a]=d,++Zo.cacheCount>Cq&&(Zo.cacheCount=0,Zo.widthCache={}),d}catch{return{width:0,height:0}}},Pq=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function yf(t,e){return Mq(t)||Iq(t,e)||Nq(t,e)||kq()}function kq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nq(t,e){if(t){if(typeof t=="string")return NT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NT(t,e)}}function NT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Iq(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function Mq(t){if(Array.isArray(t))return t}function Rq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$q(n.key),n)}}function Dq(t,e,r){return e&&IT(t.prototype,e),r&&IT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $q(t){var e=Lq(t,"string");return kc(e)=="symbol"?e:e+""}function Lq(t,e){if(kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,JI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zq=Object.keys(JI),ds="NaN";function Uq(t,e){return t*JI[e]}var $d=(function(){function t(e,r){Rq(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Bq.test(r)&&(this.num=NaN,this.unit=""),zq.includes(r)&&(this.num=Uq(e,r),this.unit="px")}return Dq(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Fq.exec(r))!==null&&n!==void 0?n:[],i=yf(a,3),s=i[1],c=i[2];return new t(parseFloat(s),c??"")}}])})();function QI(t){if(t.includes(ds))return ds;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=MT.exec(e))!==null&&r!==void 0?r:[],a=yf(n,4),i=a[1],s=a[2],c=a[3],d=$d.parse(i??""),f=$d.parse(c??""),p=s==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return ds;e=e.replace(MT,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,v=(m=RT.exec(e))!==null&&m!==void 0?m:[],y=yf(v,4),w=y[1],S=y[2],b=y[3],_=$d.parse(w??""),A=$d.parse(b??""),x=S==="+"?_.add(A):_.subtract(A);if(x.isNaN())return ds;e=e.replace(RT,x.toString())}return e}var DT=/\(([^()]*)\)/;function qq(t){for(var e=t;e.includes("(");){var r=DT.exec(e),n=yf(r,2),a=n[1];e=e.replace(DT,QI(a))}return e}function Vq(t){var e=t.replace(/\s+/g,"");return e=qq(e),e=QI(e),e}function Hq(t){try{return Vq(t)}catch{return ds}}function u0(t){var e=Hq(t.slice(5,-1));return e===ds?"":e}var Wq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Gq=["dx","dy","angle","className","breakAll"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gb.apply(this,arguments)}function $T(t,e){if(t==null)return{};var r=Kq(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function LT(t,e){return Qq(t)||Jq(t,e)||Xq(t,e)||Yq()}function Yq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xq(t,e){if(t){if(typeof t=="string")return BT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BT(t,e)}}function BT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jq(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function Qq(t){if(Array.isArray(t))return t}var ZI=/[ \f\n\r\t\v\u2028\u2029]+/,e2=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];Xe(r)||(n?i=r.toString().split(""):i=r.toString().split(ZI));var s=i.map(function(d){return{word:d,width:lc(d,a).width}}),c=n?0:lc("",a).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}},Zq=function(e,r,n,a,i){var s=e.maxLines,c=e.children,d=e.style,f=e.breakAll,p=je(s),m=c,v=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(Y,te){var ee=te.word,oe=te.width,ue=Y[Y.length-1];if(ue&&(a==null||i||ue.width+oe+n<Number(a)))ue.words.push(ee),ue.width+=oe+n;else{var W={words:[ee],width:oe};Y.push(W)}return Y},[])},y=v(r),w=function(q){return q.reduce(function(Y,te){return Y.width>te.width?Y:te})};if(!p)return y;for(var S="",b=function(q){var Y=m.slice(0,q),te=e2({breakAll:f,style:d,children:Y+S}).wordsWithComputedWidth,ee=v(te),oe=ee.length>s||w(ee).width>Number(a);return[oe,ee]},_=0,A=m.length-1,x=0,T;_<=A&&x<=m.length-1;){var C=Math.floor((_+A)/2),E=C-1,P=b(E),R=LT(P,2),M=R[0],$=R[1],k=b(C),L=LT(k,1),F=L[0];if(!M&&!F&&(_=C+1),M&&F&&(A=C-1),!M&&F){T=$;break}x++}return T||y},FT=function(e){var r=Xe(e)?[]:e.toString().split(ZI);return[{words:r}]},e6=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,c=e.maxLines;if((r||n)&&!bo.isSsr){var d,f,p=e2({breakAll:s,children:a,style:i});if(p){var m=p.wordsWithComputedWidth,v=p.spaceWidth;d=m,f=v}else return FT(a);return Zq({breakAll:s,children:a,maxLines:c,style:i},d,f,r,n)}return FT(a)},zT="#808080",fo=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.lineHeight,c=s===void 0?"1em":s,d=e.capHeight,f=d===void 0?"0.71em":d,p=e.scaleToFit,m=p===void 0?!1:p,v=e.textAnchor,y=v===void 0?"start":v,w=e.verticalAnchor,S=w===void 0?"end":w,b=e.fill,_=b===void 0?zT:b,A=$T(e,Wq),x=N.useMemo(function(){return e6({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:m,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,m,A.style,A.width]),T=A.dx,C=A.dy,E=A.angle,P=A.className,R=A.breakAll,M=$T(A,Gq);if(!tr(n)||!tr(i))return null;var $=n+(je(T)?T:0),k=i+(je(C)?C:0),L;switch(S){case"start":L=u0("calc(".concat(f,")"));break;case"middle":L=u0("calc(".concat((x.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:L=u0("calc(".concat(x.length-1," * -").concat(c,")"));break}var F=[];if(m){var z=x[0].width,q=A.width;F.push("scale(".concat((je(q)?q/z:1)/z,")"))}return E&&F.push("rotate(".concat(E,", ").concat($,", ").concat(k,")")),F.length&&(M.transform=F.join(" ")),G.createElement("text",Gb({},qe(M,!0),{x:$,y:k,className:Qe("recharts-text",P),textAnchor:y,fill:_.includes("url")?zT:_}),x.map(function(Y,te){var ee=Y.words.join(R?"":" ");return G.createElement("tspan",{x:$,dy:te===0?L:c,key:"".concat(ee,"-").concat(te)},ee)}))};function gi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function t6(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $w(t){let e,r,n;t.length!==2?(e=gi,r=(c,d)=>gi(t(c),d),n=(c,d)=>t(c)-d):(e=t===gi||t===t6?t:r6,r=t,n=t);function a(c,d,f=0,p=c.length){if(f<p){if(e(d,d)!==0)return p;do{const m=f+p>>>1;r(c[m],d)<0?f=m+1:p=m}while(f<p)}return f}function i(c,d,f=0,p=c.length){if(f<p){if(e(d,d)!==0)return p;do{const m=f+p>>>1;r(c[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function s(c,d,f=0,p=c.length){const m=a(c,d,f,p-1);return m>f&&n(c[m-1],d)>-n(c[m],d)?m-1:m}return{left:a,center:s,right:i}}function r6(){return 0}function t2(t){return t===null?NaN:+t}function*n6(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const a6=$w(gi),du=a6.right;$w(t2).center;class UT extends Map{constructor(e,r=s6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(qT(this,e))}has(e){return super.has(qT(this,e))}set(e,r){return super.set(i6(this,e),r)}delete(e){return super.delete(o6(this,e))}}function qT({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function i6({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function o6({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function s6(t){return t!==null&&typeof t=="object"?t.valueOf():t}function l6(t=gi){if(t===gi)return r2;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function r2(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const c6=Math.sqrt(50),u6=Math.sqrt(10),d6=Math.sqrt(2);function bf(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=c6?10:i>=u6?5:i>=d6?2:1;let c,d,f;return a<0?(f=Math.pow(10,-a)/s,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,a)*s,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=r&&r<2?bf(t,e,r*2):[c,d,f]}function Kb(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,s]=n?bf(e,t,r):bf(t,e,r);if(!(i>=a))return[];const c=i-a+1,d=new Array(c);if(n)if(s<0)for(let f=0;f<c;++f)d[f]=(i-f)/-s;else for(let f=0;f<c;++f)d[f]=(i-f)*s;else if(s<0)for(let f=0;f<c;++f)d[f]=(a+f)/-s;else for(let f=0;f<c;++f)d[f]=(a+f)*s;return d}function Yb(t,e,r){return e=+e,t=+t,r=+r,bf(t,e,r)[2]}function Xb(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?Yb(e,t,r):Yb(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function VT(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function HT(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function n2(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?r2:l6(a);n>r;){if(n-r>600){const d=n-r+1,f=e-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(d-m)/d)*(f-d/2<0?-1:1),y=Math.max(r,Math.floor(e-f*m/d+v)),w=Math.min(n,Math.floor(e+(d-f)*m/d+v));n2(t,e,y,w,a)}const i=t[e];let s=r,c=n;for(ql(t,r,e),a(t[n],i)>0&&ql(t,r,n);s<c;){for(ql(t,s,c),++s,--c;a(t[s],i)<0;)++s;for(;a(t[c],i)>0;)--c}a(t[r],i)===0?ql(t,r,c):(++c,ql(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function ql(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function f6(t,e,r){if(t=Float64Array.from(n6(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return HT(t);if(e>=1)return VT(t);var n,a=(n-1)*e,i=Math.floor(a),s=VT(n2(t,i).subarray(0,i+1)),c=HT(t.subarray(i+1));return s+(c-s)*(a-i)}}function h6(t,e,r=t2){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),s=+r(t[i],i,t),c=+r(t[i+1],i+1,t);return s+(c-s)*(a-i)}}function p6(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function Cn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ba(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Jb=Symbol("implicit");function Lw(){var t=new UT,e=[],r=[],n=Jb;function a(i){let s=t.get(i);if(s===void 0){if(n!==Jb)return n;t.set(i,s=e.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new UT;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Lw(e,r).unknown(n)},Cn.apply(a,arguments),a}function Nc(){var t=Lw().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,s,c=!1,d=0,f=0,p=.5;delete t.unknown;function m(){var v=e().length,y=a<n,w=y?a:n,S=y?n:a;i=(S-w)/Math.max(1,v-d+f*2),c&&(i=Math.floor(i)),w+=(S-w-i*(v-d))*p,s=i*(1-d),c&&(w=Math.round(w),s=Math.round(s));var b=p6(v).map(function(_){return w+i*_});return r(y?b.reverse():b)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,m()):[n,a]},t.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,c=!0,m()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(v){return arguments.length?(c=!!v,m()):c},t.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),m()):d},t.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),m()):d},t.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},t.copy=function(){return Nc(e(),[n,a]).round(c).paddingInner(d).paddingOuter(f).align(p)},Cn.apply(m(),arguments)}function a2(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return a2(e())},t}function cc(){return a2(Nc.apply(null,arguments).paddingInner(1))}function Bw(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function i2(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function fu(){}var Ic=.7,xf=1/Ic,ys="\\s*([+-]?\\d+)\\s*",Mc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",m6=/^#([0-9a-f]{3,8})$/,v6=new RegExp(`^rgb\\(${ys},${ys},${ys}\\)$`),g6=new RegExp(`^rgb\\(${na},${na},${na}\\)$`),y6=new RegExp(`^rgba\\(${ys},${ys},${ys},${Mc}\\)$`),b6=new RegExp(`^rgba\\(${na},${na},${na},${Mc}\\)$`),x6=new RegExp(`^hsl\\(${Mc},${na},${na}\\)$`),w6=new RegExp(`^hsla\\(${Mc},${na},${na},${Mc}\\)$`),WT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bw(fu,Rc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:GT,formatHex:GT,formatHex8:S6,formatHsl:j6,formatRgb:KT,toString:KT});function GT(){return this.rgb().formatHex()}function S6(){return this.rgb().formatHex8()}function j6(){return o2(this).formatHsl()}function KT(){return this.rgb().formatRgb()}function Rc(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=m6.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?YT(e):r===3?new qr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Ld(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Ld(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=v6.exec(t))?new qr(e[1],e[2],e[3],1):(e=g6.exec(t))?new qr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=y6.exec(t))?Ld(e[1],e[2],e[3],e[4]):(e=b6.exec(t))?Ld(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=x6.exec(t))?QT(e[1],e[2]/100,e[3]/100,1):(e=w6.exec(t))?QT(e[1],e[2]/100,e[3]/100,e[4]):WT.hasOwnProperty(t)?YT(WT[t]):t==="transparent"?new qr(NaN,NaN,NaN,0):null}function YT(t){return new qr(t>>16&255,t>>8&255,t&255,1)}function Ld(t,e,r,n){return n<=0&&(t=e=r=NaN),new qr(t,e,r,n)}function _6(t){return t instanceof fu||(t=Rc(t)),t?(t=t.rgb(),new qr(t.r,t.g,t.b,t.opacity)):new qr}function Qb(t,e,r,n){return arguments.length===1?_6(t):new qr(t,e,r,n??1)}function qr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Bw(qr,Qb,i2(fu,{brighter(t){return t=t==null?xf:Math.pow(xf,t),new qr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ic:Math.pow(Ic,t),new qr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qr(oo(this.r),oo(this.g),oo(this.b),wf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XT,formatHex:XT,formatHex8:A6,formatRgb:JT,toString:JT}));function XT(){return`#${to(this.r)}${to(this.g)}${to(this.b)}`}function A6(){return`#${to(this.r)}${to(this.g)}${to(this.b)}${to((isNaN(this.opacity)?1:this.opacity)*255)}`}function JT(){const t=wf(this.opacity);return`${t===1?"rgb(":"rgba("}${oo(this.r)}, ${oo(this.g)}, ${oo(this.b)}${t===1?")":`, ${t})`}`}function wf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function oo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function to(t){return t=oo(t),(t<16?"0":"")+t.toString(16)}function QT(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Un(t,e,r,n)}function o2(t){if(t instanceof Un)return new Un(t.h,t.s,t.l,t.opacity);if(t instanceof fu||(t=Rc(t)),!t)return new Un;if(t instanceof Un)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),s=NaN,c=i-a,d=(i+a)/2;return c?(e===i?s=(r-n)/c+(r<n)*6:r===i?s=(n-e)/c+2:s=(e-r)/c+4,c/=d<.5?i+a:2-i-a,s*=60):c=d>0&&d<1?0:s,new Un(s,c,d,t.opacity)}function O6(t,e,r,n){return arguments.length===1?o2(t):new Un(t,e,r,n??1)}function Un(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Bw(Un,O6,i2(fu,{brighter(t){return t=t==null?xf:Math.pow(xf,t),new Un(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ic:Math.pow(Ic,t),new Un(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new qr(d0(t>=240?t-240:t+120,a,n),d0(t,a,n),d0(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Un(ZT(this.h),Bd(this.s),Bd(this.l),wf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wf(this.opacity);return`${t===1?"hsl(":"hsla("}${ZT(this.h)}, ${Bd(this.s)*100}%, ${Bd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ZT(t){return t=(t||0)%360,t<0?t+360:t}function Bd(t){return Math.max(0,Math.min(1,t||0))}function d0(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Fw=t=>()=>t;function C6(t,e){return function(r){return t+r*e}}function T6(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function E6(t){return(t=+t)==1?s2:function(e,r){return r-e?T6(e,r,t):Fw(isNaN(e)?r:e)}}function s2(t,e){var r=e-t;return r?C6(t,r):Fw(isNaN(t)?e:t)}const eE=(function t(e){var r=E6(e);function n(a,i){var s=r((a=Qb(a)).r,(i=Qb(i)).r),c=r(a.g,i.g),d=r(a.b,i.b),f=s2(a.opacity,i.opacity);return function(p){return a.r=s(p),a.g=c(p),a.b=d(p),a.opacity=f(p),a+""}}return n.gamma=t,n})(1);function P6(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function k6(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function N6(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=el(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(c){for(s=0;s<n;++s)i[s]=a[s](c);return i}}function I6(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Sf(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function M6(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=el(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Zb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,f0=new RegExp(Zb.source,"g");function R6(t){return function(){return t}}function D6(t){return function(e){return t(e)+""}}function $6(t,e){var r=Zb.lastIndex=f0.lastIndex=0,n,a,i,s=-1,c=[],d=[];for(t=t+"",e=e+"";(n=Zb.exec(t))&&(a=f0.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),c[s]?c[s]+=i:c[++s]=i),(n=n[0])===(a=a[0])?c[s]?c[s]+=a:c[++s]=a:(c[++s]=null,d.push({i:s,x:Sf(n,a)})),r=f0.lastIndex;return r<e.length&&(i=e.slice(r),c[s]?c[s]+=i:c[++s]=i),c.length<2?d[0]?D6(d[0].x):R6(e):(e=d.length,function(f){for(var p=0,m;p<e;++p)c[(m=d[p]).i]=m.x(f);return c.join("")})}function el(t,e){var r=typeof e,n;return e==null||r==="boolean"?Fw(e):(r==="number"?Sf:r==="string"?(n=Rc(e))?(e=n,eE):$6:e instanceof Rc?eE:e instanceof Date?I6:k6(e)?P6:Array.isArray(e)?N6:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?M6:Sf)(t,e)}function zw(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function L6(t,e){e===void 0&&(e=t,t=el);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(s){var c=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[c](s-c)}}function B6(t){return function(){return t}}function jf(t){return+t}var tE=[0,1];function Nr(t){return t}function ex(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:B6(isNaN(e)?NaN:.5)}function F6(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function z6(t,e,r){var n=t[0],a=t[1],i=e[0],s=e[1];return a<n?(n=ex(a,n),i=r(s,i)):(n=ex(n,a),i=r(i,s)),function(c){return i(n(c))}}function U6(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)a[s]=ex(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(c){var d=du(t,c,1,n)-1;return i[d](a[d](c))}}function hu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Eh(){var t=tE,e=tE,r=el,n,a,i,s=Nr,c,d,f;function p(){var v=Math.min(t.length,e.length);return s!==Nr&&(s=F6(t[0],t[v-1])),c=v>2?U6:z6,d=f=null,m}function m(v){return v==null||isNaN(v=+v)?i:(d||(d=c(t.map(n),e,r)))(n(s(v)))}return m.invert=function(v){return s(a((f||(f=c(e,t.map(n),Sf)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,jf),p()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),r=zw,p()},m.clamp=function(v){return arguments.length?(s=v?!0:Nr,p()):s!==Nr},m.interpolate=function(v){return arguments.length?(r=v,p()):r},m.unknown=function(v){return arguments.length?(i=v,m):i},function(v,y){return n=v,a=y,p()}}function Uw(){return Eh()(Nr,Nr)}function q6(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _f(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Os(t){return t=_f(Math.abs(t)),t?t[1]:NaN}function V6(t,e){return function(r,n){for(var a=r.length,i=[],s=0,c=t[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),i.push(r.substring(a-=c,a+c)),!((d+=c+1)>n));)c=t[s=(s+1)%t.length];return i.reverse().join(e)}}function H6(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var W6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dc(t){if(!(e=W6.exec(t)))throw new Error("invalid format: "+t);var e;return new qw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Dc.prototype=qw.prototype;function qw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}qw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function G6(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var l2;function K6(t,e){var r=_f(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(l2=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+_f(t,Math.max(0,e+i-1))[0]}function rE(t,e){var r=_f(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const nE={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:q6,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rE(t*100,e),r:rE,s:K6,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aE(t){return t}var iE=Array.prototype.map,oE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Y6(t){var e=t.grouping===void 0||t.thousands===void 0?aE:V6(iE.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?aE:H6(iE.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(m){m=Dc(m);var v=m.fill,y=m.align,w=m.sign,S=m.symbol,b=m.zero,_=m.width,A=m.comma,x=m.precision,T=m.trim,C=m.type;C==="n"?(A=!0,C="g"):nE[C]||(x===void 0&&(x=12),T=!0,C="g"),(b||v==="0"&&y==="=")&&(b=!0,v="0",y="=");var E=S==="$"?r:S==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=S==="$"?n:/[%p]/.test(C)?s:"",R=nE[C],M=/[defgprs%]/.test(C);x=x===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function $(k){var L=E,F=P,z,q,Y;if(C==="c")F=R(k)+F,k="";else{k=+k;var te=k<0||1/k<0;if(k=isNaN(k)?d:R(Math.abs(k),x),T&&(k=G6(k)),te&&+k==0&&w!=="+"&&(te=!1),L=(te?w==="("?w:c:w==="-"||w==="("?"":w)+L,F=(C==="s"?oE[8+l2/3]:"")+F+(te&&w==="("?")":""),M){for(z=-1,q=k.length;++z<q;)if(Y=k.charCodeAt(z),48>Y||Y>57){F=(Y===46?a+k.slice(z+1):k.slice(z))+F,k=k.slice(0,z);break}}}A&&!b&&(k=e(k,1/0));var ee=L.length+k.length+F.length,oe=ee<_?new Array(_-ee+1).join(v):"";switch(A&&b&&(k=e(oe+k,oe.length?_-F.length:1/0),oe=""),y){case"<":k=L+k+F+oe;break;case"=":k=L+oe+k+F;break;case"^":k=oe.slice(0,ee=oe.length>>1)+L+k+F+oe.slice(ee);break;default:k=oe+L+k+F;break}return i(k)}return $.toString=function(){return m+""},$}function p(m,v){var y=f((m=Dc(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(Os(v)/3)))*3,S=Math.pow(10,-w),b=oE[8+w/3];return function(_){return y(S*_)+b}}return{format:f,formatPrefix:p}}var Fd,Vw,c2;X6({thousands:",",grouping:[3],currency:["$",""]});function X6(t){return Fd=Y6(t),Vw=Fd.format,c2=Fd.formatPrefix,Fd}function J6(t){return Math.max(0,-Os(Math.abs(t)))}function Q6(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Os(e)/3)))*3-Os(Math.abs(t)))}function Z6(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Os(e)-Os(t))+1}function u2(t,e,r,n){var a=Xb(t,e,r),i;switch(n=Dc(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=Q6(a,s))&&(n.precision=i),c2(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Z6(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=J6(a))&&(n.precision=i-(n.type==="%")*2);break}}return Vw(n)}function ji(t){var e=t.domain;return t.ticks=function(r){var n=e();return Kb(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return u2(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,s=n[a],c=n[i],d,f,p=10;for(c<s&&(f=s,s=c,c=f,f=a,a=i,i=f);p-- >0;){if(f=Yb(s,c,r),f===d)return n[a]=s,n[i]=c,e(n);if(f>0)s=Math.floor(s/f)*f,c=Math.ceil(c/f)*f;else if(f<0)s=Math.ceil(s*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function Af(){var t=Uw();return t.copy=function(){return hu(t,Af())},Cn.apply(t,arguments),ji(t)}function d2(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,jf),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return d2(t).unknown(e)},t=arguments.length?Array.from(t,jf):[0,1],ji(r)}function f2(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),t[r]=e.floor(a),t[n]=e.ceil(i),t}function sE(t){return Math.log(t)}function lE(t){return Math.exp(t)}function e8(t){return-Math.log(-t)}function t8(t){return-Math.exp(-t)}function r8(t){return isFinite(t)?+("1e"+t):t<0?0:t}function n8(t){return t===10?r8:t===Math.E?Math.exp:e=>Math.pow(t,e)}function a8(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function cE(t){return(e,r)=>-t(-e,r)}function Hw(t){const e=t(sE,lE),r=e.domain;let n=10,a,i;function s(){return a=a8(n),i=n8(n),r()[0]<0?(a=cE(a),i=cE(i),t(e8,t8)):t(sE,lE),e}return e.base=function(c){return arguments.length?(n=+c,s()):n},e.domain=function(c){return arguments.length?(r(c),s()):r()},e.ticks=c=>{const d=r();let f=d[0],p=d[d.length-1];const m=p<f;m&&([f,p]=[p,f]);let v=a(f),y=a(p),w,S;const b=c==null?10:+c;let _=[];if(!(n%1)&&y-v<b){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(w=1;w<n;++w)if(S=v<0?w/i(-v):w*i(v),!(S<f)){if(S>p)break;_.push(S)}}else for(;v<=y;++v)for(w=n-1;w>=1;--w)if(S=v>0?w/i(-v):w*i(v),!(S<f)){if(S>p)break;_.push(S)}_.length*2<b&&(_=Kb(f,p,b))}else _=Kb(v,y,Math.min(y-v,b)).map(i);return m?_.reverse():_},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Dc(d)).precision==null&&(d.trim=!0),d=Vw(d)),c===1/0)return d;const f=Math.max(1,n*c/e.ticks().length);return p=>{let m=p/i(Math.round(a(p)));return m*n<n-.5&&(m*=n),m<=f?d(p):""}},e.nice=()=>r(f2(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),e}function h2(){const t=Hw(Eh()).domain([1,10]);return t.copy=()=>hu(t,h2()).base(t.base()),Cn.apply(t,arguments),t}function uE(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function dE(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ww(t){var e=1,r=t(uE(e),dE(e));return r.constant=function(n){return arguments.length?t(uE(e=+n),dE(e)):e},ji(r)}function p2(){var t=Ww(Eh());return t.copy=function(){return hu(t,p2()).constant(t.constant())},Cn.apply(t,arguments)}function fE(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function i8(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function o8(t){return t<0?-t*t:t*t}function Gw(t){var e=t(Nr,Nr),r=1;function n(){return r===1?t(Nr,Nr):r===.5?t(i8,o8):t(fE(r),fE(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},ji(e)}function Kw(){var t=Gw(Eh());return t.copy=function(){return hu(t,Kw()).exponent(t.exponent())},Cn.apply(t,arguments),t}function s8(){return Kw.apply(null,arguments).exponent(.5)}function hE(t){return Math.sign(t)*t*t}function l8(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function m2(){var t=Uw(),e=[0,1],r=!1,n;function a(i){var s=l8(t(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return t.invert(hE(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,jf)).map(hE)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return m2(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Cn.apply(a,arguments),ji(a)}function v2(){var t=[],e=[],r=[],n;function a(){var s=0,c=Math.max(1,e.length);for(r=new Array(c-1);++s<c;)r[s-1]=h6(t,s/c);return i}function i(s){return s==null||isNaN(s=+s)?n:e[du(r,s)]}return i.invertExtent=function(s){var c=e.indexOf(s);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let c of s)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(gi),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return v2().domain(t).range(e).unknown(n)},Cn.apply(i,arguments)}function g2(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function s(d){return d!=null&&d<=d?a[du(n,d,0,r)]:i}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return s}return s.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},s.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},s.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},s.unknown=function(d){return arguments.length&&(i=d),s},s.thresholds=function(){return n.slice()},s.copy=function(){return g2().domain([t,e]).range(a).unknown(i)},Cn.apply(ji(s),arguments)}function y2(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[du(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return y2().domain(t).range(e).unknown(r)},Cn.apply(a,arguments)}const h0=new Date,p0=new Date;function nr(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),c=a.ceil(i);return i-s<c-i?s:c},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,c)=>{const d=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<s)||!(c>0))return d;let f;do d.push(f=new Date(+i)),e(i,c),t(i);while(f<i&&i<s);return d},a.filter=i=>nr(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;e(s,-1),!i(s););else for(;--c>=0;)for(;e(s,1),!i(s););}),r&&(a.count=(i,s)=>(h0.setTime(+i),p0.setTime(+s),t(h0),t(p0),Math.floor(r(h0,p0))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Of=nr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Of.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?nr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Of);Of.range;const Aa=1e3,jn=Aa*60,Oa=jn*60,Na=Oa*24,Yw=Na*7,pE=Na*30,m0=Na*365,ro=nr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Aa)},(t,e)=>(e-t)/Aa,t=>t.getUTCSeconds());ro.range;const Xw=nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Aa)},(t,e)=>{t.setTime(+t+e*jn)},(t,e)=>(e-t)/jn,t=>t.getMinutes());Xw.range;const Jw=nr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*jn)},(t,e)=>(e-t)/jn,t=>t.getUTCMinutes());Jw.range;const Qw=nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Aa-t.getMinutes()*jn)},(t,e)=>{t.setTime(+t+e*Oa)},(t,e)=>(e-t)/Oa,t=>t.getHours());Qw.range;const Zw=nr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Oa)},(t,e)=>(e-t)/Oa,t=>t.getUTCHours());Zw.range;const pu=nr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*jn)/Na,t=>t.getDate()-1);pu.range;const Ph=nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Na,t=>t.getUTCDate()-1);Ph.range;const b2=nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Na,t=>Math.floor(t/Na));b2.range;function xo(t){return nr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*jn)/Yw)}const kh=xo(0),Cf=xo(1),c8=xo(2),u8=xo(3),Cs=xo(4),d8=xo(5),f8=xo(6);kh.range;Cf.range;c8.range;u8.range;Cs.range;d8.range;f8.range;function wo(t){return nr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Yw)}const Nh=wo(0),Tf=wo(1),h8=wo(2),p8=wo(3),Ts=wo(4),m8=wo(5),v8=wo(6);Nh.range;Tf.range;h8.range;p8.range;Ts.range;m8.range;v8.range;const eS=nr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());eS.range;const tS=nr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());tS.range;const Ia=nr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ia.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ia.range;const Ma=nr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ma.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ma.range;function x2(t,e,r,n,a,i){const s=[[ro,1,Aa],[ro,5,5*Aa],[ro,15,15*Aa],[ro,30,30*Aa],[i,1,jn],[i,5,5*jn],[i,15,15*jn],[i,30,30*jn],[a,1,Oa],[a,3,3*Oa],[a,6,6*Oa],[a,12,12*Oa],[n,1,Na],[n,2,2*Na],[r,1,Yw],[e,1,pE],[e,3,3*pE],[t,1,m0]];function c(f,p,m){const v=p<f;v&&([f,p]=[p,f]);const y=m&&typeof m.range=="function"?m:d(f,p,m),w=y?y.range(f,+p+1):[];return v?w.reverse():w}function d(f,p,m){const v=Math.abs(p-f)/m,y=$w(([,,b])=>b).right(s,v);if(y===s.length)return t.every(Xb(f/m0,p/m0,m));if(y===0)return Of.every(Math.max(Xb(f,p,m),1));const[w,S]=s[v/s[y-1][2]<s[y][2]/v?y-1:y];return w.every(S)}return[c,d]}const[g8,y8]=x2(Ma,tS,Nh,b2,Zw,Jw),[b8,x8]=x2(Ia,eS,kh,pu,Qw,Xw);function v0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function g0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vl(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function w8(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,s=t.shortDays,c=t.months,d=t.shortMonths,f=Hl(a),p=Wl(a),m=Hl(i),v=Wl(i),y=Hl(s),w=Wl(s),S=Hl(c),b=Wl(c),_=Hl(d),A=Wl(d),x={a:te,A:ee,b:oe,B:ue,c:null,d:xE,e:xE,f:V8,g:eV,G:rV,H:z8,I:U8,j:q8,L:w2,m:H8,M:W8,p:W,q:J,Q:jE,s:_E,S:G8,u:K8,U:Y8,V:X8,w:J8,W:Q8,x:null,X:null,y:Z8,Y:tV,Z:nV,"%":SE},T={a:D,A:re,b:K,B:fe,c:null,d:wE,e:wE,f:sV,g:gV,G:bV,H:aV,I:iV,j:oV,L:j2,m:lV,M:cV,p:Me,q:Re,Q:jE,s:_E,S:uV,u:dV,U:fV,V:hV,w:pV,W:mV,x:null,X:null,y:vV,Y:yV,Z:xV,"%":SE},C={a:$,A:k,b:L,B:F,c:z,d:yE,e:yE,f:$8,g:gE,G:vE,H:bE,I:bE,j:I8,L:D8,m:N8,M:M8,p:M,q:k8,Q:B8,s:F8,S:R8,u:O8,U:C8,V:T8,w:A8,W:E8,x:q,X:Y,y:gE,Y:vE,Z:P8,"%":L8};x.x=E(r,x),x.X=E(n,x),x.c=E(e,x),T.x=E(r,T),T.X=E(n,T),T.c=E(e,T);function E(he,Ee){return function(_e){var ve=[],Ye=-1,V=0,Fe=he.length,lt,It,Gr;for(_e instanceof Date||(_e=new Date(+_e));++Ye<Fe;)he.charCodeAt(Ye)===37&&(ve.push(he.slice(V,Ye)),(It=mE[lt=he.charAt(++Ye)])!=null?lt=he.charAt(++Ye):It=lt==="e"?" ":"0",(Gr=Ee[lt])&&(lt=Gr(_e,It)),ve.push(lt),V=Ye+1);return ve.push(he.slice(V,Ye)),ve.join("")}}function P(he,Ee){return function(_e){var ve=Vl(1900,void 0,1),Ye=R(ve,he,_e+="",0),V,Fe;if(Ye!=_e.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Ee&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(V=g0(Vl(ve.y,0,1)),Fe=V.getUTCDay(),V=Fe>4||Fe===0?Tf.ceil(V):Tf(V),V=Ph.offset(V,(ve.V-1)*7),ve.y=V.getUTCFullYear(),ve.m=V.getUTCMonth(),ve.d=V.getUTCDate()+(ve.w+6)%7):(V=v0(Vl(ve.y,0,1)),Fe=V.getDay(),V=Fe>4||Fe===0?Cf.ceil(V):Cf(V),V=pu.offset(V,(ve.V-1)*7),ve.y=V.getFullYear(),ve.m=V.getMonth(),ve.d=V.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),Fe="Z"in ve?g0(Vl(ve.y,0,1)).getUTCDay():v0(Vl(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(Fe+5)%7:ve.w+ve.U*7-(Fe+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,g0(ve)):v0(ve)}}function R(he,Ee,_e,ve){for(var Ye=0,V=Ee.length,Fe=_e.length,lt,It;Ye<V;){if(ve>=Fe)return-1;if(lt=Ee.charCodeAt(Ye++),lt===37){if(lt=Ee.charAt(Ye++),It=C[lt in mE?Ee.charAt(Ye++):lt],!It||(ve=It(he,_e,ve))<0)return-1}else if(lt!=_e.charCodeAt(ve++))return-1}return ve}function M(he,Ee,_e){var ve=f.exec(Ee.slice(_e));return ve?(he.p=p.get(ve[0].toLowerCase()),_e+ve[0].length):-1}function $(he,Ee,_e){var ve=y.exec(Ee.slice(_e));return ve?(he.w=w.get(ve[0].toLowerCase()),_e+ve[0].length):-1}function k(he,Ee,_e){var ve=m.exec(Ee.slice(_e));return ve?(he.w=v.get(ve[0].toLowerCase()),_e+ve[0].length):-1}function L(he,Ee,_e){var ve=_.exec(Ee.slice(_e));return ve?(he.m=A.get(ve[0].toLowerCase()),_e+ve[0].length):-1}function F(he,Ee,_e){var ve=S.exec(Ee.slice(_e));return ve?(he.m=b.get(ve[0].toLowerCase()),_e+ve[0].length):-1}function z(he,Ee,_e){return R(he,e,Ee,_e)}function q(he,Ee,_e){return R(he,r,Ee,_e)}function Y(he,Ee,_e){return R(he,n,Ee,_e)}function te(he){return s[he.getDay()]}function ee(he){return i[he.getDay()]}function oe(he){return d[he.getMonth()]}function ue(he){return c[he.getMonth()]}function W(he){return a[+(he.getHours()>=12)]}function J(he){return 1+~~(he.getMonth()/3)}function D(he){return s[he.getUTCDay()]}function re(he){return i[he.getUTCDay()]}function K(he){return d[he.getUTCMonth()]}function fe(he){return c[he.getUTCMonth()]}function Me(he){return a[+(he.getUTCHours()>=12)]}function Re(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Ee=E(he+="",x);return Ee.toString=function(){return he},Ee},parse:function(he){var Ee=P(he+="",!1);return Ee.toString=function(){return he},Ee},utcFormat:function(he){var Ee=E(he+="",T);return Ee.toString=function(){return he},Ee},utcParse:function(he){var Ee=P(he+="",!0);return Ee.toString=function(){return he},Ee}}}var mE={"-":"",_:" ",0:"0"},ur=/^\s*\d+/,S8=/^%/,j8=/[\\^$*+?|[\]().{}]/g;function at(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function _8(t){return t.replace(j8,"\\$&")}function Hl(t){return new RegExp("^(?:"+t.map(_8).join("|")+")","i")}function Wl(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function A8(t,e,r){var n=ur.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function O8(t,e,r){var n=ur.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function C8(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function T8(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function E8(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function vE(t,e,r){var n=ur.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function gE(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function P8(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function k8(t,e,r){var n=ur.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function N8(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function yE(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function I8(t,e,r){var n=ur.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function bE(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function M8(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function R8(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function D8(t,e,r){var n=ur.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function $8(t,e,r){var n=ur.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function L8(t,e,r){var n=S8.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function B8(t,e,r){var n=ur.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function F8(t,e,r){var n=ur.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function xE(t,e){return at(t.getDate(),e,2)}function z8(t,e){return at(t.getHours(),e,2)}function U8(t,e){return at(t.getHours()%12||12,e,2)}function q8(t,e){return at(1+pu.count(Ia(t),t),e,3)}function w2(t,e){return at(t.getMilliseconds(),e,3)}function V8(t,e){return w2(t,e)+"000"}function H8(t,e){return at(t.getMonth()+1,e,2)}function W8(t,e){return at(t.getMinutes(),e,2)}function G8(t,e){return at(t.getSeconds(),e,2)}function K8(t){var e=t.getDay();return e===0?7:e}function Y8(t,e){return at(kh.count(Ia(t)-1,t),e,2)}function S2(t){var e=t.getDay();return e>=4||e===0?Cs(t):Cs.ceil(t)}function X8(t,e){return t=S2(t),at(Cs.count(Ia(t),t)+(Ia(t).getDay()===4),e,2)}function J8(t){return t.getDay()}function Q8(t,e){return at(Cf.count(Ia(t)-1,t),e,2)}function Z8(t,e){return at(t.getFullYear()%100,e,2)}function eV(t,e){return t=S2(t),at(t.getFullYear()%100,e,2)}function tV(t,e){return at(t.getFullYear()%1e4,e,4)}function rV(t,e){var r=t.getDay();return t=r>=4||r===0?Cs(t):Cs.ceil(t),at(t.getFullYear()%1e4,e,4)}function nV(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+at(e/60|0,"0",2)+at(e%60,"0",2)}function wE(t,e){return at(t.getUTCDate(),e,2)}function aV(t,e){return at(t.getUTCHours(),e,2)}function iV(t,e){return at(t.getUTCHours()%12||12,e,2)}function oV(t,e){return at(1+Ph.count(Ma(t),t),e,3)}function j2(t,e){return at(t.getUTCMilliseconds(),e,3)}function sV(t,e){return j2(t,e)+"000"}function lV(t,e){return at(t.getUTCMonth()+1,e,2)}function cV(t,e){return at(t.getUTCMinutes(),e,2)}function uV(t,e){return at(t.getUTCSeconds(),e,2)}function dV(t){var e=t.getUTCDay();return e===0?7:e}function fV(t,e){return at(Nh.count(Ma(t)-1,t),e,2)}function _2(t){var e=t.getUTCDay();return e>=4||e===0?Ts(t):Ts.ceil(t)}function hV(t,e){return t=_2(t),at(Ts.count(Ma(t),t)+(Ma(t).getUTCDay()===4),e,2)}function pV(t){return t.getUTCDay()}function mV(t,e){return at(Tf.count(Ma(t)-1,t),e,2)}function vV(t,e){return at(t.getUTCFullYear()%100,e,2)}function gV(t,e){return t=_2(t),at(t.getUTCFullYear()%100,e,2)}function yV(t,e){return at(t.getUTCFullYear()%1e4,e,4)}function bV(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ts(t):Ts.ceil(t),at(t.getUTCFullYear()%1e4,e,4)}function xV(){return"+0000"}function SE(){return"%"}function jE(t){return+t}function _E(t){return Math.floor(+t/1e3)}var es,A2,O2;wV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wV(t){return es=w8(t),A2=es.format,es.parse,O2=es.utcFormat,es.utcParse,es}function SV(t){return new Date(t)}function jV(t){return t instanceof Date?+t:+new Date(+t)}function rS(t,e,r,n,a,i,s,c,d,f){var p=Uw(),m=p.invert,v=p.domain,y=f(".%L"),w=f(":%S"),S=f("%I:%M"),b=f("%I %p"),_=f("%a %d"),A=f("%b %d"),x=f("%B"),T=f("%Y");function C(E){return(d(E)<E?y:c(E)<E?w:s(E)<E?S:i(E)<E?b:n(E)<E?a(E)<E?_:A:r(E)<E?x:T)(E)}return p.invert=function(E){return new Date(m(E))},p.domain=function(E){return arguments.length?v(Array.from(E,jV)):v().map(SV)},p.ticks=function(E){var P=v();return t(P[0],P[P.length-1],E??10)},p.tickFormat=function(E,P){return P==null?C:f(P)},p.nice=function(E){var P=v();return(!E||typeof E.range!="function")&&(E=e(P[0],P[P.length-1],E??10)),E?v(f2(P,E)):p},p.copy=function(){return hu(p,rS(t,e,r,n,a,i,s,c,d,f))},p}function _V(){return Cn.apply(rS(b8,x8,Ia,eS,kh,pu,Qw,Xw,ro,A2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function AV(){return Cn.apply(rS(g8,y8,Ma,tS,Nh,Ph,Zw,Jw,ro,O2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ih(){var t=0,e=1,r,n,a,i,s=Nr,c=!1,d;function f(m){return m==null||isNaN(m=+m)?d:s(a===0?.5:(m=(i(m)-r)*a,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(s=m,f):s};function p(m){return function(v){var y,w;return arguments.length?([y,w]=v,s=m(y,w),f):[s(0),s(1)]}}return f.range=p(el),f.rangeRound=p(zw),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return i=m,r=m(t),n=m(e),a=r===n?0:1/(n-r),f}}function _i(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function C2(){var t=ji(Ih()(Nr));return t.copy=function(){return _i(t,C2())},Ba.apply(t,arguments)}function T2(){var t=Hw(Ih()).domain([1,10]);return t.copy=function(){return _i(t,T2()).base(t.base())},Ba.apply(t,arguments)}function E2(){var t=Ww(Ih());return t.copy=function(){return _i(t,E2()).constant(t.constant())},Ba.apply(t,arguments)}function nS(){var t=Gw(Ih());return t.copy=function(){return _i(t,nS()).exponent(t.exponent())},Ba.apply(t,arguments)}function OV(){return nS.apply(null,arguments).exponent(.5)}function P2(){var t=[],e=Nr;function r(n){if(n!=null&&!isNaN(n=+n))return e((du(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(gi),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>f6(t,i/n))},r.copy=function(){return P2(e).domain(t)},Ba.apply(r,arguments)}function Mh(){var t=0,e=.5,r=1,n=1,a,i,s,c,d,f=Nr,p,m=!1,v;function y(S){return isNaN(S=+S)?v:(S=.5+((S=+p(S))-i)*(n*S<n*i?c:d),f(m?Math.max(0,Math.min(1,S)):S))}y.domain=function(S){return arguments.length?([t,e,r]=S,a=p(t=+t),i=p(e=+e),s=p(r=+r),c=a===i?0:.5/(i-a),d=i===s?0:.5/(s-i),n=i<a?-1:1,y):[t,e,r]},y.clamp=function(S){return arguments.length?(m=!!S,y):m},y.interpolator=function(S){return arguments.length?(f=S,y):f};function w(S){return function(b){var _,A,x;return arguments.length?([_,A,x]=b,f=L6(S,[_,A,x]),y):[f(0),f(.5),f(1)]}}return y.range=w(el),y.rangeRound=w(zw),y.unknown=function(S){return arguments.length?(v=S,y):v},function(S){return p=S,a=S(t),i=S(e),s=S(r),c=a===i?0:.5/(i-a),d=i===s?0:.5/(s-i),n=i<a?-1:1,y}}function k2(){var t=ji(Mh()(Nr));return t.copy=function(){return _i(t,k2())},Ba.apply(t,arguments)}function N2(){var t=Hw(Mh()).domain([.1,1,10]);return t.copy=function(){return _i(t,N2()).base(t.base())},Ba.apply(t,arguments)}function I2(){var t=Ww(Mh());return t.copy=function(){return _i(t,I2()).constant(t.constant())},Ba.apply(t,arguments)}function aS(){var t=Gw(Mh());return t.copy=function(){return _i(t,aS()).exponent(t.exponent())},Ba.apply(t,arguments)}function CV(){return aS.apply(null,arguments).exponent(.5)}const AE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nc,scaleDiverging:k2,scaleDivergingLog:N2,scaleDivergingPow:aS,scaleDivergingSqrt:CV,scaleDivergingSymlog:I2,scaleIdentity:d2,scaleImplicit:Jb,scaleLinear:Af,scaleLog:h2,scaleOrdinal:Lw,scalePoint:cc,scalePow:Kw,scaleQuantile:v2,scaleQuantize:g2,scaleRadial:m2,scaleSequential:C2,scaleSequentialLog:T2,scaleSequentialPow:nS,scaleSequentialQuantile:P2,scaleSequentialSqrt:OV,scaleSequentialSymlog:E2,scaleSqrt:s8,scaleSymlog:p2,scaleThreshold:y2,scaleTime:_V,scaleUtc:AV,tickFormat:u2},Symbol.toStringTag,{value:"Module"}));var y0,OE;function Rh(){if(OE)return y0;OE=1;var t=Xs();function e(r,n,a){for(var i=-1,s=r.length;++i<s;){var c=r[i],d=n(c);if(d!=null&&(f===void 0?d===d&&!t(d):a(d,f)))var f=d,p=c}return p}return y0=e,y0}var b0,CE;function M2(){if(CE)return b0;CE=1;function t(e,r){return e>r}return b0=t,b0}var x0,TE;function TV(){if(TE)return x0;TE=1;var t=Rh(),e=M2(),r=Zs();function n(a){return a&&a.length?t(a,r,e):void 0}return x0=n,x0}var EV=TV();const Dh=st(EV);var w0,EE;function R2(){if(EE)return w0;EE=1;function t(e,r){return e<r}return w0=t,w0}var S0,PE;function PV(){if(PE)return S0;PE=1;var t=Rh(),e=R2(),r=Zs();function n(a){return a&&a.length?t(a,r,e):void 0}return S0=n,S0}var kV=PV();const $h=st(kV);var j0,kE;function NV(){if(kE)return j0;kE=1;var t=xw(),e=ua(),r=qI(),n=Wr();function a(i,s){var c=n(i)?t:r;return c(i,e(s,3))}return j0=a,j0}var _0,NE;function IV(){if(NE)return _0;NE=1;var t=zI(),e=NV();function r(n,a){return t(e(n,a),1)}return _0=r,_0}var MV=IV();const RV=st(MV);var A0,IE;function DV(){if(IE)return A0;IE=1;var t=Iw();function e(r,n){return t(r,n)}return A0=e,A0}var $V=DV();const mu=st($V);var tl=1e9,LV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},oS,Et=!0,An="[DecimalError] ",so=An+"Invalid argument: ",iS=An+"Exponent out of range: ",rl=Math.floor,Gi=Math.pow,BV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,on,sr=1e7,At=7,D2=9007199254740991,Ef=rl(D2/At),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*At;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(t){return Pa(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,r=e.constructor;return vt(Pa(e,new r(t),0,1),r.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return Ht(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(on))throw Error(An+"NaN");if(r.s<1)throw Error(An+(r.s?"NaN":"-Infinity"));return r.eq(on)?new n(0):(Et=!1,e=Pa($c(r,i),$c(t,i),i),Et=!0,vt(e,a))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?B2(e,t):$2(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(An+"NaN");return r.s?(Et=!1,e=Pa(r,t,0,1).times(t),Et=!0,r.minus(e)):vt(new n(r),a)};Te.naturalExponential=Te.exp=function(){return L2(this)};Te.naturalLogarithm=Te.ln=function(){return $c(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$2(e,t):B2(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(so+t);if(e=Ht(a)+1,n=a.d.length-1,r=n*At+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Te.squareRoot=Te.sqrt=function(){var t,e,r,n,a,i,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(An+"NaN")}for(t=Ht(c),Et=!1,a=Math.sqrt(+c),a==0||a==1/0?(e=ta(c.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=rl((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(a.toString()),r=d.precision,a=s=r+3;;)if(i=n,n=i.plus(Pa(c,i,s+2)).times(.5),ta(i.d).slice(0,s)===(e=ta(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(vt(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(e!="9999")break;s+=4}return Et=!0,vt(n,r)};Te.times=Te.mul=function(t){var e,r,n,a,i,s,c,d,f,p=this,m=p.constructor,v=p.d,y=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,d=v.length,f=y.length,d<f&&(i=v,v=y,y=i,s=d,d=f,f=s),i=[],s=d+f,n=s;n--;)i.push(0);for(n=f;--n>=0;){for(e=0,a=d+n;a>n;)c=i[a]+y[n]*v[a-n-1]+e,i[a--]=c%sr|0,e=c/sr|0;i[a]=(i[a]+e)%sr|0}for(;!i[--s];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Et?vt(t,m.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(oa(t,0,tl),e===void 0?e=n.rounding:oa(e,0,8),vt(r,t+Ht(r)+1,e))};Te.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=ho(n,!0):(oa(t,0,tl),e===void 0?e=a.rounding:oa(e,0,8),n=vt(new a(n),t+1,e),r=ho(n,!0,t+1)),r};Te.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?ho(a):(oa(t,0,tl),e===void 0?e=i.rounding:oa(e,0,8),n=vt(new i(a),t+Ht(a)+1,e),r=ho(n.abs(),!1,t+Ht(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return vt(new e(t),Ht(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,r,n,a,i,s,c=this,d=c.constructor,f=12,p=+(t=new d(t));if(!t.s)return new d(on);if(c=new d(c),!c.s){if(t.s<1)throw Error(An+"Infinity");return c}if(c.eq(on))return c;if(n=d.precision,t.eq(on))return vt(c,n);if(e=t.e,r=t.d.length-1,s=e>=r,i=c.s,s){if((r=p<0?-p:p)<=D2){for(a=new d(on),e=Math.ceil(n/At+4),Et=!1;r%2&&(a=a.times(c),RE(a.d,e)),r=rl(r/2),r!==0;)c=c.times(c),RE(c.d,e);return Et=!0,t.s<0?new d(on).div(a):vt(a,n)}}else if(i<0)throw Error(An+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,Et=!1,a=t.times($c(c,n+f)),Et=!0,a=L2(a),a.s=i,a};Te.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=Ht(a),n=ho(a,r<=i.toExpNeg||r>=i.toExpPos)):(oa(t,1,tl),e===void 0?e=i.rounding:oa(e,0,8),a=vt(new i(a),t,e),r=Ht(a),n=ho(a,t<=r||r<=i.toExpNeg,t)),n};Te.toSignificantDigits=Te.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(oa(t,1,tl),e===void 0?e=n.rounding:oa(e,0,8)),vt(new n(r),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ht(t),r=t.constructor;return ho(t,e<=r.toExpNeg||e>=r.toExpPos)};function $2(t,e){var r,n,a,i,s,c,d,f,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Et?vt(e,m):e;if(d=t.d,f=e.d,s=t.e,a=e.e,d=d.slice(),i=s-a,i){for(i<0?(n=d,i=-i,c=f.length):(n=f,a=s,c=d.length),s=Math.ceil(m/At),c=s>c?s+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=d.length,i=f.length,c-i<0&&(i=c,n=f,f=d,d=n),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/sr|0,d[i]%=sr;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=a,Et?vt(e,m):e}function oa(t,e,r){if(t!==~~t||t<e||t>r)throw Error(so+t)}function ta(t){var e,r,n,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)n=t[e]+"",r=At-n.length,r&&(i+=li(r)),i+=n;s=t[e],n=s+"",r=At-n.length,r&&(i+=li(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Pa=(function(){function t(n,a){var i,s=0,c=n.length;for(n=n.slice();c--;)i=n[c]*a+s,n[c]=i%sr|0,s=i/sr|0;return s&&n.unshift(s),n}function e(n,a,i,s){var c,d;if(i!=s)d=i>s?1:-1;else for(c=d=0;c<i;c++)if(n[c]!=a[c]){d=n[c]>a[c]?1:-1;break}return d}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*sr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var c,d,f,p,m,v,y,w,S,b,_,A,x,T,C,E,P,R,M=n.constructor,$=n.s==a.s?1:-1,k=n.d,L=a.d;if(!n.s)return new M(n);if(!a.s)throw Error(An+"Division by zero");for(d=n.e-a.e,P=L.length,C=k.length,y=new M($),w=y.d=[],f=0;L[f]==(k[f]||0);)++f;if(L[f]>(k[f]||0)&&--d,i==null?A=i=M.precision:s?A=i+(Ht(n)-Ht(a))+1:A=i,A<0)return new M(0);if(A=A/At+2|0,f=0,P==1)for(p=0,L=L[0],A++;(f<C||p)&&A--;f++)x=p*sr+(k[f]||0),w[f]=x/L|0,p=x%L|0;else{for(p=sr/(L[0]+1)|0,p>1&&(L=t(L,p),k=t(k,p),P=L.length,C=k.length),T=P,S=k.slice(0,P),b=S.length;b<P;)S[b++]=0;R=L.slice(),R.unshift(0),E=L[0],L[1]>=sr/2&&++E;do p=0,c=e(L,S,P,b),c<0?(_=S[0],P!=b&&(_=_*sr+(S[1]||0)),p=_/E|0,p>1?(p>=sr&&(p=sr-1),m=t(L,p),v=m.length,b=S.length,c=e(m,S,v,b),c==1&&(p--,r(m,P<v?R:L,v))):(p==0&&(c=p=1),m=L.slice()),v=m.length,v<b&&m.unshift(0),r(S,m,b),c==-1&&(b=S.length,c=e(L,S,P,b),c<1&&(p++,r(S,P<b?R:L,b))),b=S.length):c===0&&(p++,S=[0]),w[f++]=p,c&&S[0]?S[b++]=k[T]||0:(S=[k[T]],b=1);while((T++<C||S[0]!==void 0)&&A--)}return w[0]||w.shift(),y.e=d,vt(y,s?i+Ht(y)+1:i)}})();function L2(t,e){var r,n,a,i,s,c,d=0,f=0,p=t.constructor,m=p.precision;if(Ht(t)>16)throw Error(iS+Ht(t));if(!t.s)return new p(on);for(Et=!1,c=m,s=new p(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(n=Math.log(Gi(2,f))/Math.LN10*2+5|0,c+=n,r=a=i=new p(on),p.precision=c;;){if(a=vt(a.times(t),c),r=r.times(++d),s=i.plus(Pa(a,r,c)),ta(s.d).slice(0,c)===ta(i.d).slice(0,c)){for(;f--;)i=vt(i.times(i),c);return p.precision=m,e==null?(Et=!0,vt(i,m)):i}i=s}}function Ht(t){for(var e=t.e*At,r=t.d[0];r>=10;r/=10)e++;return e}function O0(t,e,r){if(e>t.LN10.sd())throw Et=!0,r&&(t.precision=r),Error(An+"LN10 precision limit exceeded");return vt(new t(t.LN10),e)}function li(t){for(var e="";t--;)e+="0";return e}function $c(t,e){var r,n,a,i,s,c,d,f,p,m=1,v=10,y=t,w=y.d,S=y.constructor,b=S.precision;if(y.s<1)throw Error(An+(y.s?"NaN":"-Infinity"));if(y.eq(on))return new S(0);if(e==null?(Et=!1,f=b):f=e,y.eq(10))return e==null&&(Et=!0),O0(S,f);if(f+=v,S.precision=f,r=ta(w),n=r.charAt(0),i=Ht(y),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(t),r=ta(y.d),n=r.charAt(0),m++;i=Ht(y),n>1?(y=new S("0."+r),i++):y=new S(n+"."+r.slice(1))}else return d=O0(S,f+2,b).times(i+""),y=$c(new S(n+"."+r.slice(1)),f-v).plus(d),S.precision=b,e==null?(Et=!0,vt(y,b)):y;for(c=s=y=Pa(y.minus(on),y.plus(on),f),p=vt(y.times(y),f),a=3;;){if(s=vt(s.times(p),f),d=c.plus(Pa(s,new S(a),f)),ta(d.d).slice(0,f)===ta(c.d).slice(0,f))return c=c.times(2),i!==0&&(c=c.plus(O0(S,f+2,b).times(i+""))),c=Pa(c,new S(m),f),S.precision=b,e==null?(Et=!0,vt(c,b)):c;c=d,a+=2}}function ME(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=rl(r/At),t.d=[],n=(r+1)%At,r<0&&(n+=At),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=At;n<a;)t.d.push(+e.slice(n,n+=At));e=e.slice(n),n=At-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Et&&(t.e>Ef||t.e<-Ef))throw Error(iS+r)}else t.s=0,t.e=0,t.d=[0];return t}function vt(t,e,r){var n,a,i,s,c,d,f,p,m=t.d;for(s=1,i=m[0];i>=10;i/=10)s++;if(n=e-s,n<0)n+=At,a=e,f=m[p=0];else{if(p=Math.ceil((n+1)/At),i=m.length,p>=i)return t;for(f=i=m[p],s=1;i>=10;i/=10)s++;n%=At,a=n-At+s}if(r!==void 0&&(i=Gi(10,s-a-1),c=f/i%10|0,d=e<0||m[p+1]!==void 0||f%i,d=r<4?(c||d)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?a>0?f/Gi(10,s-a):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return d?(i=Ht(t),m.length=1,e=e-i-1,m[0]=Gi(10,(At-e%At)%At),t.e=rl(-e/At)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,i=1,p--):(m.length=p+1,i=Gi(10,At-n),m[p]=a>0?(f/Gi(10,s-a)%Gi(10,a)|0)*i:0),d)for(;;)if(p==0){(m[0]+=i)==sr&&(m[0]=1,++t.e);break}else{if(m[p]+=i,m[p]!=sr)break;m[p--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Et&&(t.e>Ef||t.e<-Ef))throw Error(iS+Ht(t));return t}function B2(t,e){var r,n,a,i,s,c,d,f,p,m,v=t.constructor,y=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Et?vt(e,y):e;if(d=t.d,m=e.d,n=e.e,f=t.e,d=d.slice(),s=f-n,s){for(p=s<0,p?(r=d,s=-s,c=m.length):(r=m,n=f,c=d.length),a=Math.max(Math.ceil(y/At),c)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=m.length,p=a<c,p&&(c=a),a=0;a<c;a++)if(d[a]!=m[a]){p=d[a]<m[a];break}s=0}for(p&&(r=d,d=m,m=r,e.s=-e.s),c=d.length,a=m.length-c;a>0;--a)d[c++]=0;for(a=m.length;a>s;){if(d[--a]<m[a]){for(i=a;i&&d[--i]===0;)d[i]=sr-1;--d[i],d[a]+=sr}d[a]-=m[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,Et?vt(e,y):e):new v(0)}function ho(t,e,r){var n,a=Ht(t),i=ta(t.d),s=i.length;return e?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+li(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+li(-a-1)+i,r&&(n=r-s)>0&&(i+=li(n))):a>=s?(i+=li(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+li(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=li(n))),t.s<0?"-"+i:i}function RE(t,e){if(t.length>e)return t.length=e,!0}function F2(t){var e,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(so+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return ME(s,i.toString())}else if(typeof i!="string")throw Error(so+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,BV.test(i))ME(s,i);else throw Error(so+i)}if(a.prototype=Te,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=F2,a.config=a.set=FV,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function FV(t){if(!t||typeof t!="object")throw Error(An+"Object expected");var e,r,n,a=["precision",1,tl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(rl(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(so+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(so+r+": "+n);return this}var oS=F2(LV);on=new oS(1);const pt=oS;function zV(t){return HV(t)||VV(t)||qV(t)||UV()}function UV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qV(t,e){if(t){if(typeof t=="string")return tx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tx(t,e)}}function VV(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function HV(t){if(Array.isArray(t))return tx(t)}function tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var WV=function(e){return e},z2={},U2=function(e){return e===z2},DE=function(e){return function r(){return arguments.length===0||arguments.length===1&&U2(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},GV=function t(e,r){return e===1?r:DE(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(c){return c!==z2}).length;return s>=e?r.apply(void 0,a):t(e-s,DE(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var p=a.map(function(m){return U2(m)?d.shift():m});return r.apply(void 0,zV(p).concat(d))}))})},Lh=function(e){return GV(e.length,e)},rx=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},KV=Lh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),YV=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return WV;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(c,d){return d(c)},i.apply(void 0,arguments))}},nx=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},q2=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(c,d){return c===r[d]})||(r=i,n=e.apply(void 0,i)),n}};function XV(t){var e;return t===0?e=1:e=Math.floor(new pt(t).abs().log(10).toNumber())+1,e}function JV(t,e,r){for(var n=new pt(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var QV=Lh(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),ZV=Lh(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),eH=Lh(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Bh={rangeStep:JV,getDigitCount:XV,interpolateNumber:QV,uninterpolateNumber:ZV,uninterpolateTruncation:eH};function ax(t){return nH(t)||rH(t)||V2(t)||tH()}function tH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rH(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nH(t){if(Array.isArray(t))return ix(t)}function Lc(t,e){return oH(t)||iH(t,e)||V2(t,e)||aH()}function aH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V2(t,e){if(t){if(typeof t=="string")return ix(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ix(t,e)}}function ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iH(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),c;!(n=(c=s.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(d){a=!0,i=d}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function oH(t){if(Array.isArray(t))return t}function H2(t){var e=Lc(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function W2(t,e,r){if(t.lte(0))return new pt(0);var n=Bh.getDigitCount(t.toNumber()),a=new pt(10).pow(n),i=t.div(a),s=n!==1?.05:.1,c=new pt(Math.ceil(i.div(s).toNumber())).add(r).mul(s),d=c.mul(a);return e?d:new pt(Math.ceil(d))}function sH(t,e,r){var n=1,a=new pt(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new pt(10).pow(Bh.getDigitCount(t)-1),a=new pt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new pt(Math.floor(t)))}else t===0?a=new pt(Math.floor((e-1)/2)):r||(a=new pt(Math.floor(t)));var s=Math.floor((e-1)/2),c=YV(KV(function(d){return a.add(new pt(d-s).mul(n)).toNumber()}),rx);return c(0,e)}function G2(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new pt(0),tickMin:new pt(0),tickMax:new pt(0)};var i=W2(new pt(e).sub(t).div(r-1),n,a),s;t<=0&&e>=0?s=new pt(0):(s=new pt(t).add(e).div(2),s=s.sub(new pt(s).mod(i)));var c=Math.ceil(s.sub(t).div(i).toNumber()),d=Math.ceil(new pt(e).sub(s).div(i).toNumber()),f=c+d+1;return f>r?G2(t,e,r,n,a+1):(f<r&&(d=e>0?d+(r-f):d,c=e>0?c:c+(r-f)),{step:i,tickMin:s.sub(new pt(c).mul(i)),tickMax:s.add(new pt(d).mul(i))})}function lH(t){var e=Lc(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),c=H2([r,n]),d=Lc(c,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var m=p===1/0?[f].concat(ax(rx(0,a-1).map(function(){return 1/0}))):[].concat(ax(rx(0,a-1).map(function(){return-1/0})),[p]);return r>n?nx(m):m}if(f===p)return sH(f,a,i);var v=G2(f,p,s,i),y=v.step,w=v.tickMin,S=v.tickMax,b=Bh.rangeStep(w,S.add(new pt(.1).mul(y)),y);return r>n?nx(b):b}function cH(t,e){var r=Lc(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=H2([n,a]),c=Lc(s,2),d=c[0],f=c[1];if(d===-1/0||f===1/0)return[n,a];if(d===f)return[d];var p=Math.max(e,2),m=W2(new pt(f).sub(d).div(p-1),i,0),v=[].concat(ax(Bh.rangeStep(new pt(d),new pt(f).sub(new pt(.99).mul(m)),m)),[f]);return n>a?nx(v):v}var uH=q2(lH),dH=q2(cH),fH="Invariant failed";function po(t,e){throw new Error(fH)}var hH=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Es(t){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(t)}function Pf(){return Pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pf.apply(this,arguments)}function pH(t,e){return yH(t)||gH(t,e)||vH(t,e)||mH()}function mH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vH(t,e){if(t){if(typeof t=="string")return $E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $E(t,e)}}function $E(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function yH(t){if(Array.isArray(t))return t}function bH(t,e){if(t==null)return{};var r=xH(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X2(n.key),n)}}function jH(t,e,r){return e&&SH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _H(t,e,r){return e=kf(e),AH(t,K2()?Reflect.construct(e,r||[],kf(t).constructor):e.apply(t,r))}function AH(t,e){if(e&&(Es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OH(t)}function OH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K2=function(){return!!t})()}function kf(t){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kf(t)}function CH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ox(t,e)}function ox(t,e){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ox(t,e)}function Y2(t,e,r){return e=X2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X2(t){var e=TH(t,"string");return Es(e)=="symbol"?e:e+""}function TH(t,e){if(Es(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vu=(function(t){function e(){return wH(this,e),_H(this,e,arguments)}return CH(e,t),jH(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,c=n.dataKey,d=n.data,f=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,v=bH(n,hH),y=qe(v,!1);this.props.direction==="x"&&p.type!=="number"&&po();var w=d.map(function(S){var b=f(S,c),_=b.x,A=b.y,x=b.value,T=b.errorVal;if(!T)return null;var C=[],E,P;if(Array.isArray(T)){var R=pH(T,2);E=R[0],P=R[1]}else E=P=T;if(i==="vertical"){var M=p.scale,$=A+a,k=$+s,L=$-s,F=M(x-E),z=M(x+P);C.push({x1:z,y1:k,x2:z,y2:L}),C.push({x1:F,y1:$,x2:z,y2:$}),C.push({x1:F,y1:k,x2:F,y2:L})}else if(i==="horizontal"){var q=m.scale,Y=_+a,te=Y-s,ee=Y+s,oe=q(x-E),ue=q(x+P);C.push({x1:te,y1:ue,x2:ee,y2:ue}),C.push({x1:Y,y1:oe,x2:Y,y2:ue}),C.push({x1:te,y1:oe,x2:ee,y2:oe})}return G.createElement(nt,Pf({className:"recharts-errorBar",key:"bar-".concat(C.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},y),C.map(function(W){return G.createElement("line",Pf({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return G.createElement(nt,{className:"recharts-errorBars"},w)}}])})(G.Component);Y2(vu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Y2(vu,"displayName","ErrorBar");function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function LE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(r),!0).forEach(function(n){EH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EH(t,e,r){return e=PH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PH(t){var e=kH(t,"string");return Bc(e)=="symbol"?e:e+""}function kH(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J2=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=tn(r,cn);if(!s)return null;var c=cn.defaultProps,d=c!==void 0?Ui(Ui({},c),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:i==="children"?f=(n||[]).reduce(function(p,m){var v=m.item,y=m.props,w=y.sectors||y.data||[];return p.concat(w.map(function(S){return{type:s.props.iconType||v.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):f=(n||[]).map(function(p){var m=p.item,v=m.type.defaultProps,y=v!==void 0?Ui(Ui({},v),m.props):{},w=y.dataKey,S=y.name,b=y.legendType,_=y.hide;return{inactive:_,dataKey:w,type:d.iconType||b||"square",color:sS(m),value:S||w,payload:y}}),Ui(Ui(Ui({},d),cn.getWithHeight(s,a)),{},{payload:f,item:s})};function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function BE(t){return RH(t)||MH(t)||IH(t)||NH()}function NH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IH(t,e){if(t){if(typeof t=="string")return sx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sx(t,e)}}function MH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RH(t){if(Array.isArray(t))return sx(t)}function sx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(r),!0).forEach(function(n){bs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bs(t,e,r){return e=DH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DH(t){var e=$H(t,"string");return Fc(e)=="symbol"?e:e+""}function $H(t,e){if(Fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function er(t,e,r){return Xe(t)||Xe(e)?r:tr(e)?sn(t,e,r):Ke(e)?e(t):r}function uc(t,e,r,n){var a=RV(t,function(c){return er(c,e)});if(r==="number"){var i=a.filter(function(c){return je(c)||parseFloat(c)});return i.length?[$h(i),Dh(i)]:[1/0,-1/0]}var s=n?a.filter(function(c){return!Xe(c)}):a;return s.map(function(c){return tr(c)||c instanceof Date?c:""})}var LH=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,c=(r=n?.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,f=0;f<c;f++){var p=f>0?a[f-1].coordinate:a[c-1].coordinate,m=a[f].coordinate,v=f>=c-1?a[0].coordinate:a[f+1].coordinate,y=void 0;if(Er(m-p)!==Er(v-m)){var w=[];if(Er(v-m)===Er(d[1]-d[0])){y=v;var S=m+d[1]-d[0];w[0]=Math.min(S,(S+p)/2),w[1]=Math.max(S,(S+p)/2)}else{y=p;var b=v+d[1]-d[0];w[0]=Math.min(m,(b+m)/2),w[1]=Math.max(m,(b+m)/2)}var _=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>_[0]&&e<=_[1]||e>=w[0]&&e<=w[1]){s=a[f].index;break}}else{var A=Math.min(p,v),x=Math.max(p,v);if(e>(A+m)/2&&e<=(x+m)/2){s=a[f].index;break}}}else for(var T=0;T<c;T++)if(T===0&&e<=(n[T].coordinate+n[T+1].coordinate)/2||T>0&&T<c-1&&e>(n[T].coordinate+n[T-1].coordinate)/2&&e<=(n[T].coordinate+n[T+1].coordinate)/2||T===c-1&&e>(n[T].coordinate+n[T-1].coordinate)/2){s=n[T].index;break}return s},sS=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Dt(Dt({},e.type.defaultProps),e.props):e.props,s=i.stroke,c=i.fill,d;switch(a){case"Line":d=s;break;case"Area":case"Radar":d=s&&s!=="none"?s:c;break;default:d=c;break}return d},BH=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},c=Object.keys(i),d=0,f=c.length;d<f;d++)for(var p=i[c[d]].stackGroups,m=Object.keys(p),v=0,y=m.length;v<y;v++){var w=p[m[v]],S=w.items,b=w.cateAxisId,_=S.filter(function(P){return Ea(P.type).indexOf("Bar")>=0});if(_&&_.length){var A=_[0].type.defaultProps,x=A!==void 0?Dt(Dt({},A),_[0].props):_[0].props,T=x.barSize,C=x[b];s[C]||(s[C]=[]);var E=Xe(T)?r:T;s[C].push({item:_[0],stackList:_.slice(1),barSize:Xe(E)?void 0:Pr(E,n,0)})}}return s},FH=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,c=e.maxBarSize,d=s.length;if(d<1)return null;var f=Pr(r,a,0,!0),p,m=[];if(s[0].barSize===+s[0].barSize){var v=!1,y=a/d,w=s.reduce(function(T,C){return T+C.barSize||0},0);w+=(d-1)*f,w>=a&&(w-=(d-1)*f,f=0),w>=a&&y>0&&(v=!0,y*=.9,w=d*y);var S=(a-w)/2>>0,b={offset:S-f,size:0};p=s.reduce(function(T,C){var E={item:C.item,position:{offset:b.offset+b.size+f,size:v?y:C.barSize}},P=[].concat(BE(T),[E]);return b=P[P.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(R){P.push({item:R,position:b})}),P},m)}else{var _=Pr(n,a,0,!0);a-2*_-(d-1)*f<=0&&(f=0);var A=(a-2*_-(d-1)*f)/d;A>1&&(A>>=0);var x=c===+c?Math.min(A,c):A;p=s.reduce(function(T,C,E){var P=[].concat(BE(T),[{item:C.item,position:{offset:_+(A+f)*E+(A-x)/2,size:x}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(R){P.push({item:R,position:P[P.length-1].position})}),P},m)}return p},zH=function(e,r,n,a){var i=n.children,s=n.width,c=n.margin,d=s-(c.left||0)-(c.right||0),f=J2({children:i,legendWidth:d});if(f){var p=a||{},m=p.width,v=p.height,y=f.align,w=f.verticalAlign,S=f.layout;if((S==="vertical"||S==="horizontal"&&w==="middle")&&y!=="center"&&je(e[y]))return Dt(Dt({},e),{},bs({},y,e[y]+(m||0)));if((S==="horizontal"||S==="vertical"&&y==="center")&&w!=="middle"&&je(e[w]))return Dt(Dt({},e),{},bs({},w,e[w]+(v||0)))}return e},UH=function(e,r,n){return Xe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Q2=function(e,r,n,a,i){var s=r.props.children,c=ln(s,vu).filter(function(f){return UH(a,i,f.props.direction)});if(c&&c.length){var d=c.map(function(f){return f.props.dataKey});return e.reduce(function(f,p){var m=er(p,n);if(Xe(m))return f;var v=Array.isArray(m)?[$h(m),Dh(m)]:[m,m],y=d.reduce(function(w,S){var b=er(p,S,0),_=v[0]-Math.abs(Array.isArray(b)?b[0]:b),A=v[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(_,w[0]),Math.max(A,w[1])]},[1/0,-1/0]);return[Math.min(y[0],f[0]),Math.max(y[1],f[1])]},[1/0,-1/0])}return null},qH=function(e,r,n,a,i){var s=r.map(function(c){return Q2(e,c,n,i,a)}).filter(function(c){return!Xe(c)});return s&&s.length?s.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},Z2=function(e,r,n,a,i){var s=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&Q2(e,d,f,a)||uc(e,f,n,i)});if(n==="number")return s.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var c={};return s.reduce(function(d,f){for(var p=0,m=f.length;p<m;p++)c[f[p]]||(c[f[p]]=!0,d.push(f[p]));return d},[])},eM=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},tM=function(e,r,n,a){if(a)return e.map(function(d){return d.coordinate});var i,s,c=e.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===n&&(s=!0),d.coordinate});return i||c.push(r),s||c.push(n),c},Ca=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,c=e.range,d=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,f=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/d:0;if(f=e.axisType==="angleAxis"&&c?.length>=2?Er(c[0]-c[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var v=i?i.indexOf(m):m;return{coordinate:a(v)+f,value:m,offset:f}});return p.filter(function(m){return!cu(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,v){return{coordinate:a(m)+f,value:m,index:v,offset:f}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(m){return{coordinate:a(m)+f,value:m,offset:f}}):a.domain().map(function(m,v){return{coordinate:a(m)+f,value:i?i[m]:m,index:v,offset:f}})},C0=new WeakMap,zd=function(e,r){if(typeof r!="function")return e;C0.has(e)||C0.set(e,new WeakMap);var n=C0.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},rM=function(e,r,n){var a=e.scale,i=e.type,s=e.layout,c=e.axisType;if(a==="auto")return s==="radial"&&c==="radiusAxis"?{scale:Nc(),realScaleType:"band"}:s==="radial"&&c==="angleAxis"?{scale:Af(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:cc(),realScaleType:"point"}:i==="category"?{scale:Nc(),realScaleType:"band"}:{scale:Af(),realScaleType:"linear"};if(co(a)){var d="scale".concat(Sh(a));return{scale:(AE[d]||cc)(),realScaleType:AE[d]?d:"point"}}return Ke(a)?{scale:a}:{scale:cc(),realScaleType:"point"}},zE=1e-4,nM=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-zE,s=Math.max(a[0],a[1])+zE,c=e(r[0]),d=e(r[n-1]);(c<i||c>s||d<i||d>s)&&e.domain([r[0],r[n-1]])}},VH=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},HH=function(e,r){if(!r||r.length!==2||!je(r[0])||!je(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!je(e[0])||e[0]<n)&&(i[0]=n),(!je(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},WH=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0,c=0;c<r;++c){var d=cu(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=i,e[c][n][1]=i+d,i=e[c][n][1]):(e[c][n][0]=s,e[c][n][1]=s+d,s=e[c][n][1])}},GH=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var c=cu(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=i,e[s][n][1]=i+c,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},KH={sign:WH,expand:RU,none:ws,silhouette:DU,wiggle:$U,positive:GH},YH=function(e,r,n){var a=r.map(function(c){return c.props.dataKey}),i=KH[n],s=MU().keys(a).value(function(c,d){return+er(c,d,0)}).order($b).offset(i);return s(e)},XH=function(e,r,n,a,i,s){if(!e)return null;var c=s?r.reverse():r,d={},f=c.reduce(function(m,v){var y,w=(y=v.type)!==null&&y!==void 0&&y.defaultProps?Dt(Dt({},v.type.defaultProps),v.props):v.props,S=w.stackId,b=w.hide;if(b)return m;var _=w[n],A=m[_]||{hasStack:!1,stackGroups:{}};if(tr(S)){var x=A.stackGroups[S]||{numericAxisId:n,cateAxisId:a,items:[]};x.items.push(v),A.hasStack=!0,A.stackGroups[S]=x}else A.stackGroups[Qs("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[v]};return Dt(Dt({},m),{},bs({},_,A))},d),p={};return Object.keys(f).reduce(function(m,v){var y=f[v];if(y.hasStack){var w={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(S,b){var _=y.stackGroups[b];return Dt(Dt({},S),{},bs({},b,{numericAxisId:n,cateAxisId:a,items:_.items,stackedData:YH(e,_.items,i)}))},w)}return Dt(Dt({},m),{},bs({},v,y))},p)},aM=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,c=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var p=uH(f,i,c);return e.domain([$h(p),Dh(p)]),{niceTicks:p}}if(i&&a==="number"){var m=e.domain(),v=dH(m,i,c);return{niceTicks:v}}return null};function UE(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Xe(a[e.dataKey])){var c=sf(r,"value",a[e.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=er(a,Xe(s)?e.dataKey:s);return Xe(d)?null:e.scale(d)}var qE=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,c=e.index;if(r.type==="category")return n[c]?n[c].coordinate+a:null;var d=er(s,r.dataKey,r.domain[c]);return Xe(d)?null:r.scale(d)-i/2+a},JH=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},QH=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Dt(Dt({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(tr(i)){var s=r[i];if(s){var c=s.items.indexOf(e);return c>=0?s.stackedData[c]:null}}return null},ZH=function(e){return e.reduce(function(r,n){return[$h(n.concat([r[0]]).filter(je)),Dh(n.concat([r[1]]).filter(je))]},[1/0,-1/0])},iM=function(e,r,n){return Object.keys(e).reduce(function(a,i){var s=e[i],c=s.stackedData,d=c.reduce(function(f,p){var m=ZH(p.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},VE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lx=function(e,r,n){if(Ke(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(je(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(VE.test(e[0])){var i=+VE.exec(e[0])[1];a[0]=r[0]-i}else Ke(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(je(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(HE.test(e[1])){var s=+HE.exec(e[1])[1];a[1]=r[1]+s}else Ke(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Nf=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=Rw(r,function(m){return m.coordinate}),s=1/0,c=1,d=i.length;c<d;c++){var f=i[c],p=i[c-1];s=Math.min((f.coordinate||0)-(p.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},WE=function(e,r,n){return!e||!e.length||mu(e,sn(n,"type.defaultProps.domain"))?r:e},oM=function(e,r){var n=e.type.defaultProps?Dt(Dt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,s=n.unit,c=n.formatter,d=n.tooltipType,f=n.chartType,p=n.hide;return Dt(Dt({},qe(e,!1)),{},{dataKey:a,unit:s,formatter:c,name:i||a,color:sS(e),value:er(r,a),type:d,payload:r,chartType:f,hide:p})};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function GE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(r),!0).forEach(function(n){sM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sM(t,e,r){return e=eW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eW(t){var e=tW(t,"string");return zc(e)=="symbol"?e:e+""}function tW(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rW(t,e){return oW(t)||iW(t,e)||aW(t,e)||nW()}function nW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aW(t,e){if(t){if(typeof t=="string")return KE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KE(t,e)}}function KE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function oW(t){if(Array.isArray(t))return t}var If=Math.PI/180,sW=function(e){return e*180/Math.PI},St=function(e,r,n,a){return{x:e+Math.cos(-If*a)*n,y:r+Math.sin(-If*a)*n}},lM=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},lW=function(e,r,n,a,i){var s=e.width,c=e.height,d=e.startAngle,f=e.endAngle,p=Pr(e.cx,s,s/2),m=Pr(e.cy,c,c/2),v=lM(s,c,n),y=Pr(e.innerRadius,v,0),w=Pr(e.outerRadius,v,v*.8),S=Object.keys(r);return S.reduce(function(b,_){var A=r[_],x=A.domain,T=A.reversed,C;if(Xe(A.range))a==="angleAxis"?C=[d,f]:a==="radiusAxis"&&(C=[y,w]),T&&(C=[C[1],C[0]]);else{C=A.range;var E=C,P=rW(E,2);d=P[0],f=P[1]}var R=rM(A,i),M=R.realScaleType,$=R.scale;$.domain(x).range(C),nM($);var k=aM($,_a(_a({},A),{},{realScaleType:M})),L=_a(_a(_a({},A),k),{},{range:C,radius:w,realScaleType:M,scale:$,cx:p,cy:m,innerRadius:y,outerRadius:w,startAngle:d,endAngle:f});return _a(_a({},b),{},sM({},_,L))},{})},cW=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},uW=function(e,r){var n=e.x,a=e.y,i=r.cx,s=r.cy,c=cW({x:n,y:a},{x:i,y:s});if(c<=0)return{radius:c};var d=(n-i)/c,f=Math.acos(d);return a>s&&(f=2*Math.PI-f),{radius:c,angle:sW(f),angleInRadian:f}},dW=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},fW=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),c=Math.min(i,s);return e+c*360},YE=function(e,r){var n=e.x,a=e.y,i=uW({x:n,y:a},r),s=i.radius,c=i.angle,d=r.innerRadius,f=r.outerRadius;if(s<d||s>f)return!1;if(s===0)return!0;var p=dW(r),m=p.startAngle,v=p.endAngle,y=c,w;if(m<=v){for(;y>v;)y-=360;for(;y<m;)y+=360;w=y>=m&&y<=v}else{for(;y>m;)y-=360;for(;y<v;)y+=360;w=y>=v&&y<=m}return w?_a(_a({},r),{},{radius:s,angle:fW(y,r)}):null},cM=function(e){return!N.isValidElement(e)&&!Ke(e)&&typeof e!="boolean"?e.className:""};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}var hW=["offset"];function pW(t){return yW(t)||gW(t)||vW(t)||mW()}function mW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vW(t,e){if(t){if(typeof t=="string")return cx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cx(t,e)}}function gW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yW(t){if(Array.isArray(t))return cx(t)}function cx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bW(t,e){if(t==null)return{};var r=xW(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XE(Object(r),!0).forEach(function(n){wW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wW(t,e,r){return e=SW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SW(t){var e=jW(t,"string");return Uc(e)=="symbol"?e:e+""}function jW(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qc.apply(this,arguments)}var _W=function(e){var r=e.value,n=e.formatter,a=Xe(e.children)?r:e.children;return Ke(n)?n(a):a},AW=function(e,r){var n=Er(r-e),a=Math.min(Math.abs(r-e),360);return n*a},OW=function(e,r,n){var a=e.position,i=e.viewBox,s=e.offset,c=e.className,d=i,f=d.cx,p=d.cy,m=d.innerRadius,v=d.outerRadius,y=d.startAngle,w=d.endAngle,S=d.clockWise,b=(m+v)/2,_=AW(y,w),A=_>=0?1:-1,x,T;a==="insideStart"?(x=y+A*s,T=S):a==="insideEnd"?(x=w-A*s,T=!S):a==="end"&&(x=w+A*s,T=S),T=_<=0?T:!T;var C=St(f,p,b,x),E=St(f,p,b,x+(T?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),R=Xe(e.id)?Qs("recharts-radial-line-"):e.id;return G.createElement("text",qc({},n,{dominantBaseline:"central",className:Qe("recharts-radial-bar-label",c)}),G.createElement("defs",null,G.createElement("path",{id:R,d:P})),G.createElement("textPath",{xlinkHref:"#".concat(R)},r))},CW=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,s=i.cx,c=i.cy,d=i.innerRadius,f=i.outerRadius,p=i.startAngle,m=i.endAngle,v=(p+m)/2;if(a==="outside"){var y=St(s,c,f+n,v),w=y.x,S=y.y;return{x:w,y:S,textAnchor:w>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"end"};var b=(d+f)/2,_=St(s,c,b,v),A=_.x,x=_.y;return{x:A,y:x,textAnchor:"middle",verticalAnchor:"middle"}},TW=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,s=r,c=s.x,d=s.y,f=s.width,p=s.height,m=p>=0?1:-1,v=m*a,y=m>0?"end":"start",w=m>0?"start":"end",S=f>=0?1:-1,b=S*a,_=S>0?"end":"start",A=S>0?"start":"end";if(i==="top"){var x={x:c+f/2,y:d-m*a,textAnchor:"middle",verticalAnchor:y};return Xt(Xt({},x),n?{height:Math.max(d-n.y,0),width:f}:{})}if(i==="bottom"){var T={x:c+f/2,y:d+p+v,textAnchor:"middle",verticalAnchor:w};return Xt(Xt({},T),n?{height:Math.max(n.y+n.height-(d+p),0),width:f}:{})}if(i==="left"){var C={x:c-b,y:d+p/2,textAnchor:_,verticalAnchor:"middle"};return Xt(Xt({},C),n?{width:Math.max(C.x-n.x,0),height:p}:{})}if(i==="right"){var E={x:c+f+b,y:d+p/2,textAnchor:A,verticalAnchor:"middle"};return Xt(Xt({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:p}:{})}var P=n?{width:f,height:p}:{};return i==="insideLeft"?Xt({x:c+b,y:d+p/2,textAnchor:A,verticalAnchor:"middle"},P):i==="insideRight"?Xt({x:c+f-b,y:d+p/2,textAnchor:_,verticalAnchor:"middle"},P):i==="insideTop"?Xt({x:c+f/2,y:d+v,textAnchor:"middle",verticalAnchor:w},P):i==="insideBottom"?Xt({x:c+f/2,y:d+p-v,textAnchor:"middle",verticalAnchor:y},P):i==="insideTopLeft"?Xt({x:c+b,y:d+v,textAnchor:A,verticalAnchor:w},P):i==="insideTopRight"?Xt({x:c+f-b,y:d+v,textAnchor:_,verticalAnchor:w},P):i==="insideBottomLeft"?Xt({x:c+b,y:d+p-v,textAnchor:A,verticalAnchor:y},P):i==="insideBottomRight"?Xt({x:c+f-b,y:d+p-v,textAnchor:_,verticalAnchor:y},P):Js(i)&&(je(i.x)||eo(i.x))&&(je(i.y)||eo(i.y))?Xt({x:c+Pr(i.x,f),y:d+Pr(i.y,p),textAnchor:"end",verticalAnchor:"end"},P):Xt({x:c+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},P)},EW=function(e){return"cx"in e&&je(e.cx)};function lr(t){var e=t.offset,r=e===void 0?5:e,n=bW(t,hW),a=Xt({offset:r},n),i=a.viewBox,s=a.position,c=a.value,d=a.children,f=a.content,p=a.className,m=p===void 0?"":p,v=a.textBreakAll;if(!i||Xe(c)&&Xe(d)&&!N.isValidElement(f)&&!Ke(f))return null;if(N.isValidElement(f))return N.cloneElement(f,a);var y;if(Ke(f)){if(y=N.createElement(f,a),N.isValidElement(y))return y}else y=_W(a);var w=EW(i),S=qe(a,!0);if(w&&(s==="insideStart"||s==="insideEnd"||s==="end"))return OW(a,y,S);var b=w?CW(a):TW(a);return G.createElement(fo,qc({className:Qe("recharts-label",m)},S,b,{breakAll:v}),y)}lr.displayName="Label";var uM=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,c=e.r,d=e.radius,f=e.innerRadius,p=e.outerRadius,m=e.x,v=e.y,y=e.top,w=e.left,S=e.width,b=e.height,_=e.clockWise,A=e.labelViewBox;if(A)return A;if(je(S)&&je(b)){if(je(m)&&je(v))return{x:m,y:v,width:S,height:b};if(je(y)&&je(w))return{x:y,y:w,width:S,height:b}}return je(m)&&je(v)?{x:m,y:v,width:0,height:0}:je(r)&&je(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:f||0,outerRadius:p||d||c||0,clockWise:_}:e.viewBox?e.viewBox:{}},PW=function(e,r){return e?e===!0?G.createElement(lr,{key:"label-implicit",viewBox:r}):tr(e)?G.createElement(lr,{key:"label-implicit",viewBox:r,value:e}):N.isValidElement(e)?e.type===lr?N.cloneElement(e,{key:"label-implicit",viewBox:r}):G.createElement(lr,{key:"label-implicit",content:e,viewBox:r}):Ke(e)?G.createElement(lr,{key:"label-implicit",content:e,viewBox:r}):Js(e)?G.createElement(lr,qc({viewBox:r},e,{key:"label-implicit"})):null:null},kW=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=uM(e),s=ln(a,lr).map(function(d,f){return N.cloneElement(d,{viewBox:r||i,key:"label-".concat(f)})});if(!n)return s;var c=PW(e.label,r||i);return[c].concat(pW(s))};lr.parseViewBox=uM;lr.renderCallByParent=kW;var T0,JE;function NW(){if(JE)return T0;JE=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return T0=t,T0}var IW=NW();const MW=st(IW);function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}var RW=["valueAccessor"],DW=["data","dataKey","clockWise","id","textBreakAll"];function $W(t){return zW(t)||FW(t)||BW(t)||LW()}function LW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BW(t,e){if(t){if(typeof t=="string")return ux(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ux(t,e)}}function FW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zW(t){if(Array.isArray(t))return ux(t)}function ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mf(){return Mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mf.apply(this,arguments)}function QE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ZE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QE(Object(r),!0).forEach(function(n){UW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UW(t,e,r){return e=qW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qW(t){var e=VW(t,"string");return Vc(e)=="symbol"?e:e+""}function VW(t,e){if(Vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eP(t,e){if(t==null)return{};var r=HW(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var WW=function(e){return Array.isArray(e.value)?MW(e.value):e.value};function ka(t){var e=t.valueAccessor,r=e===void 0?WW:e,n=eP(t,RW),a=n.data,i=n.dataKey,s=n.clockWise,c=n.id,d=n.textBreakAll,f=eP(n,DW);return!a||!a.length?null:G.createElement(nt,{className:"recharts-label-list"},a.map(function(p,m){var v=Xe(i)?r(p,m):er(p&&p.payload,i),y=Xe(c)?{}:{id:"".concat(c,"-").concat(m)};return G.createElement(lr,Mf({},qe(p,!0),f,y,{parentViewBox:p.parentViewBox,value:v,textBreakAll:d,viewBox:lr.parseViewBox(Xe(s)?p:ZE(ZE({},p),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}ka.displayName="LabelList";function GW(t,e){return t?t===!0?G.createElement(ka,{key:"labelList-implicit",data:e}):G.isValidElement(t)||Ke(t)?G.createElement(ka,{key:"labelList-implicit",data:e,content:t}):Js(t)?G.createElement(ka,Mf({data:e},t,{key:"labelList-implicit"})):null:null}function KW(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=ln(n,ka).map(function(s,c){return N.cloneElement(s,{data:e,key:"labelList-".concat(c)})});if(!r)return a;var i=GW(t.label,e);return[i].concat($W(a))}ka.renderCallByParent=KW;function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function dx(){return dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dx.apply(this,arguments)}function tP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(r),!0).forEach(function(n){YW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YW(t,e,r){return e=XW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XW(t){var e=JW(t,"string");return Hc(e)=="symbol"?e:e+""}function JW(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QW=function(e,r){var n=Er(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},Ud=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,s=e.sign,c=e.isExternal,d=e.cornerRadius,f=e.cornerIsExternal,p=d*(c?1:-1)+a,m=Math.asin(d/p)/If,v=f?i:i+s*m,y=St(r,n,p,v),w=St(r,n,a,v),S=f?i-s*m:i,b=St(r,n,p*Math.cos(m*If),S);return{center:y,circleTangency:w,lineTangency:b,theta:m}},dM=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,c=e.endAngle,d=QW(s,c),f=s+d,p=St(r,n,i,s),m=St(r,n,i,f),v="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var y=St(r,n,a,s),w=St(r,n,a,f);v+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},ZW=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,c=e.forceCornerRadius,d=e.cornerIsExternal,f=e.startAngle,p=e.endAngle,m=Er(p-f),v=Ud({cx:r,cy:n,radius:i,angle:f,sign:m,cornerRadius:s,cornerIsExternal:d}),y=v.circleTangency,w=v.lineTangency,S=v.theta,b=Ud({cx:r,cy:n,radius:i,angle:p,sign:-m,cornerRadius:s,cornerIsExternal:d}),_=b.circleTangency,A=b.lineTangency,x=b.theta,T=d?Math.abs(f-p):Math.abs(f-p)-S-x;if(T<0)return c?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):dM({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:p});var C="M ".concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
  `);if(a>0){var E=Ud({cx:r,cy:n,radius:a,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),P=E.circleTangency,R=E.lineTangency,M=E.theta,$=Ud({cx:r,cy:n,radius:a,angle:p,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),k=$.circleTangency,L=$.lineTangency,F=$.theta,z=d?Math.abs(f-p):Math.abs(f-p)-M-F;if(z<0&&s===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},e7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fM=function(e){var r=rP(rP({},e7),e),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,c=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,v=r.className;if(s<i||p===m)return null;var y=Qe("recharts-sector",v),w=s-i,S=Pr(c,w,0,!0),b;return S>0&&Math.abs(p-m)<360?b=ZW({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(S,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:m}):b=dM({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:p,endAngle:m}),G.createElement("path",dx({},qe(r,!0),{className:y,d:b,role:"img"}))};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function fx(){return fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fx.apply(this,arguments)}function nP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(r),!0).forEach(function(n){t7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t7(t,e,r){return e=r7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r7(t){var e=n7(t,"string");return Wc(e)=="symbol"?e:e+""}function n7(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iP={curveBasisClosed:jU,curveBasisOpen:_U,curveBasis:SU,curveBumpX:lU,curveBumpY:cU,curveLinearClosed:AU,curveLinear:_h,curveMonotoneX:OU,curveMonotoneY:CU,curveNatural:TU,curveStep:EU,curveStepAfter:kU,curveStepBefore:PU},qd=function(e){return e.x===+e.x&&e.y===+e.y},Gl=function(e){return e.x},Kl=function(e){return e.y},a7=function(e,r){if(Ke(e))return e;var n="curve".concat(Sh(e));return(n==="curveMonotone"||n==="curveBump")&&r?iP["".concat(n).concat(r==="vertical"?"Y":"X")]:iP[n]||_h},i7=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,s=e.baseLine,c=e.layout,d=e.connectNulls,f=d===void 0?!1:d,p=a7(n,c),m=f?i.filter(function(S){return qd(S)}):i,v;if(Array.isArray(s)){var y=f?s.filter(function(S){return qd(S)}):s,w=m.map(function(S,b){return aP(aP({},S),{},{base:y[b]})});return c==="vertical"?v=Md().y(Kl).x1(Gl).x0(function(S){return S.base.x}):v=Md().x(Gl).y1(Kl).y0(function(S){return S.base.y}),v.defined(qd).curve(p),v(w)}return c==="vertical"&&je(s)?v=Md().y(Kl).x1(Gl).x0(s):je(s)?v=Md().x(Gl).y1(Kl).y0(s):v=uI().x(Gl).y(Kl),v.defined(qd).curve(p),v(m)},Rf=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?i7(e):a;return N.createElement("path",fx({},qe(e,!1),lf(e),{className:Qe("recharts-curve",r),d:s,ref:i}))},E0={exports:{}},P0,oP;function o7(){if(oP)return P0;oP=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return P0=t,P0}var k0,sP;function s7(){if(sP)return k0;sP=1;var t=o7();function e(){}function r(){}return r.resetWarningCache=e,k0=function(){function n(s,c,d,f,p,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},k0}var lP;function l7(){return lP||(lP=1,E0.exports=s7()()),E0.exports}var c7=l7();const ot=st(c7),{getOwnPropertyNames:u7,getOwnPropertySymbols:d7}=Object,{hasOwnProperty:f7}=Object.prototype;function N0(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function Vd(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);const{cache:i}=a,s=i.get(r),c=i.get(n);if(s&&c)return s===n&&c===r;i.set(r,n),i.set(n,r);const d=t(r,n,a);return i.delete(r),i.delete(n),d}}function h7(t){return t?.[Symbol.toStringTag]}function cP(t){return u7(t).concat(d7(t))}const p7=Object.hasOwn||((t,e)=>f7.call(t,e));function So(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const m7="__v",v7="__o",g7="_owner",{getOwnPropertyDescriptor:uP,keys:dP}=Object;function y7(t,e){return t.byteLength===e.byteLength&&Df(new Uint8Array(t),new Uint8Array(e))}function b7(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function x7(t,e){return t.byteLength===e.byteLength&&Df(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function w7(t,e){return So(t.getTime(),e.getTime())}function S7(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function j7(t,e){return t===e}function fP(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),i=t.entries();let s,c,d=0;for(;(s=i.next())&&!s.done;){const f=e.entries();let p=!1,m=0;for(;(c=f.next())&&!c.done;){if(a[m]){m++;continue}const v=s.value,y=c.value;if(r.equals(v[0],y[0],d,m,t,e,r)&&r.equals(v[1],y[1],v[0],y[0],t,e,r)){p=a[m]=!0;break}m++}if(!p)return!1;d++}return!0}const _7=So;function A7(t,e,r){const n=dP(t);let a=n.length;if(dP(e).length!==a)return!1;for(;a-- >0;)if(!hM(t,e,r,n[a]))return!1;return!0}function Yl(t,e,r){const n=cP(t);let a=n.length;if(cP(e).length!==a)return!1;let i,s,c;for(;a-- >0;)if(i=n[a],!hM(t,e,r,i)||(s=uP(t,i),c=uP(e,i),(s||c)&&(!s||!c||s.configurable!==c.configurable||s.enumerable!==c.enumerable||s.writable!==c.writable)))return!1;return!0}function O7(t,e){return So(t.valueOf(),e.valueOf())}function C7(t,e){return t.source===e.source&&t.flags===e.flags}function hP(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),i=t.values();let s,c;for(;(s=i.next())&&!s.done;){const d=e.values();let f=!1,p=0;for(;(c=d.next())&&!c.done;){if(!a[p]&&r.equals(s.value,c.value,s.value,c.value,t,e,r)){f=a[p]=!0;break}p++}if(!f)return!1}return!0}function Df(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function T7(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function hM(t,e,r,n){return(n===g7||n===v7||n===m7)&&(t.$$typeof||e.$$typeof)?!0:p7(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const E7="[object ArrayBuffer]",P7="[object Arguments]",k7="[object Boolean]",N7="[object DataView]",I7="[object Date]",M7="[object Error]",R7="[object Map]",D7="[object Number]",$7="[object Object]",L7="[object RegExp]",B7="[object Set]",F7="[object String]",z7={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},U7="[object URL]",q7=Object.prototype.toString;function V7({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:s,areNumbersEqual:c,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:v,areUrlsEqual:y,unknownTagComparators:w}){return function(b,_,A){if(b===_)return!0;if(b==null||_==null)return!1;const x=typeof b;if(x!==typeof _)return!1;if(x!=="object")return x==="number"?c(b,_,A):x==="function"?i(b,_,A):!1;const T=b.constructor;if(T!==_.constructor)return!1;if(T===Object)return d(b,_,A);if(Array.isArray(b))return e(b,_,A);if(T===Date)return n(b,_,A);if(T===RegExp)return p(b,_,A);if(T===Map)return s(b,_,A);if(T===Set)return m(b,_,A);const C=q7.call(b);if(C===I7)return n(b,_,A);if(C===L7)return p(b,_,A);if(C===R7)return s(b,_,A);if(C===B7)return m(b,_,A);if(C===$7)return typeof b.then!="function"&&typeof _.then!="function"&&d(b,_,A);if(C===U7)return y(b,_,A);if(C===M7)return a(b,_,A);if(C===P7)return d(b,_,A);if(z7[C])return v(b,_,A);if(C===E7)return t(b,_,A);if(C===N7)return r(b,_,A);if(C===k7||C===D7||C===F7)return f(b,_,A);if(w){let E=w[C];if(!E){const P=h7(b);P&&(E=w[P])}if(E)return E(b,_,A)}return!1}}function H7({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:y7,areArraysEqual:r?Yl:b7,areDataViewsEqual:x7,areDatesEqual:w7,areErrorsEqual:S7,areFunctionsEqual:j7,areMapsEqual:r?N0(fP,Yl):fP,areNumbersEqual:_7,areObjectsEqual:r?Yl:A7,arePrimitiveWrappersEqual:O7,areRegExpsEqual:C7,areSetsEqual:r?N0(hP,Yl):hP,areTypedArraysEqual:r?N0(Df,Yl):Df,areUrlsEqual:T7,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const a=Vd(n.areArraysEqual),i=Vd(n.areMapsEqual),s=Vd(n.areObjectsEqual),c=Vd(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:c})}return n}function W7(t){return function(e,r,n,a,i,s,c){return t(e,r,c)}}function G7({circular:t,comparator:e,createState:r,equals:n,strict:a}){if(r)return function(c,d){const{cache:f=t?new WeakMap:void 0,meta:p}=r();return e(c,d,{cache:f,equals:n,meta:p,strict:a})};if(t)return function(c,d){return e(c,d,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(c,d){return e(c,d,i)}}const K7=Ai();Ai({strict:!0});Ai({circular:!0});Ai({circular:!0,strict:!0});Ai({createInternalComparator:()=>So});Ai({strict:!0,createInternalComparator:()=>So});Ai({circular:!0,createInternalComparator:()=>So});Ai({circular:!0,createInternalComparator:()=>So,strict:!0});function Ai(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:a=!1}=t,i=H7(t),s=V7(i),c=r?r(s):W7(s);return G7({circular:e,comparator:s,createState:n,equals:c,strict:a})}function Y7(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function pP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):Y7(a)};requestAnimationFrame(n)}function hx(t){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(t)}function X7(t){return e9(t)||Z7(t)||Q7(t)||J7()}function J7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q7(t,e){if(t){if(typeof t=="string")return mP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mP(t,e)}}function mP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Z7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e9(t){if(Array.isArray(t))return t}function t9(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,c=X7(s),d=c[0],f=c.slice(1);if(typeof d=="number"){pP(a.bind(null,f),d);return}a(d),pP(a.bind(null,f));return}hx(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function vP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(r),!0).forEach(function(n){pM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pM(t,e,r){return e=r9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r9(t){var e=n9(t,"string");return Gc(e)==="symbol"?e:String(e)}function n9(t,e){if(Gc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a9=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},i9=function(e){return e},o9=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},dc=function(e,r){return Object.keys(r).reduce(function(n,a){return gP(gP({},n),{},pM({},a,e(a,r[a])))},{})},yP=function(e,r,n){return e.map(function(a){return"".concat(o9(a)," ").concat(r,"ms ").concat(n)}).join(",")};function s9(t,e){return u9(t)||c9(t,e)||mM(t,e)||l9()}function l9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function u9(t){if(Array.isArray(t))return t}function d9(t){return p9(t)||h9(t)||mM(t)||f9()}function f9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mM(t,e){if(t){if(typeof t=="string")return px(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return px(t,e)}}function h9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function p9(t){if(Array.isArray(t))return px(t)}function px(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var $f=1e-4,vM=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},gM=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},bP=function(e,r){return function(n){var a=vM(e,r);return gM(a,n)}},m9=function(e,r){return function(n){var a=vM(e,r),i=[].concat(d9(a.map(function(s,c){return s*c}).slice(1)),[0]);return gM(i,n)}},xP=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,c=1;break;case"ease":a=.25,i=.1,s=.25,c=1;break;case"ease-in":a=.42,i=0,s=1,c=1;break;case"ease-out":a=.42,i=0,s=.58,c=1;break;case"ease-in-out":a=0,i=0,s=.58,c=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),p=s9(f,4);a=p[0],i=p[1],s=p[2],c=p[3]}}}var m=bP(a,s),v=bP(i,c),y=m9(a,s),w=function(_){return _>1?1:_<0?0:_},S=function(_){for(var A=_>1?1:_,x=A,T=0;T<8;++T){var C=m(x)-A,E=y(x);if(Math.abs(C-A)<$f||E<$f)return v(x);x=w(x-C/E)}return v(x)};return S.isStepper=!1,S},v9=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,s=e.dt,c=s===void 0?17:s,d=function(p,m,v){var y=-(p-m)*n,w=v*i,S=v+(y-w)*c/1e3,b=v*c/1e3+p;return Math.abs(b-m)<$f&&Math.abs(S)<$f?[m,0]:[b,S]};return d.isStepper=!0,d.dt=c,d},g9=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xP(a);case"spring":return v9();default:if(a.split("(")[0]==="cubic-bezier")return xP(a)}return typeof a=="function"?a:null};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function wP(t){return x9(t)||b9(t)||yM(t)||y9()}function y9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x9(t){if(Array.isArray(t))return vx(t)}function SP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(r),!0).forEach(function(n){mx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mx(t,e,r){return e=w9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w9(t){var e=S9(t,"string");return Kc(e)==="symbol"?e:String(e)}function S9(t,e){if(Kc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j9(t,e){return O9(t)||A9(t,e)||yM(t,e)||_9()}function _9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yM(t,e){if(t){if(typeof t=="string")return vx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vx(t,e)}}function vx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function O9(t){if(Array.isArray(t))return t}var Lf=function(e,r,n){return e+(r-e)*n},gx=function(e){var r=e.from,n=e.to;return r!==n},C9=function t(e,r,n){var a=dc(function(i,s){if(gx(s)){var c=e(s.from,s.to,s.velocity),d=j9(c,2),f=d[0],p=d[1];return vr(vr({},s),{},{from:f,velocity:p})}return s},r);return n<1?dc(function(i,s){return gx(s)?vr(vr({},s),{},{velocity:Lf(s.velocity,a[i].velocity,n),from:Lf(s.from,a[i].from,n)}):s},r):t(e,a,n-1)};const T9=(function(t,e,r,n,a){var i=a9(t,e),s=i.reduce(function(b,_){return vr(vr({},b),{},mx({},_,[t[_],e[_]]))},{}),c=i.reduce(function(b,_){return vr(vr({},b),{},mx({},_,{from:t[_],velocity:0,to:e[_]}))},{}),d=-1,f,p,m=function(){return null},v=function(){return dc(function(_,A){return A.from},c)},y=function(){return!Object.values(c).filter(gx).length},w=function(_){f||(f=_);var A=_-f,x=A/r.dt;c=C9(r,c,x),a(vr(vr(vr({},t),e),v())),f=_,y()||(d=requestAnimationFrame(m))},S=function(_){p||(p=_);var A=(_-p)/n,x=dc(function(C,E){return Lf.apply(void 0,wP(E).concat([r(A)]))},s);if(a(vr(vr(vr({},t),e),x)),A<1)d=requestAnimationFrame(m);else{var T=dc(function(C,E){return Lf.apply(void 0,wP(E).concat([r(1)]))},s);a(vr(vr(vr({},t),e),T))}};return m=r.isStepper?w:S,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function Ps(t){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(t)}var E9=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function P9(t,e){if(t==null)return{};var r=k9(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k9(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function I0(t){return R9(t)||M9(t)||I9(t)||N9()}function N9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I9(t,e){if(t){if(typeof t=="string")return yx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yx(t,e)}}function M9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R9(t){if(Array.isArray(t))return yx(t)}function yx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(r),!0).forEach(function(n){ac(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ac(t,e,r){return e=bM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bM(n.key),n)}}function L9(t,e,r){return e&&$9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bM(t){var e=B9(t,"string");return Ps(e)==="symbol"?e:String(e)}function B9(t,e){if(Ps(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ps(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bx(t,e)}function bx(t,e){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bx(t,e)}function z9(t){var e=U9();return function(){var n=Bf(t),a;if(e){var i=Bf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return xx(this,a)}}function xx(t,e){if(e&&(Ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wx(t)}function wx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bf(t){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(t)}var sa=(function(t){F9(r,t);var e=z9(r);function r(n,a){var i;D9(this,r),i=e.call(this,n,a);var s=i.props,c=s.isActive,d=s.attributeName,f=s.from,p=s.to,m=s.steps,v=s.children,y=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(wx(i)),i.changeStyle=i.changeStyle.bind(wx(i)),!c||y<=0)return i.state={style:{}},typeof v=="function"&&(i.state={style:p}),xx(i);if(m&&m.length)i.state={style:m[0].style};else if(f){if(typeof v=="function")return i.state={style:f},xx(i);i.state={style:d?ac({},d,f):f}}else i.state={style:{}};return i}return L9(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,c=i.canBegin,d=i.attributeName,f=i.shouldReAnimate,p=i.to,m=i.from,v=this.state.style;if(c){if(!s){var y={style:d?ac({},d,p):p};this.state&&v&&(d&&v[d]!==p||!d&&v!==p)&&this.setState(y);return}if(!(K7(a.to,p)&&a.canBegin&&a.isActive)){var w=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=w||f?m:a.to;if(this.state&&v){var b={style:d?ac({},d,S):S};(d&&v[d]!==S||!d&&v!==S)&&this.setState(b)}this.runAnimation(Rn(Rn({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,c=a.to,d=a.duration,f=a.easing,p=a.begin,m=a.onAnimationEnd,v=a.onAnimationStart,y=T9(s,c,g9(f),d,this.changeStyle),w=function(){i.stopJSAnimation=y()};this.manager.start([v,p,w,d,m])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,c=a.begin,d=a.onAnimationStart,f=s[0],p=f.style,m=f.duration,v=m===void 0?0:m,y=function(S,b,_){if(_===0)return S;var A=b.duration,x=b.easing,T=x===void 0?"ease":x,C=b.style,E=b.properties,P=b.onAnimationEnd,R=_>0?s[_-1]:b,M=E||Object.keys(C);if(typeof T=="function"||T==="spring")return[].concat(I0(S),[i.runJSAnimation.bind(i,{from:R.style,to:C,duration:A,easing:T}),A]);var $=yP(M,A,T),k=Rn(Rn(Rn({},R.style),C),{},{transition:$});return[].concat(I0(S),[k,A,P]).filter(i9)};return this.manager.start([d].concat(I0(s.reduce(y,[p,Math.max(v,c)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=t9());var i=a.begin,s=a.duration,c=a.attributeName,d=a.to,f=a.easing,p=a.onAnimationStart,m=a.onAnimationEnd,v=a.steps,y=a.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof y=="function"||f==="spring"){this.runJSAnimation(a);return}if(v.length>1){this.runStepAnimation(a);return}var S=c?ac({},c,d):d,b=yP(Object.keys(S),s,f);w.start([p,i,Rn(Rn({},S),{},{transition:b}),s,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var c=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=P9(a,E9),f=N.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!c||f===0||s<=0)return i;var m=function(y){var w=y.props,S=w.style,b=S===void 0?{}:S,_=w.className,A=N.cloneElement(y,Rn(Rn({},d),{},{style:Rn(Rn({},b),p),className:_}));return A};return f===1?m(N.Children.only(i)):G.createElement("div",null,N.Children.map(i,function(v){return m(v)}))}}]),r})(N.PureComponent);sa.displayName="Animate";sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};sa.propTypes={from:ot.oneOfType([ot.object,ot.string]),to:ot.oneOfType([ot.object,ot.string]),attributeName:ot.string,duration:ot.number,begin:ot.number,easing:ot.oneOfType([ot.string,ot.func]),steps:ot.arrayOf(ot.shape({duration:ot.number.isRequired,style:ot.object.isRequired,easing:ot.oneOfType([ot.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ot.func]),properties:ot.arrayOf("string"),onAnimationEnd:ot.func})),children:ot.oneOfType([ot.node,ot.func]),isActive:ot.bool,canBegin:ot.bool,onAnimationEnd:ot.func,shouldReAnimate:ot.bool,onAnimationStart:ot.func,onAnimationReStart:ot.func};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ff.apply(this,arguments)}function q9(t,e){return G9(t)||W9(t,e)||H9(t,e)||V9()}function V9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H9(t,e){if(t){if(typeof t=="string")return _P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _P(t,e)}}function _P(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function G9(t){if(Array.isArray(t))return t}function AP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(r),!0).forEach(function(n){K9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K9(t,e,r){return e=Y9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y9(t){var e=X9(t,"string");return Yc(e)=="symbol"?e:e+""}function X9(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CP=function(e,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),c=a>=0?1:-1,d=n>=0?1:-1,f=a>=0&&n>=0||a<0&&n<0?1:0,p;if(s>0&&i instanceof Array){for(var m=[0,0,0,0],v=0,y=4;v<y;v++)m[v]=i[v]>s?s:i[v];p="M".concat(e,",").concat(r+c*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+d*m[0],",").concat(r)),p+="L ".concat(e+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+c*m[1])),p+="L ".concat(e+n,",").concat(r+a-c*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+n-d*m[2],",").concat(r+a)),p+="L ".concat(e+d*m[3],",").concat(r+a),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+a-c*m[3])),p+="Z"}else if(s>0&&i===+i&&i>0){var w=Math.min(s,i);p="M ".concat(e,",").concat(r+c*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+d*w,",").concat(r,`
            L `).concat(e+n-d*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n,",").concat(r+c*w,`
            L `).concat(e+n,",").concat(r+a-c*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n-d*w,",").concat(r+a,`
            L `).concat(e+d*w,",").concat(r+a,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e,",").concat(r+a-c*w," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return p},J9=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,s=r.y,c=r.width,d=r.height;if(Math.abs(c)>0&&Math.abs(d)>0){var f=Math.min(i,i+c),p=Math.max(i,i+c),m=Math.min(s,s+d),v=Math.max(s,s+d);return n>=f&&n<=p&&a>=m&&a<=v}return!1},Q9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lS=function(e){var r=OP(OP({},Q9),e),n=N.useRef(),a=N.useState(-1),i=q9(a,2),s=i[0],c=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&c(T)}catch{}},[]);var d=r.x,f=r.y,p=r.width,m=r.height,v=r.radius,y=r.className,w=r.animationEasing,S=r.animationDuration,b=r.animationBegin,_=r.isAnimationActive,A=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||p===0||m===0)return null;var x=Qe("recharts-rectangle",y);return A?G.createElement(sa,{canBegin:s>0,from:{width:p,height:m,x:d,y:f},to:{width:p,height:m,x:d,y:f},duration:S,animationEasing:w,isActive:A},function(T){var C=T.width,E=T.height,P=T.x,R=T.y;return G.createElement(sa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:S,isActive:_,easing:w},G.createElement("path",Ff({},qe(r,!0),{className:x,d:CP(P,R,C,E,v),ref:n})))}):G.createElement("path",Ff({},qe(r,!0),{className:x,d:CP(d,f,p,m,v)}))},Z9=["points","className","baseLinePoints","connectNulls"];function fs(){return fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fs.apply(this,arguments)}function eG(t,e){if(t==null)return{};var r=tG(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function TP(t){return iG(t)||aG(t)||nG(t)||rG()}function rG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nG(t,e){if(t){if(typeof t=="string")return Sx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sx(t,e)}}function aG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iG(t){if(Array.isArray(t))return Sx(t)}function Sx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var EP=function(e){return e&&e.x===+e.x&&e.y===+e.y},oG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){EP(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),EP(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},fc=function(e,r){var n=oG(e);r&&(n=[n.reduce(function(i,s){return[].concat(TP(i),TP(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,c,d){return"".concat(s).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},sG=function(e,r,n){var a=fc(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(fc(r.reverse(),n).slice(1))},lG=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,s=eG(e,Z9);if(!r||!r.length)return null;var c=Qe("recharts-polygon",n);if(a&&a.length){var d=s.stroke&&s.stroke!=="none",f=sG(r,a,i);return G.createElement("g",{className:c},G.createElement("path",fs({},qe(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),d?G.createElement("path",fs({},qe(s,!0),{fill:"none",d:fc(r,i)})):null,d?G.createElement("path",fs({},qe(s,!0),{fill:"none",d:fc(a,i)})):null)}var p=fc(r,i);return G.createElement("path",fs({},qe(s,!0),{fill:p.slice(-1)==="Z"?s.fill:"none",className:c,d:p}))};function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jx.apply(this,arguments)}var Fh=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,s=Qe("recharts-dot",i);return r===+r&&n===+n&&a===+a?N.createElement("circle",jx({},qe(e,!1),lf(e),{className:s,cx:r,cy:n,r:a})):null};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}var cG=["x","y","top","left","width","height","className"];function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_x.apply(this,arguments)}function PP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(r),!0).forEach(function(n){dG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dG(t,e,r){return e=fG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fG(t){var e=hG(t,"string");return Xc(e)=="symbol"?e:e+""}function hG(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pG(t,e){if(t==null)return{};var r=mG(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vG=function(e,r,n,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},gG=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.top,c=s===void 0?0:s,d=e.left,f=d===void 0?0:d,p=e.width,m=p===void 0?0:p,v=e.height,y=v===void 0?0:v,w=e.className,S=pG(e,cG),b=uG({x:n,y:i,top:c,left:f,width:m,height:y},S);return!je(n)||!je(i)||!je(m)||!je(y)||!je(c)||!je(f)?null:G.createElement("path",_x({},qe(b,!0),{className:Qe("recharts-cross",w),d:vG(n,i,m,y,c,f)}))},M0,kP;function yG(){if(kP)return M0;kP=1;var t=Rh(),e=M2(),r=ua();function n(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return M0=n,M0}var bG=yG();const xG=st(bG);var R0,NP;function wG(){if(NP)return R0;NP=1;var t=Rh(),e=ua(),r=R2();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return R0=n,R0}var SG=wG();const jG=st(SG);var _G=["cx","cy","angle","ticks","axisLine"],AG=["ticks","tick","angle","tickFormatter","stroke"];function ks(t){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}function hc(){return hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hc.apply(this,arguments)}function IP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(r),!0).forEach(function(n){zh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MP(t,e){if(t==null)return{};var r=OG(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wM(n.key),n)}}function TG(t,e,r){return e&&RP(t.prototype,e),r&&RP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function EG(t,e,r){return e=zf(e),PG(t,xM()?Reflect.construct(e,r||[],zf(t).constructor):e.apply(t,r))}function PG(t,e){if(e&&(ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kG(t)}function kG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xM=function(){return!!t})()}function zf(t){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zf(t)}function NG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ax(t,e)}function Ax(t,e){return Ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ax(t,e)}function zh(t,e,r){return e=wM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wM(t){var e=IG(t,"string");return ks(e)=="symbol"?e:e+""}function IG(t,e){if(ks(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uh=(function(t){function e(){return CG(this,e),EG(this,e,arguments)}return NG(e,t),TG(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,c=i.cx,d=i.cy;return St(c,d,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,c=n.ticks,d=xG(c,function(p){return p.coordinate||0}),f=jG(c,function(p){return p.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,c=n.ticks,d=n.axisLine,f=MP(n,_G),p=c.reduce(function(w,S){return[Math.min(w[0],S.coordinate),Math.max(w[1],S.coordinate)]},[1/0,-1/0]),m=St(a,i,p[0],s),v=St(a,i,p[1],s),y=qi(qi(qi({},qe(f,!1)),{},{fill:"none"},qe(d,!1)),{},{x1:m.x,y1:m.y,x2:v.x,y2:v.y});return G.createElement("line",hc({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,c=a.angle,d=a.tickFormatter,f=a.stroke,p=MP(a,AG),m=this.getTickTextAnchor(),v=qe(p,!1),y=qe(s,!1),w=i.map(function(S,b){var _=n.getTickValueCoord(S),A=qi(qi(qi(qi({textAnchor:m,transform:"rotate(".concat(90-c,", ").concat(_.x,", ").concat(_.y,")")},v),{},{stroke:"none",fill:f},y),{},{index:b},_),{},{payload:S});return G.createElement(nt,hc({className:Qe("recharts-polar-radius-axis-tick",cM(s)),key:"tick-".concat(S.coordinate)},uo(n.props,S,b)),e.renderTickItem(s,A,d?d(S.value,b):S.value))});return G.createElement(nt,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:G.createElement(nt,{className:Qe("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),lr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return G.isValidElement(n)?s=G.cloneElement(n,a):Ke(n)?s=n(a):s=G.createElement(fo,hc({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])})(N.PureComponent);zh(Uh,"displayName","PolarRadiusAxis");zh(Uh,"axisType","radiusAxis");zh(Uh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function Qi(){return Qi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qi.apply(this,arguments)}function DP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(r),!0).forEach(function(n){qh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $P(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jM(n.key),n)}}function RG(t,e,r){return e&&$P(t.prototype,e),r&&$P(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DG(t,e,r){return e=Uf(e),$G(t,SM()?Reflect.construct(e,r||[],Uf(t).constructor):e.apply(t,r))}function $G(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LG(t)}function LG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SM=function(){return!!t})()}function Uf(t){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uf(t)}function BG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ox(t,e)}function Ox(t,e){return Ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ox(t,e)}function qh(t,e,r){return e=jM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jM(t){var e=FG(t,"string");return Ns(e)=="symbol"?e:e+""}function FG(t,e){if(Ns(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zG=Math.PI/180,LP=1e-5,Vh=(function(t){function e(){return MG(this,e),DG(this,e,arguments)}return BG(e,t),RG(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,c=a.radius,d=a.orientation,f=a.tickSize,p=f||8,m=St(i,s,c,n.coordinate),v=St(i,s,c+(d==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*zG),s;return i>LP?s=a==="outer"?"start":"end":i<-LP?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,c=n.axisLine,d=n.axisLineType,f=Vi(Vi({},qe(this.props,!1)),{},{fill:"none"},qe(c,!1));if(d==="circle")return G.createElement(Fh,Qi({className:"recharts-polar-angle-axis-line"},f,{cx:a,cy:i,r:s}));var p=this.props.ticks,m=p.map(function(v){return St(a,i,s,v.coordinate)});return G.createElement(lG,Qi({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,c=a.tickLine,d=a.tickFormatter,f=a.stroke,p=qe(this.props,!1),m=qe(s,!1),v=Vi(Vi({},p),{},{fill:"none"},qe(c,!1)),y=i.map(function(w,S){var b=n.getTickLineCoord(w),_=n.getTickTextAnchor(w),A=Vi(Vi(Vi({textAnchor:_},p),{},{stroke:"none",fill:f},m),{},{index:S,payload:w,x:b.x2,y:b.y2});return G.createElement(nt,Qi({className:Qe("recharts-polar-angle-axis-tick",cM(s)),key:"tick-".concat(w.coordinate)},uo(n.props,w,S)),c&&G.createElement("line",Qi({className:"recharts-polar-angle-axis-tick-line"},v,b)),s&&e.renderTickItem(s,A,d?d(w.value,S):w.value))});return G.createElement(nt,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:G.createElement(nt,{className:Qe("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return G.isValidElement(n)?s=G.cloneElement(n,a):Ke(n)?s=n(a):s=G.createElement(fo,Qi({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])})(N.PureComponent);qh(Vh,"displayName","PolarAngleAxis");qh(Vh,"axisType","angleAxis");qh(Vh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var D0,BP;function UG(){if(BP)return D0;BP=1;var t=II(),e=t(Object.getPrototypeOf,Object);return D0=e,D0}var $0,FP;function qG(){if(FP)return $0;FP=1;var t=$a(),e=UG(),r=La(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,c=i.hasOwnProperty,d=s.call(Object);function f(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var v=c.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==d}return $0=f,$0}var VG=qG();const HG=st(VG);var L0,zP;function WG(){if(zP)return L0;zP=1;var t=$a(),e=La(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return L0=n,L0}var GG=WG();const KG=st(GG);function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function qf(){return qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qf.apply(this,arguments)}function YG(t,e){return ZG(t)||QG(t,e)||JG(t,e)||XG()}function XG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JG(t,e){if(t){if(typeof t=="string")return UP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UP(t,e)}}function UP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function ZG(t){if(Array.isArray(t))return t}function qP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function VP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(r),!0).forEach(function(n){eK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eK(t,e,r){return e=tK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tK(t){var e=rK(t,"string");return Jc(e)=="symbol"?e:e+""}function rK(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HP=function(e,r,n,a,i){var s=n-a,c;return c="M ".concat(e,",").concat(r),c+="L ".concat(e+n,",").concat(r),c+="L ".concat(e+n-s/2,",").concat(r+i),c+="L ".concat(e+n-s/2-a,",").concat(r+i),c+="L ".concat(e,",").concat(r," Z"),c},nK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aK=function(e){var r=VP(VP({},nK),e),n=N.useRef(),a=N.useState(-1),i=YG(a,2),s=i[0],c=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&c(x)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,m=r.lowerWidth,v=r.height,y=r.className,w=r.animationEasing,S=r.animationDuration,b=r.animationBegin,_=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||v!==+v||p===0&&m===0||v===0)return null;var A=Qe("recharts-trapezoid",y);return _?G.createElement(sa,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:d,y:f},to:{upperWidth:p,lowerWidth:m,height:v,x:d,y:f},duration:S,animationEasing:w,isActive:_},function(x){var T=x.upperWidth,C=x.lowerWidth,E=x.height,P=x.x,R=x.y;return G.createElement(sa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:S,easing:w},G.createElement("path",qf({},qe(r,!0),{className:A,d:HP(P,R,T,C,E),ref:n})))}):G.createElement("g",null,G.createElement("path",qf({},qe(r,!0),{className:A,d:HP(d,f,p,m,v)})))},iK=["option","shapeType","propTransformer","activeClassName","isActive"];function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function oK(t,e){if(t==null)return{};var r=sK(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function WP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(r),!0).forEach(function(n){lK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lK(t,e,r){return e=cK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cK(t){var e=uK(t,"string");return Qc(e)=="symbol"?e:e+""}function uK(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dK(t,e){return Vf(Vf({},e),t)}function fK(t,e){return t==="symbols"}function GP(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return G.createElement(lS,r);case"trapezoid":return G.createElement(aK,r);case"sector":return G.createElement(fM,r);case"symbols":if(fK(e))return G.createElement(Cw,r);break;default:return null}}function hK(t){return N.isValidElement(t)?t.props:t}function _M(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?dK:n,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,c=t.isActive,d=oK(t,iK),f;if(N.isValidElement(e))f=N.cloneElement(e,Vf(Vf({},d),hK(e)));else if(Ke(e))f=e(d);else if(HG(e)&&!KG(e)){var p=a(e,d);f=G.createElement(GP,{shapeType:r,elementProps:p})}else{var m=d;f=G.createElement(GP,{shapeType:r,elementProps:m})}return c?G.createElement(nt,{className:s},f):f}function Hh(t,e){return e!=null&&"trapezoids"in t.props}function Wh(t,e){return e!=null&&"sectors"in t.props}function Zc(t,e){return e!=null&&"points"in t.props}function pK(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function mK(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function vK(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function gK(t,e){var r;return Hh(t,e)?r=pK:Wh(t,e)?r=mK:Zc(t,e)&&(r=vK),r}function yK(t,e){var r;return Hh(t,e)?r="trapezoids":Wh(t,e)?r="sectors":Zc(t,e)&&(r="points"),r}function bK(t,e){if(Hh(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Wh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Zc(t,e)?e.payload:{}}function xK(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=yK(r,e),i=bK(r,e),s=n.filter(function(d,f){var p=mu(i,d),m=r.props[a].filter(function(w){var S=gK(r,e);return S(w,e)}),v=r.props[a].indexOf(m[m.length-1]),y=f===v;return p&&y}),c=n.indexOf(s[s.length-1]);return c}var Zd;function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function hs(){return hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hs.apply(this,arguments)}function KP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(r),!0).forEach(function(n){Sn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OM(n.key),n)}}function SK(t,e,r){return e&&YP(t.prototype,e),r&&YP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jK(t,e,r){return e=Hf(e),_K(t,AM()?Reflect.construct(e,r||[],Hf(t).constructor):e.apply(t,r))}function _K(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AK(t)}function AK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AM=function(){return!!t})()}function Hf(t){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hf(t)}function OK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cx(t,e)}function Cx(t,e){return Cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cx(t,e)}function Sn(t,e,r){return e=OM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OM(t){var e=CK(t,"string");return Is(e)=="symbol"?e:e+""}function CK(t,e){if(Is(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var un=(function(t){function e(r){var n;return wK(this,e),n=jK(this,e,[r]),Sn(n,"pieRef",null),Sn(n,"sectorRefs",[]),Sn(n,"id",Qs("recharts-pie-")),Sn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ke(a)&&a()}),Sn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ke(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return OK(e,t),SK(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,c=i.labelLine,d=i.dataKey,f=i.valueKey,p=qe(this.props,!1),m=qe(s,!1),v=qe(c,!1),y=s&&s.offsetRadius||20,w=n.map(function(S,b){var _=(S.startAngle+S.endAngle)/2,A=St(S.cx,S.cy,S.outerRadius+y,_),x=xt(xt(xt(xt({},p),S),{},{stroke:"none"},m),{},{index:b,textAnchor:e.getTextAnchor(A.x,S.cx)},A),T=xt(xt(xt(xt({},p),S),{},{fill:"none",stroke:S.fill},v),{},{index:b,points:[St(S.cx,S.cy,S.outerRadius,_),A]}),C=d;return Xe(d)&&Xe(f)?C="value":Xe(d)&&(C=f),G.createElement(nt,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(b)},c&&e.renderLabelLineItem(c,T,"line"),e.renderLabelItem(s,x,er(S,C)))});return G.createElement(nt,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,c=i.blendStroke,d=i.inactiveShape;return n.map(function(f,p){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var m=a.isActiveIndex(p),v=d&&a.hasActiveIndex()?d:null,y=m?s:v,w=xt(xt({},f),{},{stroke:c?f.fill:f.stroke,tabIndex:-1});return G.createElement(nt,hs({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},uo(a.props,f,p),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(p)}),G.createElement(_M,hs({option:y,isActive:m,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,f=a.animationEasing,p=a.animationId,m=this.state,v=m.prevSectors,y=m.prevIsAnimationActive;return G.createElement(sa,{begin:c,duration:d,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var S=w.t,b=[],_=i&&i[0],A=_.startAngle;return i.forEach(function(x,T){var C=v&&v[T],E=T>0?sn(x,"paddingAngle",0):0;if(C){var P=rn(C.endAngle-C.startAngle,x.endAngle-x.startAngle),R=xt(xt({},x),{},{startAngle:A+E,endAngle:A+P(S)+E});b.push(R),A=R.endAngle}else{var M=x.endAngle,$=x.startAngle,k=rn(0,M-$),L=k(S),F=xt(xt({},x),{},{startAngle:A+E,endAngle:A+L+E});b.push(F),A=F.endAngle}}),G.createElement(nt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var c=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!mu(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,c=a.className,d=a.label,f=a.cx,p=a.cy,m=a.innerRadius,v=a.outerRadius,y=a.isAnimationActive,w=this.state.isAnimationFinished;if(i||!s||!s.length||!je(f)||!je(p)||!je(m)||!je(v))return null;var S=Qe("recharts-pie",c);return G.createElement(nt,{tabIndex:this.props.rootTabIndex,className:S,ref:function(_){n.pieRef=_}},this.renderSectors(),d&&this.renderLabels(s),lr.renderCallByParent(this.props,null,!1),(!y||w)&&ka.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(G.isValidElement(n))return G.cloneElement(n,a);if(Ke(n))return n(a);var s=Qe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return G.createElement(Rf,hs({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(G.isValidElement(n))return G.cloneElement(n,a);var s=i;if(Ke(n)&&(s=n(a),G.isValidElement(s)))return s;var c=Qe("recharts-pie-label-text",typeof n!="boolean"&&!Ke(n)?n.className:"");return G.createElement(fo,hs({},a,{alignmentBaseline:"middle",className:c}),s)}}])})(N.PureComponent);Zd=un;Sn(un,"displayName","Pie");Sn(un,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!bo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Sn(un,"parseDeltaAngle",function(t,e){var r=Er(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Sn(un,"getRealPieData",function(t){var e=t.data,r=t.children,n=qe(t,!1),a=ln(r,Si);return e&&e.length?e.map(function(i,s){return xt(xt(xt({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return xt(xt({},n),i.props)}):[]});Sn(un,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,s=lM(a,i),c=n+Pr(t.cx,a,a/2),d=r+Pr(t.cy,i,i/2),f=Pr(t.innerRadius,s,0),p=Pr(t.outerRadius,s,s*.8),m=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:c,cy:d,innerRadius:f,outerRadius:p,maxRadius:m}});Sn(un,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?xt(xt({},e.type.defaultProps),e.props):e.props,a=Zd.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,c=n.endAngle,d=n.paddingAngle,f=n.dataKey,p=n.nameKey,m=n.valueKey,v=n.tooltipType,y=Math.abs(n.minAngle),w=Zd.parseCoordinateOfPie(n,r),S=Zd.parseDeltaAngle(s,c),b=Math.abs(S),_=f;Xe(f)&&Xe(m)?(qn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Xe(f)&&(qn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=m);var A=a.filter(function(R){return er(R,_,0)!==0}).length,x=(b>=360?A:A-1)*d,T=b-A*y-x,C=a.reduce(function(R,M){var $=er(M,_,0);return R+(je($)?$:0)},0),E;if(C>0){var P;E=a.map(function(R,M){var $=er(R,_,0),k=er(R,p,M),L=(je($)?$:0)/C,F;M?F=P.endAngle+Er(S)*d*($!==0?1:0):F=s;var z=F+Er(S)*(($!==0?y:0)+L*T),q=(F+z)/2,Y=(w.innerRadius+w.outerRadius)/2,te=[{name:k,value:$,payload:R,dataKey:_,type:v}],ee=St(w.cx,w.cy,Y,q);return P=xt(xt(xt({percent:L,cornerRadius:i,name:k,tooltipPayload:te,midAngle:q,middleRadius:Y,tooltipPosition:ee},R),w),{},{value:er(R,_),startAngle:F,endAngle:z,payload:R,paddingAngle:Er(S)*d}),P})}return xt(xt({},w),{},{sectors:E,data:a})});var B0,XP;function TK(){if(XP)return B0;XP=1;var t=Math.ceil,e=Math.max;function r(n,a,i,s){for(var c=-1,d=e(t((a-n)/(i||1)),0),f=Array(d);d--;)f[s?d:++c]=n,n+=i;return f}return B0=r,B0}var F0,JP;function CM(){if(JP)return F0;JP=1;var t=YI(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return F0=n,F0}var z0,QP;function EK(){if(QP)return z0;QP=1;var t=TK(),e=Th(),r=CM();function n(a){return function(i,s,c){return c&&typeof c!="number"&&e(i,s,c)&&(s=c=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),c=c===void 0?i<s?1:-1:r(c),t(i,s,c,a)}}return z0=n,z0}var U0,ZP;function PK(){if(ZP)return U0;ZP=1;var t=EK(),e=t();return U0=e,U0}var kK=PK();const Wf=st(kK);function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function ek(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(r),!0).forEach(function(n){TM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TM(t,e,r){return e=NK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NK(t){var e=IK(t,"string");return eu(e)=="symbol"?e:e+""}function IK(t,e){if(eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MK=["Webkit","Moz","O","ms"],RK=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=MK.reduce(function(i,s){return tk(tk({},i),{},TM({},s+n,r))},{});return a[e]=r,a};function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gf.apply(this,arguments)}function rk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function q0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(r),!0).forEach(function(n){en(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PM(n.key),n)}}function $K(t,e,r){return e&&nk(t.prototype,e),r&&nk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LK(t,e,r){return e=Kf(e),BK(t,EM()?Reflect.construct(e,r||[],Kf(t).constructor):e.apply(t,r))}function BK(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FK(t)}function FK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EM=function(){return!!t})()}function Kf(t){return Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kf(t)}function zK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tx(t,e)}function Tx(t,e){return Tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tx(t,e)}function en(t,e,r){return e=PM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PM(t){var e=UK(t,"string");return Ms(e)=="symbol"?e:e+""}function UK(t,e){if(Ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qK=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,s=e.width,c=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=cc().domain(Wf(0,d)).range([i,i+s-c]),p=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(a),scale:f,scaleValues:p}},ak=function(e){return e.changedTouches&&!!e.changedTouches.length},Rs=(function(t){function e(r){var n;return DK(this,e),n=LK(this,e,[r]),en(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),en(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),en(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,c=a.startIndex;s?.({endIndex:i,startIndex:c})}),n.detachDragEndListener()}),en(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),en(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),en(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),en(n,"handleSlideDragStart",function(a){var i=ak(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return zK(e,t),$K(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,c=this.props,d=c.gap,f=c.data,p=f.length-1,m=Math.min(a,i),v=Math.max(a,i),y=e.getIndexInRange(s,m),w=e.getIndexInRange(s,v);return{startIndex:y-y%d,endIndex:w===p?p:w-w%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,c=a.dataKey,d=er(i[n],c,n);return Ke(s)?s(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,c=a.endX,d=this.props,f=d.x,p=d.width,m=d.travellerWidth,v=d.startIndex,y=d.endIndex,w=d.onChange,S=n.pageX-i;S>0?S=Math.min(S,f+p-m-c,f+p-m-s):S<0&&(S=Math.max(S,f-s,f-c));var b=this.getIndex({startX:s+S,endX:c+S});(b.startIndex!==v||b.endIndex!==y)&&w&&w(b),this.setState({startX:s+S,endX:c+S,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=ak(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,c=a.endX,d=a.startX,f=this.state[s],p=this.props,m=p.x,v=p.width,y=p.travellerWidth,w=p.onChange,S=p.gap,b=p.data,_={startX:this.state.startX,endX:this.state.endX},A=n.pageX-i;A>0?A=Math.min(A,m+v-y-f):A<0&&(A=Math.max(A,m-f)),_[s]=f+A;var x=this.getIndex(_),T=x.startIndex,C=x.endIndex,E=function(){var R=b.length-1;return s==="startX"&&(c>d?T%S===0:C%S===0)||c<d&&C===R||s==="endX"&&(c>d?C%S===0:T%S===0)||c>d&&C===R};this.setState(en(en({},s,f+A),"brushMoveStartX",n.pageX),function(){w&&E()&&w(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,c=s.scaleValues,d=s.startX,f=s.endX,p=this.state[a],m=c.indexOf(p);if(m!==-1){var v=m+n;if(!(v===-1||v>=c.length)){var y=c[v];a==="startX"&&y>=f||a==="endX"&&y<=d||this.setState(en({},a,y),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,c=n.height,d=n.fill,f=n.stroke;return G.createElement("rect",{stroke:f,fill:d,x:a,y:i,width:s,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,c=n.height,d=n.data,f=n.children,p=n.padding,m=N.Children.only(f);return m?G.cloneElement(m,{x:a,y:i,width:s,height:c,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,c=this,d=this.props,f=d.y,p=d.travellerWidth,m=d.height,v=d.traveller,y=d.ariaLabel,w=d.data,S=d.startIndex,b=d.endIndex,_=Math.max(n,this.props.x),A=q0(q0({},qe(this.props,!1)),{},{x:_,y:f,width:p,height:m}),x=y||"Min value: ".concat((i=w[S])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=w[b])===null||s===void 0?void 0:s.name);return G.createElement(nt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),c.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,A))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,c=i.height,d=i.stroke,f=i.travellerWidth,p=Math.min(n,a)+f,m=Math.max(Math.abs(a-n)-f,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:s,width:m,height:c})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,c=n.height,d=n.travellerWidth,f=n.stroke,p=this.state,m=p.startX,v=p.endX,y=5,w={pointerEvents:"none",fill:f};return G.createElement(nt,{className:"recharts-brush-texts"},G.createElement(fo,Gf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-y,y:s+c/2},w),this.getTextOfTick(a)),G.createElement(fo,Gf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+d+y,y:s+c/2},w),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,c=n.x,d=n.y,f=n.width,p=n.height,m=n.alwaysShowText,v=this.state,y=v.startX,w=v.endX,S=v.isTextActive,b=v.isSlideMoving,_=v.isTravellerMoving,A=v.isTravellerFocused;if(!a||!a.length||!je(c)||!je(d)||!je(f)||!je(p)||f<=0||p<=0)return null;var x=Qe("recharts-brush",i),T=G.Children.count(s)===1,C=RK("userSelect","none");return G.createElement(nt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(y,w),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(w,"endX"),(S||b||_||A||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,c=n.height,d=n.stroke,f=Math.floor(i+c/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:a,y:i,width:s,height:c,fill:d,stroke:"none"}),G.createElement("line",{x1:a+1,y1:f,x2:a+s-1,y2:f,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:a+1,y1:f+2,x2:a+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return G.isValidElement(n)?i=G.cloneElement(n,a):Ke(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,c=n.x,d=n.travellerWidth,f=n.updateId,p=n.startIndex,m=n.endIndex;if(i!==a.prevData||f!==a.prevUpdateId)return q0({prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:s},i&&i.length?qK({data:i,width:s,x:c,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||c!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([c,c+s-d]);var v=a.scale.domain().map(function(y){return a.scale(y)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,c=i-1;c-s>1;){var d=Math.floor((s+c)/2);n[d]>a?c=d:s=d}return a>=n[c]?c:s}}])})(N.PureComponent);en(Rs,"displayName","Brush");en(Rs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var V0,ik;function VK(){if(ik)return V0;ik=1;var t=Mw();function e(r,n){var a;return t(r,function(i,s,c){return a=n(i,s,c),!a}),!!a}return V0=e,V0}var H0,ok;function HK(){if(ok)return H0;ok=1;var t=OI(),e=ua(),r=VK(),n=Wr(),a=Th();function i(s,c,d){var f=n(s)?t:r;return d&&a(s,c,d)&&(c=void 0),f(s,e(c,3))}return H0=i,H0}var WK=HK();const GK=st(WK);var aa=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},W0,sk;function KK(){if(sk)return W0;sk=1;var t=VI();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return W0=e,W0}var G0,lk;function YK(){if(lk)return G0;lk=1;var t=KK(),e=UI(),r=ua();function n(a,i){var s={};return i=r(i,3),e(a,function(c,d,f){t(s,d,i(c,d,f))}),s}return G0=n,G0}var XK=YK();const JK=st(XK);var K0,ck;function QK(){if(ck)return K0;ck=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return K0=t,K0}var Y0,uk;function ZK(){if(uk)return Y0;uk=1;var t=Mw();function e(r,n){var a=!0;return t(r,function(i,s,c){return a=!!n(i,s,c),a}),a}return Y0=e,Y0}var X0,dk;function eY(){if(dk)return X0;dk=1;var t=QK(),e=ZK(),r=ua(),n=Wr(),a=Th();function i(s,c,d){var f=n(s)?t:e;return d&&a(s,c,d)&&(c=void 0),f(s,r(c,3))}return X0=i,X0}var tY=eY();const kM=st(tY);var rY=["x","y"];function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ex.apply(this,arguments)}function fk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(r),!0).forEach(function(n){nY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nY(t,e,r){return e=aY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aY(t){var e=iY(t,"string");return tu(e)=="symbol"?e:e+""}function iY(t,e){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oY(t,e){if(t==null)return{};var r=sY(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lY(t,e){var r=t.x,n=t.y,a=oY(t,rY),i="".concat(r),s=parseInt(i,10),c="".concat(n),d=parseInt(c,10),f="".concat(e.height||a.height),p=parseInt(f,10),m="".concat(e.width||a.width),v=parseInt(m,10);return Xl(Xl(Xl(Xl(Xl({},e),a),s?{x:s}:{}),d?{y:d}:{}),{},{height:p,width:v,name:e.name,radius:e.radius})}function hk(t){return G.createElement(_M,Ex({shapeType:"rectangle",propTransformer:lY,activeClassName:"recharts-active-bar"},t))}var cY=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=je(n)||E3(n);return i?e(n,a):(i||po(),r)}},uY=["value","background"],NM;function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function dY(t,e){if(t==null)return{};var r=fY(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yf(){return Yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yf.apply(this,arguments)}function pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(r),!0).forEach(function(n){pi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MM(n.key),n)}}function pY(t,e,r){return e&&mk(t.prototype,e),r&&mk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mY(t,e,r){return e=Xf(e),vY(t,IM()?Reflect.construct(e,r||[],Xf(t).constructor):e.apply(t,r))}function vY(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gY(t)}function gY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IM=function(){return!!t})()}function Xf(t){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xf(t)}function yY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Px(t,e)}function Px(t,e){return Px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Px(t,e)}function pi(t,e,r){return e=MM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MM(t){var e=bY(t,"string");return Ds(e)=="symbol"?e:e+""}function bY(t,e){if(Ds(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _r=(function(t){function e(){var r;hY(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=mY(this,e,[].concat(a)),pi(r,"state",{isAnimationFinished:!1}),pi(r,"id",Qs("recharts-bar-")),pi(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),pi(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return yY(e,t),pY(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,c=i.dataKey,d=i.activeIndex,f=i.activeBar,p=qe(this.props,!1);return n&&n.map(function(m,v){var y=v===d,w=y?f:s,S=qt(qt(qt({},p),m),{},{isActive:y,option:w,index:v,dataKey:c,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return G.createElement(nt,Yf({className:"recharts-bar-rectangle"},uo(a.props,m,v),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(v)}),G.createElement(hk,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,c=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,p=a.animationEasing,m=a.animationId,v=this.state.prevData;return G.createElement(sa,{begin:d,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var w=y.t,S=i.map(function(b,_){var A=v&&v[_];if(A){var x=rn(A.x,b.x),T=rn(A.y,b.y),C=rn(A.width,b.width),E=rn(A.height,b.height);return qt(qt({},b),{},{x:x(w),y:T(w),width:C(w),height:E(w)})}if(s==="horizontal"){var P=rn(0,b.height),R=P(w);return qt(qt({},b),{},{y:b.y+b.height-R,height:R})}var M=rn(0,b.width),$=M(w);return qt(qt({},b),{},{width:$})});return G.createElement(nt,null,n.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!mu(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,c=a.activeIndex,d=qe(this.props.background,!1);return i.map(function(f,p){f.value;var m=f.background,v=dY(f,uY);if(!m)return null;var y=qt(qt(qt(qt(qt({},v),{},{fill:"#eee"},m),d),uo(n.props,f,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:p,className:"recharts-bar-background-rectangle"});return G.createElement(hk,Yf({key:"background-bar-".concat(p),option:n.props.background,isActive:p===c},y))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,c=i.xAxis,d=i.yAxis,f=i.layout,p=i.children,m=ln(p,vu);if(!m)return null;var v=f==="vertical"?s[0].height/2:s[0].width/2,y=function(b,_){var A=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:A,errorVal:er(b,_)}},w={clipPath:n?"url(#clipPath-".concat(a,")"):null};return G.createElement(nt,w,m.map(function(S){return G.cloneElement(S,{key:"error-bar-".concat(a,"-").concat(S.props.dataKey),data:s,xAxis:c,yAxis:d,layout:f,offset:v,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,c=n.xAxis,d=n.yAxis,f=n.left,p=n.top,m=n.width,v=n.height,y=n.isAnimationActive,w=n.background,S=n.id;if(a||!i||!i.length)return null;var b=this.state.isAnimationFinished,_=Qe("recharts-bar",s),A=c&&c.allowDataOverflow,x=d&&d.allowDataOverflow,T=A||x,C=Xe(S)?this.id:S;return G.createElement(nt,{className:_},A||x?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(C)},G.createElement("rect",{x:A?f:f-m/2,y:x?p:p-v/2,width:A?m:m*2,height:x?v:v*2}))):null,G.createElement(nt,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(C,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,C),(!y||b)&&ka.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(N.PureComponent);NM=_r;pi(_r,"displayName","Bar");pi(_r,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!bo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});pi(_r,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,c=t.xAxisTicks,d=t.yAxisTicks,f=t.stackedData,p=t.dataStartIndex,m=t.displayedData,v=t.offset,y=VH(n,r);if(!y)return null;var w=e.layout,S=r.type.defaultProps,b=S!==void 0?qt(qt({},S),r.props):r.props,_=b.dataKey,A=b.children,x=b.minPointSize,T=w==="horizontal"?s:i,C=f?T.scale.domain():null,E=JH({numericAxis:T}),P=ln(A,Si),R=m.map(function(M,$){var k,L,F,z,q,Y;f?k=HH(f[p+$],C):(k=er(M,_),Array.isArray(k)||(k=[E,k]));var te=cY(x,NM.defaultProps.minPointSize)(k[1],$);if(w==="horizontal"){var ee,oe=[s.scale(k[0]),s.scale(k[1])],ue=oe[0],W=oe[1];L=qE({axis:i,ticks:c,bandSize:a,offset:y.offset,entry:M,index:$}),F=(ee=W??ue)!==null&&ee!==void 0?ee:void 0,z=y.size;var J=ue-W;if(q=Number.isNaN(J)?0:J,Y={x:L,y:s.y,width:z,height:s.height},Math.abs(te)>0&&Math.abs(q)<Math.abs(te)){var D=Er(q||te)*(Math.abs(te)-Math.abs(q));F-=D,q+=D}}else{var re=[i.scale(k[0]),i.scale(k[1])],K=re[0],fe=re[1];if(L=K,F=qE({axis:s,ticks:d,bandSize:a,offset:y.offset,entry:M,index:$}),z=fe-K,q=y.size,Y={x:i.x,y:F,width:i.width,height:q},Math.abs(te)>0&&Math.abs(z)<Math.abs(te)){var Me=Er(z||te)*(Math.abs(te)-Math.abs(z));z+=Me}}return qt(qt(qt({},M),{},{x:L,y:F,width:z,height:q,value:f?k:k[1],payload:M,background:Y},P&&P[$]&&P[$].props),{},{tooltipPayload:[oM(r,M)],tooltipPosition:{x:L+z/2,y:F+q/2}})});return qt({data:R,layout:w},v)});function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function xY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RM(n.key),n)}}function wY(t,e,r){return e&&vk(t.prototype,e),r&&vk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(r),!0).forEach(function(n){Gh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gh(t,e,r){return e=RM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RM(t){var e=SY(t,"string");return ru(e)=="symbol"?e:e+""}function SY(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DM=function(e,r,n,a,i){var s=e.width,c=e.height,d=e.layout,f=e.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},v=!!tn(f,_r);return p.reduce(function(y,w){var S=r[w],b=S.orientation,_=S.domain,A=S.padding,x=A===void 0?{}:A,T=S.mirror,C=S.reversed,E="".concat(b).concat(T?"Mirror":""),P,R,M,$,k;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var L=_[1]-_[0],F=1/0,z=S.categoricalDomain.sort(N3);if(z.forEach(function(re,K){K>0&&(F=Math.min((re||0)-(z[K-1]||0),F))}),Number.isFinite(F)){var q=F/L,Y=S.layout==="vertical"?n.height:n.width;if(S.padding==="gap"&&(P=q*Y/2),S.padding==="no-gap"){var te=Pr(e.barCategoryGap,q*Y),ee=q*Y/2;P=ee-te-(ee-te)/Y*te}}}a==="xAxis"?R=[n.left+(x.left||0)+(P||0),n.left+n.width-(x.right||0)-(P||0)]:a==="yAxis"?R=d==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(P||0),n.top+n.height-(x.bottom||0)-(P||0)]:R=S.range,C&&(R=[R[1],R[0]]);var oe=rM(S,i,v),ue=oe.scale,W=oe.realScaleType;ue.domain(_).range(R),nM(ue);var J=aM(ue,Bn(Bn({},S),{},{realScaleType:W}));a==="xAxis"?(k=b==="top"&&!T||b==="bottom"&&T,M=n.left,$=m[E]-k*S.height):a==="yAxis"&&(k=b==="left"&&!T||b==="right"&&T,M=m[E]-k*S.width,$=n.top);var D=Bn(Bn(Bn({},S),J),{},{realScaleType:W,x:M,y:$,scale:ue,width:a==="xAxis"?n.width:S.width,height:a==="yAxis"?n.height:S.height});return D.bandSize=Nf(D,J),!S.hide&&a==="xAxis"?m[E]+=(k?-1:1)*D.height:S.hide||(m[E]+=(k?-1:1)*D.width),Bn(Bn({},y),{},Gh({},w,D))},{})},$M=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},jY=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return $M({x:r,y:n},{x:a,y:i})},LM=(function(){function t(e){xY(this,t),this.scale=e}return wY(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();Gh(LM,"EPS",1e-4);var cS=function(e){var r=Object.keys(e).reduce(function(n,a){return Bn(Bn({},n),{},Gh({},a,LM.create(e[a])))},{});return Bn(Bn({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,c=i.position;return JK(a,function(d,f){return r[f].apply(d,{bandAware:s,position:c})})},isInRange:function(a){return kM(a,function(i,s){return r[s].isInRange(i)})}})};function _Y(t){return(t%180+180)%180}var AY=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=_Y(a),s=i*Math.PI/180,c=Math.atan(n/r),d=s>c&&s<Math.PI-c?n/Math.sin(s):r/Math.cos(s);return Math.abs(d)},J0,yk;function OY(){if(yk)return J0;yk=1;var t=ua(),e=uu(),r=Oh();function n(a){return function(i,s,c){var d=Object(i);if(!e(i)){var f=t(s,3);i=r(i),s=function(m){return f(d[m],m,d)}}var p=a(i,s,c);return p>-1?d[f?i[p]:p]:void 0}}return J0=n,J0}var Q0,bk;function CY(){if(bk)return Q0;bk=1;var t=CM();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return Q0=e,Q0}var Z0,xk;function TY(){if(xk)return Z0;xk=1;var t=$I(),e=ua(),r=CY(),n=Math.max;function a(i,s,c){var d=i==null?0:i.length;if(!d)return-1;var f=c==null?0:r(c);return f<0&&(f=n(d+f,0)),t(i,e(s,3),f)}return Z0=a,Z0}var eb,wk;function EY(){if(wk)return eb;wk=1;var t=OY(),e=TY(),r=t(e);return eb=r,eb}var PY=EY();const kY=st(PY);var NY=ZN();const IY=st(NY);var MY=IY(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),uS=N.createContext(void 0),dS=N.createContext(void 0),BM=N.createContext(void 0),FM=N.createContext({}),zM=N.createContext(void 0),UM=N.createContext(0),qM=N.createContext(0),Sk=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=e.clipPathId,c=e.children,d=e.width,f=e.height,p=MY(i);return G.createElement(uS.Provider,{value:n},G.createElement(dS.Provider,{value:a},G.createElement(FM.Provider,{value:i},G.createElement(BM.Provider,{value:p},G.createElement(zM.Provider,{value:s},G.createElement(UM.Provider,{value:f},G.createElement(qM.Provider,{value:d},c)))))))},RY=function(){return N.useContext(zM)},VM=function(e){var r=N.useContext(uS);r==null&&po();var n=r[e];return n==null&&po(),n},DY=function(){var e=N.useContext(uS);return fi(e)},$Y=function(){var e=N.useContext(dS),r=kY(e,function(n){return kM(n.domain,Number.isFinite)});return r||fi(e)},HM=function(e){var r=N.useContext(dS);r==null&&po();var n=r[e];return n==null&&po(),n},LY=function(){var e=N.useContext(BM);return e},BY=function(){return N.useContext(FM)},fS=function(){return N.useContext(qM)},hS=function(){return N.useContext(UM)};function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function FY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GM(n.key),n)}}function UY(t,e,r){return e&&zY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qY(t,e,r){return e=Jf(e),VY(t,WM()?Reflect.construct(e,r||[],Jf(t).constructor):e.apply(t,r))}function VY(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HY(t)}function HY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WM=function(){return!!t})()}function Jf(t){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jf(t)}function WY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kx(t,e)}function kx(t,e){return kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kx(t,e)}function jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _k(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(r),!0).forEach(function(n){pS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pS(t,e,r){return e=GM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GM(t){var e=GY(t,"string");return $s(e)=="symbol"?e:e+""}function GY(t,e){if($s(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function KY(t,e){return QY(t)||JY(t,e)||XY(t,e)||YY()}function YY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XY(t,e){if(t){if(typeof t=="string")return Ak(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ak(t,e)}}function Ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function QY(t){if(Array.isArray(t))return t}function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nx.apply(this,arguments)}var ZY=function(e,r){var n;return G.isValidElement(e)?n=G.cloneElement(e,r):Ke(e)?n=e(r):n=G.createElement("line",Nx({},r,{className:"recharts-reference-line-line"})),n},eX=function(e,r,n,a,i,s,c,d,f){var p=i.x,m=i.y,v=i.width,y=i.height;if(n){var w=f.y,S=e.y.apply(w,{position:s});if(aa(f,"discard")&&!e.y.isInRange(S))return null;var b=[{x:p+v,y:S},{x:p,y:S}];return d==="left"?b.reverse():b}if(r){var _=f.x,A=e.x.apply(_,{position:s});if(aa(f,"discard")&&!e.x.isInRange(A))return null;var x=[{x:A,y:m+y},{x:A,y:m}];return c==="top"?x.reverse():x}if(a){var T=f.segment,C=T.map(function(E){return e.apply(E,{position:s})});return aa(f,"discard")&&GK(C,function(E){return!e.isInRange(E)})?null:C}return null};function tX(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,c=t.className,d=t.alwaysShow,f=RY(),p=VM(a),m=HM(i),v=LY();if(!f||!v)return null;qn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=cS({x:p.scale,y:m.scale}),w=tr(e),S=tr(r),b=n&&n.length===2,_=eX(y,w,S,b,v,t.position,p.orientation,m.orientation,t);if(!_)return null;var A=KY(_,2),x=A[0],T=x.x,C=x.y,E=A[1],P=E.x,R=E.y,M=aa(t,"hidden")?"url(#".concat(f,")"):void 0,$=_k(_k({clipPath:M},qe(t,!0)),{},{x1:T,y1:C,x2:P,y2:R});return G.createElement(nt,{className:Qe("recharts-reference-line",c)},ZY(s,$),lr.renderCallByParent(t,jY({x1:T,y1:C,x2:P,y2:R})))}var mS=(function(t){function e(){return FY(this,e),qY(this,e,arguments)}return WY(e,t),UY(e,[{key:"render",value:function(){return G.createElement(tX,this.props)}}])})(G.Component);pS(mS,"displayName","ReferenceLine");pS(mS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ix(){return Ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ix.apply(this,arguments)}function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function Ok(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ck(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(r),!0).forEach(function(n){Kh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YM(n.key),n)}}function aX(t,e,r){return e&&nX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iX(t,e,r){return e=Qf(e),oX(t,KM()?Reflect.construct(e,r||[],Qf(t).constructor):e.apply(t,r))}function oX(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sX(t)}function sX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KM=function(){return!!t})()}function Qf(t){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qf(t)}function lX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mx(t,e)}function Mx(t,e){return Mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mx(t,e)}function Kh(t,e,r){return e=YM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YM(t){var e=cX(t,"string");return Ls(e)=="symbol"?e:e+""}function cX(t,e){if(Ls(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uX=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,s=cS({x:a.scale,y:i.scale}),c=s.apply({x:r,y:n},{bandAware:!0});return aa(e,"discard")&&!s.isInRange(c)?null:c},Yh=(function(t){function e(){return rX(this,e),iX(this,e,arguments)}return lX(e,t),aX(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,c=n.alwaysShow,d=n.clipPathId,f=tr(a),p=tr(i);if(qn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var m=uX(this.props);if(!m)return null;var v=m.x,y=m.y,w=this.props,S=w.shape,b=w.className,_=aa(this.props,"hidden")?"url(#".concat(d,")"):void 0,A=Ck(Ck({clipPath:_},qe(this.props,!0)),{},{cx:v,cy:y});return G.createElement(nt,{className:Qe("recharts-reference-dot",b)},e.renderDot(S,A),lr.renderCallByParent(this.props,{x:v-s,y:y-s,width:2*s,height:2*s}))}}])})(G.Component);Kh(Yh,"displayName","ReferenceDot");Kh(Yh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Kh(Yh,"renderDot",function(t,e){var r;return G.isValidElement(t)?r=G.cloneElement(t,e):Ke(t)?r=t(e):r=G.createElement(Fh,Ix({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Rx(){return Rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rx.apply(this,arguments)}function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function Tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ek(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(r),!0).forEach(function(n){Xh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JM(n.key),n)}}function hX(t,e,r){return e&&fX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pX(t,e,r){return e=Zf(e),mX(t,XM()?Reflect.construct(e,r||[],Zf(t).constructor):e.apply(t,r))}function mX(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vX(t)}function vX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XM=function(){return!!t})()}function Zf(t){return Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zf(t)}function gX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dx(t,e)}function Dx(t,e){return Dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dx(t,e)}function Xh(t,e,r){return e=JM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JM(t){var e=yX(t,"string");return Bs(e)=="symbol"?e:e+""}function yX(t,e){if(Bs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bX=function(e,r,n,a,i){var s=i.x1,c=i.x2,d=i.y1,f=i.y2,p=i.xAxis,m=i.yAxis;if(!p||!m)return null;var v=cS({x:p.scale,y:m.scale}),y={x:e?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(d,{position:"start"}):v.y.rangeMin},w={x:r?v.x.apply(c,{position:"end"}):v.x.rangeMax,y:a?v.y.apply(f,{position:"end"}):v.y.rangeMax};return aa(i,"discard")&&(!v.isInRange(y)||!v.isInRange(w))?null:$M(y,w)},Jh=(function(t){function e(){return dX(this,e),pX(this,e,arguments)}return gX(e,t),hX(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,c=n.y2,d=n.className,f=n.alwaysShow,p=n.clipPathId;qn(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=tr(a),v=tr(i),y=tr(s),w=tr(c),S=this.props.shape;if(!m&&!v&&!y&&!w&&!S)return null;var b=bX(m,v,y,w,this.props);if(!b&&!S)return null;var _=aa(this.props,"hidden")?"url(#".concat(p,")"):void 0;return G.createElement(nt,{className:Qe("recharts-reference-area",d)},e.renderRect(S,Ek(Ek({clipPath:_},qe(this.props,!0)),b)),lr.renderCallByParent(this.props,b))}}])})(G.Component);Xh(Jh,"displayName","ReferenceArea");Xh(Jh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Xh(Jh,"renderRect",function(t,e){var r;return G.isValidElement(t)?r=G.cloneElement(t,e):Ke(t)?r=t(e):r=G.createElement(lS,Rx({},e,{className:"recharts-reference-area-rect"})),r});function QM(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function xX(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return AY(n,r)}function wX(t,e,r){var n=r==="width",a=t.x,i=t.y,s=t.width,c=t.height;return e===1?{start:n?a:i,end:n?a+s:i+c}:{start:n?a+s:i+c,end:n?a:i}}function eh(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function SX(t,e){return QM(t,e+1)}function jX(t,e,r,n,a){for(var i=(n||[]).slice(),s=e.start,c=e.end,d=0,f=1,p=s,m=function(){var w=n?.[d];if(w===void 0)return{v:QM(n,f)};var S=d,b,_=function(){return b===void 0&&(b=r(w,S)),b},A=w.coordinate,x=d===0||eh(t,A,_,p,c);x||(d=0,p=s,f+=1),x&&(p=A+t*(_()/2+a),d+=f)},v;f<=i.length;)if(v=m(),v)return v.v;return[]}function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function Pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(r),!0).forEach(function(n){_X(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _X(t,e,r){return e=AX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AX(t){var e=OX(t,"string");return nu(e)=="symbol"?e:e+""}function OX(t,e){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CX(t,e,r,n,a){for(var i=(n||[]).slice(),s=i.length,c=e.start,d=e.end,f=function(v){var y=i[v],w,S=function(){return w===void 0&&(w=r(y,v)),w};if(v===s-1){var b=t*(y.coordinate+t*S()/2-d);i[v]=y=wr(wr({},y),{},{tickCoord:b>0?y.coordinate-b*t:y.coordinate})}else i[v]=y=wr(wr({},y),{},{tickCoord:y.coordinate});var _=eh(t,y.tickCoord,S,c,d);_&&(d=y.tickCoord-t*(S()/2+a),i[v]=wr(wr({},y),{},{isShow:!0}))},p=s-1;p>=0;p--)f(p);return i}function TX(t,e,r,n,a,i){var s=(n||[]).slice(),c=s.length,d=e.start,f=e.end;if(i){var p=n[c-1],m=r(p,c-1),v=t*(p.coordinate+t*m/2-f);s[c-1]=p=wr(wr({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate});var y=eh(t,p.tickCoord,function(){return m},d,f);y&&(f=p.tickCoord-t*(m/2+a),s[c-1]=wr(wr({},p),{},{isShow:!0}))}for(var w=i?c-1:c,S=function(A){var x=s[A],T,C=function(){return T===void 0&&(T=r(x,A)),T};if(A===0){var E=t*(x.coordinate-t*C()/2-d);s[A]=x=wr(wr({},x),{},{tickCoord:E<0?x.coordinate-E*t:x.coordinate})}else s[A]=x=wr(wr({},x),{},{tickCoord:x.coordinate});var P=eh(t,x.tickCoord,C,d,f);P&&(d=x.tickCoord+t*(C()/2+a),s[A]=wr(wr({},x),{},{isShow:!0}))},b=0;b<w;b++)S(b);return s}function vS(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,c=t.orientation,d=t.interval,f=t.tickFormatter,p=t.unit,m=t.angle;if(!a||!a.length||!n)return[];if(je(d)||bo.isSsr)return SX(a,typeof d=="number"&&je(d)?d:0);var v=[],y=c==="top"||c==="bottom"?"width":"height",w=p&&y==="width"?lc(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},S=function(x,T){var C=Ke(f)?f(x.value,T):x.value;return y==="width"?xX(lc(C,{fontSize:e,letterSpacing:r}),w,m):lc(C,{fontSize:e,letterSpacing:r})[y]},b=a.length>=2?Er(a[1].coordinate-a[0].coordinate):1,_=wX(i,b,y);return d==="equidistantPreserveStart"?jX(b,_,S,a,s):(d==="preserveStart"||d==="preserveStartEnd"?v=TX(b,_,S,a,s,d==="preserveStartEnd"):v=CX(b,_,S,a,s),v.filter(function(A){return A.isShow}))}var EX=["viewBox"],PX=["viewBox"],kX=["ticks"];function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function ps(){return ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ps.apply(this,arguments)}function kk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(r),!0).forEach(function(n){gS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tb(t,e){if(t==null)return{};var r=NX(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eR(n.key),n)}}function MX(t,e,r){return e&&Nk(t.prototype,e),r&&Nk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function RX(t,e,r){return e=th(e),DX(t,ZM()?Reflect.construct(e,r||[],th(t).constructor):e.apply(t,r))}function DX(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $X(t)}function $X(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZM=function(){return!!t})()}function th(t){return th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},th(t)}function LX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$x(t,e)}function $x(t,e){return $x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$x(t,e)}function gS(t,e,r){return e=eR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eR(t){var e=BX(t,"string");return Fs(e)=="symbol"?e:e+""}function BX(t,e){if(Fs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nl=(function(t){function e(r){var n;return IX(this,e),n=RX(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return LX(e,t),MX(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=tb(n,EX),c=this.props,d=c.viewBox,f=tb(c,PX);return!gs(i,d)||!gs(s,f)||!gs(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,c=a.width,d=a.height,f=a.orientation,p=a.tickSize,m=a.mirror,v=a.tickMargin,y,w,S,b,_,A,x=m?-1:1,T=n.tickSize||p,C=je(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":y=w=n.coordinate,b=s+ +!m*d,S=b-x*T,A=S-x*v,_=C;break;case"left":S=b=n.coordinate,w=i+ +!m*c,y=w-x*T,_=y-x*v,A=C;break;case"right":S=b=n.coordinate,w=i+ +m*c,y=w+x*T,_=y+x*v,A=C;break;default:y=w=n.coordinate,b=s+ +m*d,S=b+x*T,A=S+x*v,_=C;break}return{line:{x1:y,y1:S,x2:w,y2:b},tick:{x:_,y:A}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,c=n.height,d=n.orientation,f=n.mirror,p=n.axisLine,m=Yt(Yt(Yt({},qe(this.props,!1)),qe(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var v=+(d==="top"&&!f||d==="bottom"&&f);m=Yt(Yt({},m),{},{x1:a,y1:i+v*c,x2:a+s,y2:i+v*c})}else{var y=+(d==="left"&&!f||d==="right"&&f);m=Yt(Yt({},m),{},{x1:a+y*s,y1:i,x2:a+y*s,y2:i+c})}return G.createElement("line",ps({},m,{className:Qe("recharts-cartesian-axis-line",sn(p,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,c=this.props,d=c.tickLine,f=c.stroke,p=c.tick,m=c.tickFormatter,v=c.unit,y=vS(Yt(Yt({},this.props),{},{ticks:n}),a,i),w=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),b=qe(this.props,!1),_=qe(p,!1),A=Yt(Yt({},b),{},{fill:"none"},qe(d,!1)),x=y.map(function(T,C){var E=s.getTickLineCoord(T),P=E.line,R=E.tick,M=Yt(Yt(Yt(Yt({textAnchor:w,verticalAnchor:S},b),{},{stroke:"none",fill:f},_),R),{},{index:C,payload:T,visibleTicksCount:y.length,tickFormatter:m});return G.createElement(nt,ps({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},uo(s.props,T,C)),d&&G.createElement("line",ps({},A,P,{className:Qe("recharts-cartesian-axis-tick-line",sn(d,"className"))})),p&&e.renderTickItem(p,M,"".concat(Ke(m)?m(T.value,C):T.value).concat(v||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,c=a.height,d=a.ticksGenerator,f=a.className,p=a.hide;if(p)return null;var m=this.props,v=m.ticks,y=tb(m,kX),w=v;return Ke(d)&&(w=v&&v.length>0?d(this.props):d(y)),s<=0||c<=0||!w||!w.length?null:G.createElement(nt,{className:Qe("recharts-cartesian-axis",f),ref:function(b){n.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),lr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,c=Qe(a.className,"recharts-cartesian-axis-tick-value");return G.isValidElement(n)?s=G.cloneElement(n,Yt(Yt({},a),{},{className:c})):Ke(n)?s=n(Yt(Yt({},a),{},{className:c})):s=G.createElement(fo,ps({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])})(N.Component);gS(nl,"displayName","CartesianAxis");gS(nl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var FX=["x1","y1","x2","y2","key"],zX=["offset"];function mo(t){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(t)}function Ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(r),!0).forEach(function(n){UX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UX(t,e,r){return e=qX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qX(t){var e=VX(t,"string");return mo(e)=="symbol"?e:e+""}function VX(t,e){if(mo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},no.apply(this,arguments)}function Mk(t,e){if(t==null)return{};var r=HX(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var WX=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,s=e.width,c=e.height,d=e.ry;return G.createElement("rect",{x:a,y:i,ry:d,width:s,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function tR(t,e){var r;if(G.isValidElement(t))r=G.cloneElement(t,e);else if(Ke(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,s=e.y2,c=e.key,d=Mk(e,FX),f=qe(d,!1);f.offset;var p=Mk(f,zX);r=G.createElement("line",no({},p,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:c}))}return r}function GX(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(c,d){var f=Sr(Sr({},t),{},{x1:e,y1:c,x2:e+r,y2:c,key:"line-".concat(d),index:d});return tR(a,f)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function KX(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(c,d){var f=Sr(Sr({},t),{},{x1:c,y1:e,x2:c,y2:e+r,key:"line-".concat(d),index:d});return tR(a,f)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function YX(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,s=t.height,c=t.horizontalPoints,d=t.horizontal,f=d===void 0?!0:d;if(!f||!e||!e.length)return null;var p=c.map(function(v){return Math.round(v+a-a)}).sort(function(v,y){return v-y});a!==p[0]&&p.unshift(0);var m=p.map(function(v,y){var w=!p[y+1],S=w?a+s-v:p[y+1]-v;if(S<=0)return null;var b=y%e.length;return G.createElement("rect",{key:"react-".concat(y),y:v,x:n,height:S,width:i,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function XX(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,c=t.width,d=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var p=f.map(function(v){return Math.round(v+i-i)}).sort(function(v,y){return v-y});i!==p[0]&&p.unshift(0);var m=p.map(function(v,y){var w=!p[y+1],S=w?i+c-v:p[y+1]-v;if(S<=0)return null;var b=y%n.length;return G.createElement("rect",{key:"react-".concat(y),x:v,y:s,width:S,height:d,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var JX=function(e,r){var n=e.xAxis,a=e.width,i=e.height,s=e.offset;return tM(vS(Sr(Sr(Sr({},nl.defaultProps),n),{},{ticks:Ca(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},QX=function(e,r){var n=e.yAxis,a=e.width,i=e.height,s=e.offset;return tM(vS(Sr(Sr(Sr({},nl.defaultProps),n),{},{ticks:Ca(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},ts={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Vn(t){var e,r,n,a,i,s,c=fS(),d=hS(),f=BY(),p=Sr(Sr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ts.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:ts.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:ts.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:ts.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:ts.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:ts.verticalFill,x:je(t.x)?t.x:f.left,y:je(t.y)?t.y:f.top,width:je(t.width)?t.width:f.width,height:je(t.height)?t.height:f.height}),m=p.x,v=p.y,y=p.width,w=p.height,S=p.syncWithTicks,b=p.horizontalValues,_=p.verticalValues,A=DY(),x=$Y();if(!je(y)||y<=0||!je(w)||w<=0||!je(m)||m!==+m||!je(v)||v!==+v)return null;var T=p.verticalCoordinatesGenerator||JX,C=p.horizontalCoordinatesGenerator||QX,E=p.horizontalPoints,P=p.verticalPoints;if((!E||!E.length)&&Ke(C)){var R=b&&b.length,M=C({yAxis:x?Sr(Sr({},x),{},{ticks:R?b:x.ticks}):void 0,width:c,height:d,offset:f},R?!0:S);qn(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(mo(M),"]")),Array.isArray(M)&&(E=M)}if((!P||!P.length)&&Ke(T)){var $=_&&_.length,k=T({xAxis:A?Sr(Sr({},A),{},{ticks:$?_:A.ticks}):void 0,width:c,height:d,offset:f},$?!0:S);qn(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(mo(k),"]")),Array.isArray(k)&&(P=k)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(WX,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),G.createElement(GX,no({},p,{offset:f,horizontalPoints:E,xAxis:A,yAxis:x})),G.createElement(KX,no({},p,{offset:f,verticalPoints:P,xAxis:A,yAxis:x})),G.createElement(YX,no({},p,{horizontalPoints:E})),G.createElement(XX,no({},p,{verticalPoints:P})))}Vn.displayName="CartesianGrid";var ZX=["type","layout","connectNulls","ref"],eJ=["key"];function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function Rk(t,e){if(t==null)return{};var r=tJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pc.apply(this,arguments)}function Dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(r),!0).forEach(function(n){Fn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rs(t){return iJ(t)||aJ(t)||nJ(t)||rJ()}function rJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nJ(t,e){if(t){if(typeof t=="string")return Lx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lx(t,e)}}function aJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iJ(t){if(Array.isArray(t))return Lx(t)}function Lx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nR(n.key),n)}}function sJ(t,e,r){return e&&$k(t.prototype,e),r&&$k(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lJ(t,e,r){return e=rh(e),cJ(t,rR()?Reflect.construct(e,r||[],rh(t).constructor):e.apply(t,r))}function cJ(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uJ(t)}function uJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rR=function(){return!!t})()}function rh(t){return rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rh(t)}function dJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bx(t,e)}function Bx(t,e){return Bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bx(t,e)}function Fn(t,e,r){return e=nR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nR(t){var e=fJ(t,"string");return zs(e)=="symbol"?e:e+""}function fJ(t,e){if(zs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var la=(function(t){function e(){var r;oJ(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=lJ(this,e,[].concat(a)),Fn(r,"state",{isAnimationFinished:!0,totalLength:0}),Fn(r,"generateSimpleStrokeDasharray",function(s,c){return"".concat(c,"px ").concat(s-c,"px")}),Fn(r,"getStrokeDasharray",function(s,c,d){var f=d.reduce(function(_,A){return _+A});if(!f)return r.generateSimpleStrokeDasharray(c,s);for(var p=Math.floor(s/f),m=s%f,v=c-s,y=[],w=0,S=0;w<d.length;S+=d[w],++w)if(S+d[w]>m){y=[].concat(rs(d.slice(0,w)),[m-S]);break}var b=y.length%2===0?[0,v]:[v];return[].concat(rs(e.repeat(d,p)),rs(y),b).map(function(_){return"".concat(_,"px")}).join(", ")}),Fn(r,"id",Qs("recharts-line-")),Fn(r,"pathRef",function(s){r.mainCurve=s}),Fn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Fn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return dJ(e,t),sJ(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,c=i.xAxis,d=i.yAxis,f=i.layout,p=i.children,m=ln(p,vu);if(!m)return null;var v=function(S,b){return{x:S.x,y:S.y,value:S.value,errorVal:er(S.payload,b)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return G.createElement(nt,y,m.map(function(w){return G.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:s,xAxis:c,yAxis:d,layout:f,dataPointFormatter:v})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.dot,f=c.points,p=c.dataKey,m=qe(this.props,!1),v=qe(d,!0),y=f.map(function(S,b){var _=Zr(Zr(Zr({key:"dot-".concat(b),r:3},m),v),{},{index:b,cx:S.x,cy:S.y,value:S.value,dataKey:p,payload:S.payload,points:f});return e.renderDotItem(d,_)}),w={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return G.createElement(nt,pc({className:"recharts-line-dots",key:"dots"},w),y)}},{key:"renderCurveStatically",value:function(n,a,i,s){var c=this.props,d=c.type,f=c.layout,p=c.connectNulls;c.ref;var m=Rk(c,ZX),v=Zr(Zr(Zr({},qe(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:d,layout:f,connectNulls:p});return G.createElement(Rf,pc({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,c=s.points,d=s.strokeDasharray,f=s.isAnimationActive,p=s.animationBegin,m=s.animationDuration,v=s.animationEasing,y=s.animationId,w=s.animateNewValues,S=s.width,b=s.height,_=this.state,A=_.prevPoints,x=_.totalLength;return G.createElement(sa,{begin:p,duration:m,isActive:f,easing:v,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var C=T.t;if(A){var E=A.length/c.length,P=c.map(function(L,F){var z=Math.floor(F*E);if(A[z]){var q=A[z],Y=rn(q.x,L.x),te=rn(q.y,L.y);return Zr(Zr({},L),{},{x:Y(C),y:te(C)})}if(w){var ee=rn(S*2,L.x),oe=rn(b/2,L.y);return Zr(Zr({},L),{},{x:ee(C),y:oe(C)})}return Zr(Zr({},L),{},{x:L.x,y:L.y})});return i.renderCurveStatically(P,n,a)}var R=rn(0,x),M=R(C),$;if(d){var k="".concat(d).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});$=i.getStrokeDasharray(M,x,k)}else $=i.generateSimpleStrokeDasharray(x,M);return i.renderCurveStatically(c,n,a,{strokeDasharray:$})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,c=i.isAnimationActive,d=this.state,f=d.prevPoints,p=d.totalLength;return c&&s&&s.length&&(!f&&p>0||!mu(f,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,c=a.points,d=a.className,f=a.xAxis,p=a.yAxis,m=a.top,v=a.left,y=a.width,w=a.height,S=a.isAnimationActive,b=a.id;if(i||!c||!c.length)return null;var _=this.state.isAnimationFinished,A=c.length===1,x=Qe("recharts-line",d),T=f&&f.allowDataOverflow,C=p&&p.allowDataOverflow,E=T||C,P=Xe(b)?this.id:b,R=(n=qe(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=R.r,$=M===void 0?3:M,k=R.strokeWidth,L=k===void 0?2:k,F=z3(s)?s:{},z=F.clipDot,q=z===void 0?!0:z,Y=$*2+L;return G.createElement(nt,{className:x},T||C?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(P)},G.createElement("rect",{x:T?v:v-y/2,y:C?m:m-w/2,width:T?y:y*2,height:C?w:w*2})),!q&&G.createElement("clipPath",{id:"clipPath-dots-".concat(P)},G.createElement("rect",{x:v-Y/2,y:m-Y/2,width:y+Y,height:w+Y}))):null,!A&&this.renderCurve(E,P),this.renderErrorBar(E,P),(A||s)&&this.renderDots(E,q,P),(!S||_)&&ka.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(rs(n),[0]):n,s=[],c=0;c<a;++c)s=[].concat(rs(s),rs(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(G.isValidElement(n))i=G.cloneElement(n,a);else if(Ke(n))i=n(a);else{var s=a.key,c=Rk(a,eJ),d=Qe("recharts-line-dot",typeof n!="boolean"?n.className:"");i=G.createElement(Fh,pc({key:s},c,{className:d}))}return i}}])})(N.PureComponent);Fn(la,"displayName","Line");Fn(la,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!bo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Fn(la,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,s=t.dataKey,c=t.bandSize,d=t.displayedData,f=t.offset,p=e.layout,m=d.map(function(v,y){var w=er(v,s);return p==="horizontal"?{x:UE({axis:r,ticks:a,bandSize:c,entry:v,index:y}),y:Xe(w)?null:n.scale(w),value:w,payload:v}:{x:Xe(w)?null:r.scale(w),y:UE({axis:n,ticks:i,bandSize:c,entry:v,index:y}),value:w,payload:v}});return Zr({points:m,layout:p},f)});function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function hJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oR(n.key),n)}}function mJ(t,e,r){return e&&pJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vJ(t,e,r){return e=nh(e),gJ(t,aR()?Reflect.construct(e,r||[],nh(t).constructor):e.apply(t,r))}function gJ(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yJ(t)}function yJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aR=function(){return!!t})()}function nh(t){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nh(t)}function bJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fx(t,e)}function Fx(t,e){return Fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fx(t,e)}function iR(t,e,r){return e=oR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oR(t){var e=xJ(t,"string");return Us(e)=="symbol"?e:e+""}function xJ(t,e){if(Us(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zx(){return zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zx.apply(this,arguments)}function wJ(t){var e=t.xAxisId,r=fS(),n=hS(),a=VM(e);return a==null?null:N.createElement(nl,zx({},a,{className:Qe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Ca(s,!0)}}))}var Vr=(function(t){function e(){return hJ(this,e),vJ(this,e,arguments)}return bJ(e,t),mJ(e,[{key:"render",value:function(){return N.createElement(wJ,this.props)}}])})(N.Component);iR(Vr,"displayName","XAxis");iR(Vr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function SJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cR(n.key),n)}}function _J(t,e,r){return e&&jJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AJ(t,e,r){return e=ah(e),OJ(t,sR()?Reflect.construct(e,r||[],ah(t).constructor):e.apply(t,r))}function OJ(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CJ(t)}function CJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sR=function(){return!!t})()}function ah(t){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ah(t)}function TJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ux(t,e)}function Ux(t,e){return Ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ux(t,e)}function lR(t,e,r){return e=cR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cR(t){var e=EJ(t,"string");return qs(e)=="symbol"?e:e+""}function EJ(t,e){if(qs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qx(){return qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qx.apply(this,arguments)}var PJ=function(e){var r=e.yAxisId,n=fS(),a=hS(),i=HM(r);return i==null?null:N.createElement(nl,qx({},i,{className:Qe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(c){return Ca(c,!0)}}))},jr=(function(t){function e(){return SJ(this,e),AJ(this,e,arguments)}return TJ(e,t),_J(e,[{key:"render",value:function(){return N.createElement(PJ,this.props)}}])})(N.Component);lR(jr,"displayName","YAxis");lR(jr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Lk(t){return MJ(t)||IJ(t)||NJ(t)||kJ()}function kJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NJ(t,e){if(t){if(typeof t=="string")return Vx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vx(t,e)}}function IJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MJ(t){if(Array.isArray(t))return Vx(t)}function Vx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Hx=function(e,r,n,a,i){var s=ln(e,mS),c=ln(e,Yh),d=[].concat(Lk(s),Lk(c)),f=ln(e,Jh),p="".concat(a,"Id"),m=a[0],v=r;if(d.length&&(v=d.reduce(function(S,b){if(b.props[p]===n&&aa(b.props,"extendDomain")&&je(b.props[m])){var _=b.props[m];return[Math.min(S[0],_),Math.max(S[1],_)]}return S},v)),f.length){var y="".concat(m,"1"),w="".concat(m,"2");v=f.reduce(function(S,b){if(b.props[p]===n&&aa(b.props,"extendDomain")&&je(b.props[y])&&je(b.props[w])){var _=b.props[y],A=b.props[w];return[Math.min(S[0],_,A),Math.max(S[1],_,A)]}return S},v)}return i&&i.length&&(v=i.reduce(function(S,b){return je(b)?[Math.min(S[0],b),Math.max(S[1],b)]:S},v)),v},rb={exports:{}},Bk;function RJ(){return Bk||(Bk=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function i(d,f,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new a(p,m||d,v),w=r?r+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],y]:d._events[w].push(y):(d._events[w]=y,d._eventsCount++),d}function s(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)e.call(p,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=r?r+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,y=m.length,w=new Array(y);v<y;v++)w[v]=m[v].fn;return w},c.prototype.listenerCount=function(f){var p=r?r+f:f,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,p,m,v,y,w){var S=r?r+f:f;if(!this._events[S])return!1;var b=this._events[S],_=arguments.length,A,x;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,p),!0;case 3:return b.fn.call(b.context,p,m),!0;case 4:return b.fn.call(b.context,p,m,v),!0;case 5:return b.fn.call(b.context,p,m,v,y),!0;case 6:return b.fn.call(b.context,p,m,v,y,w),!0}for(x=1,A=new Array(_-1);x<_;x++)A[x-1]=arguments[x];b.fn.apply(b.context,A)}else{var T=b.length,C;for(x=0;x<T;x++)switch(b[x].once&&this.removeListener(f,b[x].fn,void 0,!0),_){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,p);break;case 3:b[x].fn.call(b[x].context,p,m);break;case 4:b[x].fn.call(b[x].context,p,m,v);break;default:if(!A)for(C=1,A=new Array(_-1);C<_;C++)A[C-1]=arguments[C];b[x].fn.apply(b[x].context,A)}}return!0},c.prototype.on=function(f,p,m){return i(this,f,p,m,!1)},c.prototype.once=function(f,p,m){return i(this,f,p,m,!0)},c.prototype.removeListener=function(f,p,m,v){var y=r?r+f:f;if(!this._events[y])return this;if(!p)return s(this,y),this;var w=this._events[y];if(w.fn)w.fn===p&&(!v||w.once)&&(!m||w.context===m)&&s(this,y);else{for(var S=0,b=[],_=w.length;S<_;S++)(w[S].fn!==p||v&&!w[S].once||m&&w[S].context!==m)&&b.push(w[S]);b.length?this._events[y]=b.length===1?b[0]:b:s(this,y)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&s(this,p)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(rb)),rb.exports}var DJ=RJ();const $J=st(DJ);var nb=new $J,ab="recharts.syncMouseEvents";function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function LJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uR(n.key),n)}}function FJ(t,e,r){return e&&BJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ib(t,e,r){return e=uR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uR(t){var e=zJ(t,"string");return au(e)=="symbol"?e:e+""}function zJ(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UJ=(function(){function t(){LJ(this,t),ib(this,"activeIndex",0),ib(this,"coordinateList",[]),ib(this,"layout","horizontal")}return FJ(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,c=s===void 0?null:s,d=r.layout,f=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,v=r.mouseHandlerCallback,y=v===void 0?null:v;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,c=a.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+d+f,v=s+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])})();function qJ(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],a=t?.[1];if(n&&a&&je(n)&&je(a))return!0}return!1}function VJ(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function dR(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,s=St(e,r,n,a),c=St(e,r,n,i);return{points:[s,c],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function HJ(t,e,r){var n,a,i,s;if(t==="horizontal")n=e.x,i=n,a=r.top,s=r.top+r.height;else if(t==="vertical")a=e.y,s=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,d=e.cy,f=e.innerRadius,p=e.outerRadius,m=e.angle,v=St(c,d,f,m),y=St(c,d,p,m);n=v.x,a=v.y,i=y.x,s=y.y}else return dR(e);return[{x:n,y:a},{x:i,y:s}]}function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function Fk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(r),!0).forEach(function(n){WJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WJ(t,e,r){return e=GJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GJ(t){var e=KJ(t,"string");return iu(e)=="symbol"?e:e+""}function KJ(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YJ(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,c=t.activePayload,d=t.offset,f=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,v=t.chartName,y=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!i||!s||v!=="ScatterChart"&&a!=="axis")return null;var w,S=Rf;if(v==="ScatterChart")w=s,S=gG;else if(v==="BarChart")w=VJ(m,s,d,p),S=lS;else if(m==="radial"){var b=dR(s),_=b.cx,A=b.cy,x=b.radius,T=b.startAngle,C=b.endAngle;w={cx:_,cy:A,startAngle:T,endAngle:C,innerRadius:x,outerRadius:x},S=fM}else w={points:HJ(m,s,d)},S=Rf;var E=Hd(Hd(Hd(Hd({stroke:"#ccc",pointerEvents:"none"},d),w),qe(y,!1)),{},{payload:c,payloadIndex:f,className:Qe("recharts-tooltip-cursor",y.className)});return N.isValidElement(y)?N.cloneElement(y,E):N.createElement(S,E)}var XJ=["item"],JJ=["children","className","width","height","style","compact","title","desc"];function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function ms(){return ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ms.apply(this,arguments)}function zk(t,e){return eQ(t)||ZJ(t,e)||hR(t,e)||QJ()}function QJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function eQ(t){if(Array.isArray(t))return t}function Uk(t,e){if(t==null)return{};var r=tQ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pR(n.key),n)}}function aQ(t,e,r){return e&&nQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iQ(t,e,r){return e=ih(e),oQ(t,fR()?Reflect.construct(e,r||[],ih(t).constructor):e.apply(t,r))}function oQ(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sQ(t)}function sQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fR=function(){return!!t})()}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ih(t)}function lQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wx(t,e)}function Wx(t,e){return Wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wx(t,e)}function Hs(t){return dQ(t)||uQ(t)||hR(t)||cQ()}function cQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hR(t,e){if(t){if(typeof t=="string")return Gx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gx(t,e)}}function uQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dQ(t){if(Array.isArray(t))return Gx(t)}function Gx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(r),!0).forEach(function(n){Ve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ve(t,e,r){return e=pR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pR(t){var e=fQ(t,"string");return Vs(e)=="symbol"?e:e+""}function fQ(t,e){if(Vs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hQ={xAxis:["bottom","top"],yAxis:["left","right"]},pQ={width:"100%",height:"100%"},mR={x:0,y:0};function Wd(t){return t}var mQ=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},vQ=function(e,r,n,a){var i=r.find(function(p){return p&&p.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,c=a.radius;return de(de(de({},a),St(a.cx,a.cy,c,s)),{},{angle:s,radius:c})}var d=i.coordinate,f=a.angle;return de(de(de({},a),St(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return mR},Qh=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(c,d){var f=d.props.data;return f&&f.length?[].concat(Hs(c),Hs(f)):c},[]);return s.length>0?s:e&&e.length&&je(a)&&je(i)?e.slice(a,i+1):[]};function vR(t){return t==="number"?[0,"auto"]:void 0}var Kx=function(e,r,n,a){var i=e.graphicalItems,s=e.tooltipAxis,c=Qh(r,e);return n<0||!i||!i.length||n>=c.length?null:i.reduce(function(d,f){var p,m=(p=f.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var y=m===void 0?c:m;v=sf(y,s.dataKey,a)}else v=m&&m[n]||c[n];return v?[].concat(Hs(d),[oM(f,v)]):d},[])},Vk=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},s=mQ(i,n),c=e.orderedTooltipTicks,d=e.tooltipAxis,f=e.tooltipTicks,p=LH(s,c,f,d);if(p>=0&&f){var m=f[p]&&f[p].value,v=Kx(e,r,p,m),y=vQ(n,c,p,i);return{activeTooltipIndex:p,activeLabel:m,activePayload:v,activeCoordinate:y}}return null},gQ=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.layout,m=e.children,v=e.stackOffset,y=eM(p,i);return n.reduce(function(w,S){var b,_=S.type.defaultProps!==void 0?de(de({},S.type.defaultProps),S.props):S.props,A=_.type,x=_.dataKey,T=_.allowDataOverflow,C=_.allowDuplicatedCategory,E=_.scale,P=_.ticks,R=_.includeHidden,M=_[s];if(w[M])return w;var $=Qh(e.data,{graphicalItems:a.filter(function(J){var D,re=s in J.props?J.props[s]:(D=J.type.defaultProps)===null||D===void 0?void 0:D[s];return re===M}),dataStartIndex:d,dataEndIndex:f}),k=$.length,L,F,z;qJ(_.domain,T,A)&&(L=lx(_.domain,null,T),y&&(A==="number"||E!=="auto")&&(z=uc($,x,"category")));var q=vR(A);if(!L||L.length===0){var Y,te=(Y=_.domain)!==null&&Y!==void 0?Y:q;if(x){if(L=uc($,x,A),A==="category"&&y){var ee=k3(L);C&&ee?(F=L,L=Wf(0,k)):C||(L=WE(te,L,S).reduce(function(J,D){return J.indexOf(D)>=0?J:[].concat(Hs(J),[D])},[]))}else if(A==="category")C?L=L.filter(function(J){return J!==""&&!Xe(J)}):L=WE(te,L,S).reduce(function(J,D){return J.indexOf(D)>=0||D===""||Xe(D)?J:[].concat(Hs(J),[D])},[]);else if(A==="number"){var oe=qH($,a.filter(function(J){var D,re,K=s in J.props?J.props[s]:(D=J.type.defaultProps)===null||D===void 0?void 0:D[s],fe="hide"in J.props?J.props.hide:(re=J.type.defaultProps)===null||re===void 0?void 0:re.hide;return K===M&&(R||!fe)}),x,i,p);oe&&(L=oe)}y&&(A==="number"||E!=="auto")&&(z=uc($,x,"category"))}else y?L=Wf(0,k):c&&c[M]&&c[M].hasStack&&A==="number"?L=v==="expand"?[0,1]:iM(c[M].stackGroups,d,f):L=Z2($,a.filter(function(J){var D=s in J.props?J.props[s]:J.type.defaultProps[s],re="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return D===M&&(R||!re)}),A,p,!0);if(A==="number")L=Hx(m,L,M,i,P),te&&(L=lx(te,L,T));else if(A==="category"&&te){var ue=te,W=L.every(function(J){return ue.indexOf(J)>=0});W&&(L=ue)}}return de(de({},w),{},Ve({},M,de(de({},_),{},{axisType:i,domain:L,categoricalDomain:z,duplicateDomain:F,originalDomain:(b=_.domain)!==null&&b!==void 0?b:q,isCategorical:y,layout:p})))},{})},yQ=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.layout,m=e.children,v=Qh(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),y=v.length,w=eM(p,i),S=-1;return n.reduce(function(b,_){var A=_.type.defaultProps!==void 0?de(de({},_.type.defaultProps),_.props):_.props,x=A[s],T=vR("number");if(!b[x]){S++;var C;return w?C=Wf(0,y):c&&c[x]&&c[x].hasStack?(C=iM(c[x].stackGroups,d,f),C=Hx(m,C,x,i)):(C=lx(T,Z2(v,n.filter(function(E){var P,R,M=s in E.props?E.props[s]:(P=E.type.defaultProps)===null||P===void 0?void 0:P[s],$="hide"in E.props?E.props.hide:(R=E.type.defaultProps)===null||R===void 0?void 0:R.hide;return M===x&&!$}),"number",p),a.defaultProps.allowDataOverflow),C=Hx(m,C,x,i)),de(de({},b),{},Ve({},x,de(de({axisType:i},a.defaultProps),{},{hide:!0,orientation:sn(hQ,"".concat(i,".").concat(S%2),null),domain:C,originalDomain:T,isCategorical:w,layout:p})))}return b},{})},bQ=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.children,m="".concat(a,"Id"),v=ln(p,i),y={};return v&&v.length?y=gQ(e,{axes:v,graphicalItems:s,axisType:a,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:f}):s&&s.length&&(y=yQ(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:f})),y},xQ=function(e){var r=fi(e),n=Ca(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Rw(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Nf(r,n)}},Hk=function(e){var r=e.children,n=e.defaultShowTooltip,a=tn(r,Rs),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},wQ=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ea(r&&r.type);return n&&n.indexOf("Bar")>=0})},Wk=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},SQ=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,c=e.yAxisMap,d=c===void 0?{}:c,f=n.width,p=n.height,m=n.children,v=n.margin||{},y=tn(m,Rs),w=tn(m,cn),S=Object.keys(d).reduce(function(C,E){var P=d[E],R=P.orientation;return!P.mirror&&!P.hide?de(de({},C),{},Ve({},R,C[R]+P.width)):C},{left:v.left||0,right:v.right||0}),b=Object.keys(s).reduce(function(C,E){var P=s[E],R=P.orientation;return!P.mirror&&!P.hide?de(de({},C),{},Ve({},R,sn(C,"".concat(R))+P.height)):C},{top:v.top||0,bottom:v.bottom||0}),_=de(de({},b),S),A=_.bottom;y&&(_.bottom+=y.props.height||Rs.defaultProps.height),w&&r&&(_=zH(_,a,n,r));var x=f-_.left-_.right,T=p-_.top-_.bottom;return de(de({brushBottom:A},_),{},{width:Math.max(x,0),height:Math.max(T,0)})},jQ=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},yS=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,c=s===void 0?["axis"]:s,d=e.axisComponents,f=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,v=function(_,A){var x=A.graphicalItems,T=A.stackGroups,C=A.offset,E=A.updateId,P=A.dataStartIndex,R=A.dataEndIndex,M=_.barSize,$=_.layout,k=_.barGap,L=_.barCategoryGap,F=_.maxBarSize,z=Wk($),q=z.numericAxisName,Y=z.cateAxisName,te=wQ(x),ee=[];return x.forEach(function(oe,ue){var W=Qh(_.data,{graphicalItems:[oe],dataStartIndex:P,dataEndIndex:R}),J=oe.type.defaultProps!==void 0?de(de({},oe.type.defaultProps),oe.props):oe.props,D=J.dataKey,re=J.maxBarSize,K=J["".concat(q,"Id")],fe=J["".concat(Y,"Id")],Me={},Re=d.reduce(function(dr,Mr){var da=A["".concat(Mr.axisType,"Map")],Oi=J["".concat(Mr.axisType,"Id")];da&&da[Oi]||Mr.axisType==="zAxis"||po();var B=da[Oi];return de(de({},dr),{},Ve(Ve({},Mr.axisType,B),"".concat(Mr.axisType,"Ticks"),Ca(B)))},Me),he=Re[Y],Ee=Re["".concat(Y,"Ticks")],_e=T&&T[K]&&T[K].hasStack&&QH(oe,T[K].stackGroups),ve=Ea(oe.type).indexOf("Bar")>=0,Ye=Nf(he,Ee),V=[],Fe=te&&BH({barSize:M,stackGroups:T,totalSize:jQ(Re,Y)});if(ve){var lt,It,Gr=Xe(re)?F:re,dn=(lt=(It=Nf(he,Ee,!0))!==null&&It!==void 0?It:Gr)!==null&&lt!==void 0?lt:0;V=FH({barGap:k,barCategoryGap:L,bandSize:dn!==Ye?dn:Ye,sizeList:Fe[fe],maxBarSize:Gr}),dn!==Ye&&(V=V.map(function(dr){return de(de({},dr),{},{position:de(de({},dr.position),{},{offset:dr.position.offset-dn/2})})}))}var fn=oe&&oe.type&&oe.type.getComposedData;fn&&ee.push({props:de(de({},fn(de(de({},Re),{},{displayedData:W,props:_,dataKey:D,item:oe,bandSize:Ye,barPosition:V,offset:C,stackedData:_e,layout:$,dataStartIndex:P,dataEndIndex:R}))),{},Ve(Ve(Ve({key:oe.key||"item-".concat(ue)},q,Re[q]),Y,Re[Y]),"animationId",E)),childIndex:V3(oe,_.children),item:oe})}),ee},y=function(_,A){var x=_.props,T=_.dataStartIndex,C=_.dataEndIndex,E=_.updateId;if(!oO({props:x}))return null;var P=x.children,R=x.layout,M=x.stackOffset,$=x.data,k=x.reverseStackOrder,L=Wk(R),F=L.numericAxisName,z=L.cateAxisName,q=ln(P,n),Y=XH($,q,"".concat(F,"Id"),"".concat(z,"Id"),M,k),te=d.reduce(function(J,D){var re="".concat(D.axisType,"Map");return de(de({},J),{},Ve({},re,bQ(x,de(de({},D),{},{graphicalItems:q,stackGroups:D.axisType===F&&Y,dataStartIndex:T,dataEndIndex:C}))))},{}),ee=SQ(de(de({},te),{},{props:x,graphicalItems:q}),A?.legendBBox);Object.keys(te).forEach(function(J){te[J]=p(x,te[J],ee,J.replace("Map",""),r)});var oe=te["".concat(z,"Map")],ue=xQ(oe),W=v(x,de(de({},te),{},{dataStartIndex:T,dataEndIndex:C,updateId:E,graphicalItems:q,stackGroups:Y,offset:ee}));return de(de({formattedGraphicalItems:W,graphicalItems:q,offset:ee,stackGroups:Y},ue),te)},w=(function(b){function _(A){var x,T,C;return rQ(this,_),C=iQ(this,_,[A]),Ve(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ve(C,"accessibilityManager",new UJ),Ve(C,"handleLegendBBoxUpdate",function(E){if(E){var P=C.state,R=P.dataStartIndex,M=P.dataEndIndex,$=P.updateId;C.setState(de({legendBBox:E},y({props:C.props,dataStartIndex:R,dataEndIndex:M,updateId:$},de(de({},C.state),{},{legendBBox:E}))))}}),Ve(C,"handleReceiveSyncEvent",function(E,P,R){if(C.props.syncId===E){if(R===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(P)}}),Ve(C,"handleBrushChange",function(E){var P=E.startIndex,R=E.endIndex;if(P!==C.state.dataStartIndex||R!==C.state.dataEndIndex){var M=C.state.updateId;C.setState(function(){return de({dataStartIndex:P,dataEndIndex:R},y({props:C.props,dataStartIndex:P,dataEndIndex:R,updateId:M},C.state))}),C.triggerSyncEvent({dataStartIndex:P,dataEndIndex:R})}}),Ve(C,"handleMouseEnter",function(E){var P=C.getMouseInfo(E);if(P){var R=de(de({},P),{},{isTooltipActive:!0});C.setState(R),C.triggerSyncEvent(R);var M=C.props.onMouseEnter;Ke(M)&&M(R,E)}}),Ve(C,"triggeredAfterMouseMove",function(E){var P=C.getMouseInfo(E),R=P?de(de({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(R),C.triggerSyncEvent(R);var M=C.props.onMouseMove;Ke(M)&&M(R,E)}),Ve(C,"handleItemMouseEnter",function(E){C.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Ve(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Ve(C,"handleMouseMove",function(E){E.persist(),C.throttleTriggeredAfterMouseMove(E)}),Ve(C,"handleMouseLeave",function(E){C.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var R=C.props.onMouseLeave;Ke(R)&&R(P,E)}),Ve(C,"handleOuterEvent",function(E){var P=q3(E),R=sn(C.props,"".concat(P));if(P&&Ke(R)){var M,$;/.*touch.*/i.test(P)?$=C.getMouseInfo(E.changedTouches[0]):$=C.getMouseInfo(E),R((M=$)!==null&&M!==void 0?M:{},E)}}),Ve(C,"handleClick",function(E){var P=C.getMouseInfo(E);if(P){var R=de(de({},P),{},{isTooltipActive:!0});C.setState(R),C.triggerSyncEvent(R);var M=C.props.onClick;Ke(M)&&M(R,E)}}),Ve(C,"handleMouseDown",function(E){var P=C.props.onMouseDown;if(Ke(P)){var R=C.getMouseInfo(E);P(R,E)}}),Ve(C,"handleMouseUp",function(E){var P=C.props.onMouseUp;if(Ke(P)){var R=C.getMouseInfo(E);P(R,E)}}),Ve(C,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Ve(C,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.handleMouseDown(E.changedTouches[0])}),Ve(C,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.handleMouseUp(E.changedTouches[0])}),Ve(C,"handleDoubleClick",function(E){var P=C.props.onDoubleClick;if(Ke(P)){var R=C.getMouseInfo(E);P(R,E)}}),Ve(C,"handleContextMenu",function(E){var P=C.props.onContextMenu;if(Ke(P)){var R=C.getMouseInfo(E);P(R,E)}}),Ve(C,"triggerSyncEvent",function(E){C.props.syncId!==void 0&&nb.emit(ab,C.props.syncId,E,C.eventEmitterSymbol)}),Ve(C,"applySyncEvent",function(E){var P=C.props,R=P.layout,M=P.syncMethod,$=C.state.updateId,k=E.dataStartIndex,L=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)C.setState(de({dataStartIndex:k,dataEndIndex:L},y({props:C.props,dataStartIndex:k,dataEndIndex:L,updateId:$},C.state)));else if(E.activeTooltipIndex!==void 0){var F=E.chartX,z=E.chartY,q=E.activeTooltipIndex,Y=C.state,te=Y.offset,ee=Y.tooltipTicks;if(!te)return;if(typeof M=="function")q=M(ee,E);else if(M==="value"){q=-1;for(var oe=0;oe<ee.length;oe++)if(ee[oe].value===E.activeLabel){q=oe;break}}var ue=de(de({},te),{},{x:te.left,y:te.top}),W=Math.min(F,ue.x+ue.width),J=Math.min(z,ue.y+ue.height),D=ee[q]&&ee[q].value,re=Kx(C.state,C.props.data,q),K=ee[q]?{x:R==="horizontal"?ee[q].coordinate:W,y:R==="horizontal"?J:ee[q].coordinate}:mR;C.setState(de(de({},E),{},{activeLabel:D,activeCoordinate:K,activePayload:re,activeTooltipIndex:q}))}else C.setState(E)}),Ve(C,"renderCursor",function(E){var P,R=C.state,M=R.isTooltipActive,$=R.activeCoordinate,k=R.activePayload,L=R.offset,F=R.activeTooltipIndex,z=R.tooltipAxisBandSize,q=C.getTooltipEventType(),Y=(P=E.props.active)!==null&&P!==void 0?P:M,te=C.props.layout,ee=E.key||"_recharts-cursor";return G.createElement(YJ,{key:ee,activeCoordinate:$,activePayload:k,activeTooltipIndex:F,chartName:r,element:E,isActive:Y,layout:te,offset:L,tooltipAxisBandSize:z,tooltipEventType:q})}),Ve(C,"renderPolarAxis",function(E,P,R){var M=sn(E,"type.axisType"),$=sn(C.state,"".concat(M,"Map")),k=E.type.defaultProps,L=k!==void 0?de(de({},k),E.props):E.props,F=$&&$[L["".concat(M,"Id")]];return N.cloneElement(E,de(de({},F),{},{className:Qe(M,F.className),key:E.key||"".concat(P,"-").concat(R),ticks:Ca(F,!0)}))}),Ve(C,"renderPolarGrid",function(E){var P=E.props,R=P.radialLines,M=P.polarAngles,$=P.polarRadius,k=C.state,L=k.radiusAxisMap,F=k.angleAxisMap,z=fi(L),q=fi(F),Y=q.cx,te=q.cy,ee=q.innerRadius,oe=q.outerRadius;return N.cloneElement(E,{polarAngles:Array.isArray(M)?M:Ca(q,!0).map(function(ue){return ue.coordinate}),polarRadius:Array.isArray($)?$:Ca(z,!0).map(function(ue){return ue.coordinate}),cx:Y,cy:te,innerRadius:ee,outerRadius:oe,key:E.key||"polar-grid",radialLines:R})}),Ve(C,"renderLegend",function(){var E=C.state.formattedGraphicalItems,P=C.props,R=P.children,M=P.width,$=P.height,k=C.props.margin||{},L=M-(k.left||0)-(k.right||0),F=J2({children:R,formattedGraphicalItems:E,legendWidth:L,legendContent:f});if(!F)return null;var z=F.item,q=Uk(F,XJ);return N.cloneElement(z,de(de({},q),{},{chartWidth:M,chartHeight:$,margin:k,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Ve(C,"renderTooltip",function(){var E,P=C.props,R=P.children,M=P.accessibilityLayer,$=tn(R,Tt);if(!$)return null;var k=C.state,L=k.isTooltipActive,F=k.activeCoordinate,z=k.activePayload,q=k.activeLabel,Y=k.offset,te=(E=$.props.active)!==null&&E!==void 0?E:L;return N.cloneElement($,{viewBox:de(de({},Y),{},{x:Y.left,y:Y.top}),active:te,label:q,payload:te?z:[],coordinate:F,accessibilityLayer:M})}),Ve(C,"renderBrush",function(E){var P=C.props,R=P.margin,M=P.data,$=C.state,k=$.offset,L=$.dataStartIndex,F=$.dataEndIndex,z=$.updateId;return N.cloneElement(E,{key:E.key||"_recharts-brush",onChange:zd(C.handleBrushChange,E.props.onChange),data:M,x:je(E.props.x)?E.props.x:k.left,y:je(E.props.y)?E.props.y:k.top+k.height+k.brushBottom-(R.bottom||0),width:je(E.props.width)?E.props.width:k.width,startIndex:L,endIndex:F,updateId:"brush-".concat(z)})}),Ve(C,"renderReferenceElement",function(E,P,R){if(!E)return null;var M=C,$=M.clipPathId,k=C.state,L=k.xAxisMap,F=k.yAxisMap,z=k.offset,q=E.type.defaultProps||{},Y=E.props,te=Y.xAxisId,ee=te===void 0?q.xAxisId:te,oe=Y.yAxisId,ue=oe===void 0?q.yAxisId:oe;return N.cloneElement(E,{key:E.key||"".concat(P,"-").concat(R),xAxis:L[ee],yAxis:F[ue],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:$})}),Ve(C,"renderActivePoints",function(E){var P=E.item,R=E.activePoint,M=E.basePoint,$=E.childIndex,k=E.isRange,L=[],F=P.props.key,z=P.item.type.defaultProps!==void 0?de(de({},P.item.type.defaultProps),P.item.props):P.item.props,q=z.activeDot,Y=z.dataKey,te=de(de({index:$,dataKey:Y,cx:R.x,cy:R.y,r:4,fill:sS(P.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},qe(q,!1)),lf(q));return L.push(_.renderActiveDot(q,te,"".concat(F,"-activePoint-").concat($))),M?L.push(_.renderActiveDot(q,de(de({},te),{},{cx:M.x,cy:M.y}),"".concat(F,"-basePoint-").concat($))):k&&L.push(null),L}),Ve(C,"renderGraphicChild",function(E,P,R){var M=C.filterFormatItem(E,P,R);if(!M)return null;var $=C.getTooltipEventType(),k=C.state,L=k.isTooltipActive,F=k.tooltipAxis,z=k.activeTooltipIndex,q=k.activeLabel,Y=C.props.children,te=tn(Y,Tt),ee=M.props,oe=ee.points,ue=ee.isRange,W=ee.baseLine,J=M.item.type.defaultProps!==void 0?de(de({},M.item.type.defaultProps),M.item.props):M.item.props,D=J.activeDot,re=J.hide,K=J.activeBar,fe=J.activeShape,Me=!!(!re&&L&&te&&(D||K||fe)),Re={};$!=="axis"&&te&&te.props.trigger==="click"?Re={onClick:zd(C.handleItemMouseEnter,E.props.onClick)}:$!=="axis"&&(Re={onMouseLeave:zd(C.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:zd(C.handleItemMouseEnter,E.props.onMouseEnter)});var he=N.cloneElement(E,de(de({},M.props),Re));function Ee(Mr){return typeof F.dataKey=="function"?F.dataKey(Mr.payload):null}if(Me)if(z>=0){var _e,ve;if(F.dataKey&&!F.allowDuplicatedCategory){var Ye=typeof F.dataKey=="function"?Ee:"payload.".concat(F.dataKey.toString());_e=sf(oe,Ye,q),ve=ue&&W&&sf(W,Ye,q)}else _e=oe?.[z],ve=ue&&W&&W[z];if(fe||K){var V=E.props.activeIndex!==void 0?E.props.activeIndex:z;return[N.cloneElement(E,de(de(de({},M.props),Re),{},{activeIndex:V})),null,null]}if(!Xe(_e))return[he].concat(Hs(C.renderActivePoints({item:M,activePoint:_e,basePoint:ve,childIndex:z,isRange:ue})))}else{var Fe,lt=(Fe=C.getItemByXY(C.state.activeCoordinate))!==null&&Fe!==void 0?Fe:{graphicalItem:he},It=lt.graphicalItem,Gr=It.item,dn=Gr===void 0?E:Gr,fn=It.childIndex,dr=de(de(de({},M.props),Re),{},{activeIndex:fn});return[N.cloneElement(dn,dr),null,null]}return ue?[he,null,null]:[he,null]}),Ve(C,"renderCustomized",function(E,P,R){return N.cloneElement(E,de(de({key:"recharts-customized-".concat(R)},C.props),C.state))}),Ve(C,"renderMap",{CartesianGrid:{handler:Wd,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Wd},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Wd},YAxis:{handler:Wd},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((x=A.id)!==null&&x!==void 0?x:Qs("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=XI(C.triggeredAfterMouseMove,(T=A.throttleDelay)!==null&&T!==void 0?T:1e3/60),C.state={},C}return lQ(_,b),aQ(_,[{key:"componentDidMount",value:function(){var x,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,T=x.children,C=x.data,E=x.height,P=x.layout,R=tn(T,Tt);if(R){var M=R.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,k=Kx(this.state,C,M,$),L=this.state.tooltipTicks[M].coordinate,F=(this.state.offset.top+E)/2,z=P==="horizontal",q=z?{x:L,y:F}:{y:L,x:F},Y=this.state.formattedGraphicalItems.find(function(ee){var oe=ee.item;return oe.type.name==="Scatter"});Y&&(q=de(de({},q),Y.props.points[M].tooltipPosition),k=Y.props.points[M].tooltipPayload);var te={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:$,activePayload:k,activeCoordinate:q};this.setState(te),this.renderCursor(R),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var C,E;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(x){Pb([tn(x.children,Tt)],[tn(this.props.children,Tt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=tn(this.props.children,Tt);if(x&&typeof x.props.shared=="boolean"){var T=x.props.shared?"axis":"item";return c.indexOf(T)>=0?T:i}return i}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var T=this.container,C=T.getBoundingClientRect(),E=Pq(C),P={chartX:Math.round(x.pageX-E.left),chartY:Math.round(x.pageY-E.top)},R=C.width/T.offsetWidth||1,M=this.inRange(P.chartX,P.chartY,R);if(!M)return null;var $=this.state,k=$.xAxisMap,L=$.yAxisMap,F=this.getTooltipEventType(),z=Vk(this.state,this.props.data,this.props.layout,M);if(F!=="axis"&&k&&L){var q=fi(k).scale,Y=fi(L).scale,te=q&&q.invert?q.invert(P.chartX):null,ee=Y&&Y.invert?Y.invert(P.chartY):null;return de(de({},P),{},{xValue:te,yValue:ee},z)}return z?de(de({},P),z):null}},{key:"inRange",value:function(x,T){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,P=x/C,R=T/C;if(E==="horizontal"||E==="vertical"){var M=this.state.offset,$=P>=M.left&&P<=M.left+M.width&&R>=M.top&&R<=M.top+M.height;return $?{x:P,y:R}:null}var k=this.state,L=k.angleAxisMap,F=k.radiusAxisMap;if(L&&F){var z=fi(L);return YE({x:P,y:R},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,T=this.getTooltipEventType(),C=tn(x,Tt),E={};C&&T==="axis"&&(C.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=lf(this.props,this.handleOuterEvent);return de(de({},P),E)}},{key:"addListener",value:function(){nb.on(ab,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){nb.removeListener(ab,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,T,C){for(var E=this.state.formattedGraphicalItems,P=0,R=E.length;P<R;P++){var M=E[P];if(M.item===x||M.props.key===x.key||T===Ea(M.item.type)&&C===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,T=this.state.offset,C=T.left,E=T.top,P=T.height,R=T.width;return G.createElement("defs",null,G.createElement("clipPath",{id:x},G.createElement("rect",{x:C,y:E,height:P,width:R})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(T,C){var E=zk(C,2),P=E[0],R=E[1];return de(de({},T),{},Ve({},P,R.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(T,C){var E=zk(C,2),P=E[0],R=E[1];return de(de({},T),{},Ve({},P,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[x])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(x){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[x])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(x){var T=this.state,C=T.formattedGraphicalItems,E=T.activeItem;if(C&&C.length)for(var P=0,R=C.length;P<R;P++){var M=C[P],$=M.props,k=M.item,L=k.type.defaultProps!==void 0?de(de({},k.type.defaultProps),k.props):k.props,F=Ea(k.type);if(F==="Bar"){var z=($.data||[]).find(function(ee){return J9(x,ee)});if(z)return{graphicalItem:M,payload:z}}else if(F==="RadialBar"){var q=($.data||[]).find(function(ee){return YE(x,ee)});if(q)return{graphicalItem:M,payload:q}}else if(Hh(M,E)||Wh(M,E)||Zc(M,E)){var Y=xK({graphicalItem:M,activeTooltipItem:E,itemData:L.data}),te=L.activeIndex===void 0?Y:L.activeIndex;return{graphicalItem:de(de({},M),{},{childIndex:te}),payload:Zc(M,E)?L.data[Y]:M.props.data[Y]}}}return null}},{key:"render",value:function(){var x=this;if(!oO(this))return null;var T=this.props,C=T.children,E=T.className,P=T.width,R=T.height,M=T.style,$=T.compact,k=T.title,L=T.desc,F=Uk(T,JJ),z=qe(F,!1);if($)return G.createElement(Sk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(Nb,ms({},z,{width:P,height:R,title:k,desc:L}),this.renderClipPath(),lO(C,this.renderMap)));if(this.props.accessibilityLayer){var q,Y;z.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,z.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",z.onKeyDown=function(ee){x.accessibilityManager.keyboardEvent(ee)},z.onFocus=function(){x.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return G.createElement(Sk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",ms({className:Qe("recharts-wrapper",E),style:de({position:"relative",cursor:"default",width:P,height:R},M)},te,{ref:function(oe){x.container=oe}}),G.createElement(Nb,ms({},z,{width:P,height:R,title:k,desc:L,style:pQ}),this.renderClipPath(),lO(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(N.Component);Ve(w,"displayName",r),Ve(w,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ve(w,"getDerivedStateFromProps",function(b,_){var A=b.dataKey,x=b.data,T=b.children,C=b.width,E=b.height,P=b.layout,R=b.stackOffset,M=b.margin,$=_.dataStartIndex,k=_.dataEndIndex;if(_.updateId===void 0){var L=Hk(b);return de(de(de({},L),{},{updateId:0},y(de(de({props:b},L),{},{updateId:0}),_)),{},{prevDataKey:A,prevData:x,prevWidth:C,prevHeight:E,prevLayout:P,prevStackOffset:R,prevMargin:M,prevChildren:T})}if(A!==_.prevDataKey||x!==_.prevData||C!==_.prevWidth||E!==_.prevHeight||P!==_.prevLayout||R!==_.prevStackOffset||!gs(M,_.prevMargin)){var F=Hk(b),z={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},q=de(de({},Vk(_,x,P)),{},{updateId:_.updateId+1}),Y=de(de(de({},F),z),q);return de(de(de({},Y),y(de({props:b},Y),_)),{},{prevDataKey:A,prevData:x,prevWidth:C,prevHeight:E,prevLayout:P,prevStackOffset:R,prevMargin:M,prevChildren:T})}if(!Pb(T,_.prevChildren)){var te,ee,oe,ue,W=tn(T,Rs),J=W&&(te=(ee=W.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&te!==void 0?te:$,D=W&&(oe=(ue=W.props)===null||ue===void 0?void 0:ue.endIndex)!==null&&oe!==void 0?oe:k,re=J!==$||D!==k,K=!Xe(x),fe=K&&!re?_.updateId:_.updateId+1;return de(de({updateId:fe},y(de(de({props:b},_),{},{updateId:fe,dataStartIndex:J,dataEndIndex:D}),_)),{},{prevChildren:T,dataStartIndex:J,dataEndIndex:D})}return null}),Ve(w,"renderActiveDot",function(b,_,A){var x;return N.isValidElement(b)?x=N.cloneElement(b,_):Ke(b)?x=b(_):x=G.createElement(Fh,_),G.createElement(nt,{className:"recharts-active-dot",key:A},x)});var S=N.forwardRef(function(_,A){return G.createElement(w,ms({},_,{ref:A}))});return S.displayName=w.displayName,S},Zh=yS({chartName:"LineChart",GraphicalChild:la,axisComponents:[{axisType:"xAxis",AxisComp:Vr},{axisType:"yAxis",AxisComp:jr}],formatAxisMap:DM}),Ws=yS({chartName:"BarChart",GraphicalChild:_r,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Vr},{axisType:"yAxis",AxisComp:jr}],formatAxisMap:DM}),gu=yS({chartName:"PieChart",GraphicalChild:un,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Vh},{axisType:"radiusAxis",AxisComp:Uh}],formatAxisMap:lW,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function pe({children:t,title:e,subtitle:r,action:n,className:a="",padding:i="md",hover:s=!1}){return o.jsxs("div",{className:`card card-padding-${i} ${s?"card-hover":""} ${a}`,children:[(e||n)&&o.jsxs("div",{className:"card-header",children:[o.jsxs("div",{className:"card-header-text",children:[e&&o.jsx("h3",{className:"card-title",children:e}),r&&o.jsx("p",{className:"card-subtitle",children:r})]}),n&&o.jsx("div",{className:"card-action",children:n})]}),o.jsx("div",{className:"card-body",children:t})]})}function Ze({children:t,variant:e="default",size:r="md"}){return o.jsx("span",{className:`badge badge-${e} badge-${r}`,children:t})}function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function On(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ot(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function rr(t){Ot(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||oh(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function _Q(t,e){Ot(2,arguments);var r=rr(t),n=On(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function Gk(t,e){Ot(2,arguments);var r=rr(t),n=On(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+n+1,0);var s=i.getDate();return a>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function AQ(t,e){Ot(2,arguments);var r=rr(t).getTime(),n=On(e);return new Date(r+n)}var OQ={};function al(){return OQ}function CQ(t,e){var r,n,a,i,s,c;Ot(1,arguments);var d=al(),f=On((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&n!==void 0?n:(s=d.locale)===null||s===void 0||(c=s.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=rr(t),m=p.getDay(),v=(m<f?7:0)+m-f;return p.setDate(p.getDate()-v),p.setHours(0,0,0,0),p}function TQ(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Kk(t){Ot(1,arguments);var e=rr(t);return e.setHours(0,0,0,0),e}var gR=6e4,yR=36e5;function Yk(t,e){Ot(2,arguments);var r=Kk(t),n=Kk(e);return r.getTime()===n.getTime()}function EQ(t){return Ot(1,arguments),t instanceof Date||oh(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function PQ(t){if(Ot(1,arguments),!EQ(t)&&typeof t!="number")return!1;var e=rr(t);return!isNaN(Number(e))}function kQ(t){Ot(1,arguments);var e=rr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function NQ(t){Ot(1,arguments);var e=rr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function IQ(t,e){var r,n,a,i,s,c;Ot(1,arguments);var d=al(),f=On((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&n!==void 0?n:(s=d.locale)===null||s===void 0||(c=s.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=rr(t),m=p.getDay(),v=(m<f?-7:0)+6-(m-f);return p.setDate(p.getDate()+v),p.setHours(23,59,59,999),p}function MQ(t,e){Ot(2,arguments);var r=On(e);return AQ(t,-r)}var RQ=864e5;function DQ(t){Ot(1,arguments);var e=rr(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),a=r-n;return Math.floor(a/RQ)+1}function sh(t){Ot(1,arguments);var e=1,r=rr(t),n=r.getUTCDay(),a=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function bR(t){Ot(1,arguments);var e=rr(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=sh(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=sh(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function $Q(t){Ot(1,arguments);var e=bR(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=sh(r);return n}var LQ=6048e5;function BQ(t){Ot(1,arguments);var e=rr(t),r=sh(e).getTime()-$Q(e).getTime();return Math.round(r/LQ)+1}function lh(t,e){var r,n,a,i,s,c,d,f;Ot(1,arguments);var p=al(),m=On((r=(n=(a=(i=e?.weekStartsOn)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(c=s.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&a!==void 0?a:p.weekStartsOn)!==null&&n!==void 0?n:(d=p.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&r!==void 0?r:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=rr(t),y=v.getUTCDay(),w=(y<m?7:0)+y-m;return v.setUTCDate(v.getUTCDate()-w),v.setUTCHours(0,0,0,0),v}function xR(t,e){var r,n,a,i,s,c,d,f;Ot(1,arguments);var p=rr(t),m=p.getUTCFullYear(),v=al(),y=On((r=(n=(a=(i=e?.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(c=s.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:v.firstWeekContainsDate)!==null&&n!==void 0?n:(d=v.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(m+1,0,y),w.setUTCHours(0,0,0,0);var S=lh(w,e),b=new Date(0);b.setUTCFullYear(m,0,y),b.setUTCHours(0,0,0,0);var _=lh(b,e);return p.getTime()>=S.getTime()?m+1:p.getTime()>=_.getTime()?m:m-1}function FQ(t,e){var r,n,a,i,s,c,d,f;Ot(1,arguments);var p=al(),m=On((r=(n=(a=(i=e?.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(c=s.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:p.firstWeekContainsDate)!==null&&n!==void 0?n:(d=p.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&r!==void 0?r:1),v=xR(t,e),y=new Date(0);y.setUTCFullYear(v,0,m),y.setUTCHours(0,0,0,0);var w=lh(y,e);return w}var zQ=6048e5;function UQ(t,e){Ot(1,arguments);var r=rr(t),n=lh(r,e).getTime()-FQ(r,e).getTime();return Math.round(n/zQ)+1}function dt(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var ii={y:function(e,r){var n=e.getUTCFullYear(),a=n>0?n:1-n;return dt(r==="yy"?a%100:a,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):dt(n+1,2)},d:function(e,r){return dt(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return dt(e.getUTCHours()%12||12,r.length)},H:function(e,r){return dt(e.getUTCHours(),r.length)},m:function(e,r){return dt(e.getUTCMinutes(),r.length)},s:function(e,r){return dt(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,a=e.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return dt(i,r.length)}},ns={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qQ={G:function(e,r,n){var a=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var a=e.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return ii.y(e,r)},Y:function(e,r,n,a){var i=xR(e,a),s=i>0?i:1-i;if(r==="YY"){var c=s%100;return dt(c,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):dt(s,r.length)},R:function(e,r){var n=bR(e);return dt(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return dt(n,r.length)},Q:function(e,r,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return dt(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,n){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return dt(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,n){var a=e.getUTCMonth();switch(r){case"M":case"MM":return ii.M(e,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,n){var a=e.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return dt(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,n,a){var i=UQ(e,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):dt(i,r.length)},I:function(e,r,n){var a=BQ(e);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):dt(a,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):ii.d(e,r)},D:function(e,r,n){var a=DQ(e);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):dt(a,r.length)},E:function(e,r,n){var a=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,n,a){var i=e.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return dt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,r,n,a){var i=e.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return dt(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,r,n){var a=e.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return dt(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,n){var a=e.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,r,n){var a=e.getUTCHours(),i;switch(a===12?i=ns.noon:a===0?i=ns.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,r,n){var a=e.getUTCHours(),i;switch(a>=17?i=ns.evening:a>=12?i=ns.afternoon:a>=4?i=ns.morning:i=ns.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var a=e.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return ii.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):ii.H(e,r)},K:function(e,r,n){var a=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):dt(a,r.length)},k:function(e,r,n){var a=e.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):dt(a,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):ii.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):ii.s(e,r)},S:function(e,r){return ii.S(e,r)},X:function(e,r,n,a){var i=a._originalDate||e,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return Jk(s);case"XXXX":case"XX":return Ki(s);default:return Ki(s,":")}},x:function(e,r,n,a){var i=a._originalDate||e,s=i.getTimezoneOffset();switch(r){case"x":return Jk(s);case"xxxx":case"xx":return Ki(s);default:return Ki(s,":")}},O:function(e,r,n,a){var i=a._originalDate||e,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Xk(s,":");default:return"GMT"+Ki(s,":")}},z:function(e,r,n,a){var i=a._originalDate||e,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Xk(s,":");default:return"GMT"+Ki(s,":")}},t:function(e,r,n,a){var i=a._originalDate||e,s=Math.floor(i.getTime()/1e3);return dt(s,r.length)},T:function(e,r,n,a){var i=a._originalDate||e,s=i.getTime();return dt(s,r.length)}};function Xk(t,e){var r=t>0?"-":"+",n=Math.abs(t),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=e;return r+String(a)+s+dt(i,2)}function Jk(t,e){if(t%60===0){var r=t>0?"-":"+";return r+dt(Math.abs(t)/60,2)}return Ki(t,e)}function Ki(t,e){var r=e||"",n=t>0?"-":"+",a=Math.abs(t),i=dt(Math.floor(a/60),2),s=dt(a%60,2);return n+i+r+s}var Qk=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});default:return r.date({width:"full"})}},wR=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});default:return r.time({width:"full"})}},VQ=function(e,r){var n=e.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return Qk(e,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",Qk(a,r)).replace("{{time}}",wR(i,r))},HQ={p:wR,P:VQ},WQ=["D","DD"],GQ=["YY","YYYY"];function KQ(t){return WQ.indexOf(t)!==-1}function YQ(t){return GQ.indexOf(t)!==-1}function Zk(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var XQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JQ=function(e,r,n){var a,i=XQ[e];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function xs(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var QQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tZ={date:xs({formats:QQ,defaultWidth:"full"}),time:xs({formats:ZQ,defaultWidth:"full"}),dateTime:xs({formats:eZ,defaultWidth:"full"})},rZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nZ=function(e,r,n,a){return rZ[e]};function Qn(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=t.formattingValues[s]||t.formattingValues[i]}else{var c=t.defaultWidth,d=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[d]||t.values[c]}var f=t.argumentCallback?t.argumentCallback(e):e;return a[f]}}var aZ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iZ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uZ=function(e,r){var n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},dZ={ordinalNumber:uZ,era:Qn({values:aZ,defaultWidth:"wide"}),quarter:Qn({values:iZ,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Qn({values:oZ,defaultWidth:"wide"}),day:Qn({values:sZ,defaultWidth:"wide"}),dayPeriod:Qn({values:lZ,defaultWidth:"wide",formattingValues:cZ,defaultFormattingWidth:"wide"})};function Zn(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;var s=i[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?hZ(c,function(m){return m.test(s)}):fZ(c,function(m){return m.test(s)}),f;f=t.valueCallback?t.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;var p=e.slice(s.length);return{value:f,rest:p}}}function fZ(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function hZ(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function SR(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var a=n[0],i=e.match(t.parsePattern);if(!i)return null;var s=t.valueCallback?t.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var c=e.slice(a.length);return{value:s,rest:c}}}var pZ=/^(\d+)(th|st|nd|rd)?/i,mZ=/\d+/i,vZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gZ={any:[/^b/i,/^(a|c)/i]},yZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bZ={any:[/1/i,/2/i,/3/i,/4/i]},xZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_Z={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},OZ={ordinalNumber:SR({matchPattern:pZ,parsePattern:mZ,valueCallback:function(e){return parseInt(e,10)}}),era:Zn({matchPatterns:vZ,defaultMatchWidth:"wide",parsePatterns:gZ,defaultParseWidth:"any"}),quarter:Zn({matchPatterns:yZ,defaultMatchWidth:"wide",parsePatterns:bZ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Zn({matchPatterns:xZ,defaultMatchWidth:"wide",parsePatterns:wZ,defaultParseWidth:"any"}),day:Zn({matchPatterns:SZ,defaultMatchWidth:"wide",parsePatterns:jZ,defaultParseWidth:"any"}),dayPeriod:Zn({matchPatterns:_Z,defaultMatchWidth:"any",parsePatterns:AZ,defaultParseWidth:"any"})},CZ={code:"en-US",formatDistance:JQ,formatLong:tZ,formatRelative:nZ,localize:dZ,match:OZ,options:{weekStartsOn:0,firstWeekContainsDate:1}},TZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,EZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PZ=/^'([^]*?)'?$/,kZ=/''/g,NZ=/[a-zA-Z]/;function ci(t,e,r){var n,a,i,s,c,d,f,p,m,v,y,w,S,b,_,A,x,T;Ot(2,arguments);var C=String(e),E=al(),P=(n=(a=r?.locale)!==null&&a!==void 0?a:E.locale)!==null&&n!==void 0?n:CZ,R=On((i=(s=(c=(d=r?.firstWeekContainsDate)!==null&&d!==void 0?d:r==null||(f=r.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&c!==void 0?c:E.firstWeekContainsDate)!==null&&s!==void 0?s:(m=E.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(R>=1&&R<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=On((y=(w=(S=(b=r?.weekStartsOn)!==null&&b!==void 0?b:r==null||(_=r.locale)===null||_===void 0||(A=_.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&S!==void 0?S:E.weekStartsOn)!==null&&w!==void 0?w:(x=E.locale)===null||x===void 0||(T=x.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&y!==void 0?y:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!P.localize)throw new RangeError("locale must contain localize property");if(!P.formatLong)throw new RangeError("locale must contain formatLong property");var $=rr(t);if(!PQ($))throw new RangeError("Invalid time value");var k=TQ($),L=MQ($,k),F={firstWeekContainsDate:R,weekStartsOn:M,locale:P,_originalDate:$},z=C.match(EZ).map(function(q){var Y=q[0];if(Y==="p"||Y==="P"){var te=HQ[Y];return te(q,P.formatLong)}return q}).join("").match(TZ).map(function(q){if(q==="''")return"'";var Y=q[0];if(Y==="'")return IZ(q);var te=qQ[Y];if(te)return!(r!=null&&r.useAdditionalWeekYearTokens)&&YQ(q)&&Zk(q,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&KQ(q)&&Zk(q,e,String(t)),te(L,q,P.localize,F);if(Y.match(NZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");return q}).join("");return z}function IZ(t){var e=t.match(PZ);return e?e[1].replace(kZ,"'"):t}function eN(t,e){Ot(2,arguments);var r=rr(t),n=rr(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function ao(t,e){var r;Ot(1,arguments);var n=On((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var a=$Z(t),i;if(a.date){var s=LZ(a.date,n);i=BZ(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var c=i.getTime(),d=0,f;if(a.time&&(d=FZ(a.time),isNaN(d)))return new Date(NaN);if(a.timezone){if(f=zZ(a.timezone),isNaN(f))return new Date(NaN)}else{var p=new Date(c+d),m=new Date(0);return m.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),m.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),m}return new Date(c+d+f)}var Gd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},MZ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,RZ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,DZ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $Z(t){var e={},r=t.split(Gd.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Gd.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Gd.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var a=Gd.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function LZ(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function BZ(t,e){if(e===null)return new Date(NaN);var r=t.match(MZ);if(!r)return new Date(NaN);var n=!!r[4],a=Jl(r[1]),i=Jl(r[2])-1,s=Jl(r[3]),c=Jl(r[4]),d=Jl(r[5])-1;if(n)return WZ(e,c,d)?UZ(e,c,d):new Date(NaN);var f=new Date(0);return!VZ(e,i,s)||!HZ(e,a)?new Date(NaN):(f.setUTCFullYear(e,i,Math.max(a,s)),f)}function Jl(t){return t?parseInt(t):1}function FZ(t){var e=t.match(RZ);if(!e)return NaN;var r=ob(e[1]),n=ob(e[2]),a=ob(e[3]);return GZ(r,n,a)?r*yR+n*gR+a*1e3:NaN}function ob(t){return t&&parseFloat(t.replace(",","."))||0}function zZ(t){if(t==="Z")return 0;var e=t.match(DZ);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return KZ(n,a)?r*(n*yR+a*gR):NaN}function UZ(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var a=n.getUTCDay()||7,i=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var qZ=[31,null,31,30,31,30,31,31,30,31,30,31];function jR(t){return t%400===0||t%4===0&&t%100!==0}function VZ(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(qZ[e]||(jR(t)?29:28))}function HZ(t,e){return e>=1&&e<=(jR(t)?366:365)}function WZ(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function GZ(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function KZ(t,e){return e>=0&&e<=59}var YZ={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},XZ=function(e,r,n){var a,i=YZ[e];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",String(r)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+a:"h "+a:a},JZ={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},QZ={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},ZZ={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eee={date:xs({formats:JZ,defaultWidth:"full"}),time:xs({formats:QZ,defaultWidth:"full"}),dateTime:xs({formats:ZZ,defaultWidth:"full"})},tee={lastWeek:function(e){var r=e.getUTCDay(),n=r===0||r===6?"ltimo":"ltima";return"'"+n+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},ree=function(e,r,n,a){var i=tee[e];return typeof i=="function"?i(r):i},nee={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},aee={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},iee={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},oee={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},see={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},lee={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},cee=function(e,r){var n=Number(e);return r?.unit==="week"?n+"":n+""},uee={ordinalNumber:cee,era:Qn({values:nee,defaultWidth:"wide"}),quarter:Qn({values:aee,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Qn({values:iee,defaultWidth:"wide"}),day:Qn({values:oee,defaultWidth:"wide"}),dayPeriod:Qn({values:see,defaultWidth:"wide",formattingValues:lee,defaultFormattingWidth:"wide"})},dee=/^(\d+)[o]?/i,fee=/\d+/i,hee={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},pee={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},mee={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},vee={any:[/1/i,/2/i,/3/i,/4/i]},gee={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},yee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},bee={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},xee={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},wee={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},See={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},jee={ordinalNumber:SR({matchPattern:dee,parsePattern:fee,valueCallback:function(e){return parseInt(e,10)}}),era:Zn({matchPatterns:hee,defaultMatchWidth:"wide",parsePatterns:pee,defaultParseWidth:"any"}),quarter:Zn({matchPatterns:mee,defaultMatchWidth:"wide",parsePatterns:vee,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Zn({matchPatterns:gee,defaultMatchWidth:"wide",parsePatterns:yee,defaultParseWidth:"any"}),day:Zn({matchPatterns:bee,defaultMatchWidth:"wide",parsePatterns:xee,defaultParseWidth:"any"}),dayPeriod:Zn({matchPatterns:wee,defaultMatchWidth:"any",parsePatterns:See,defaultParseWidth:"any"})},bS={code:"pt-BR",formatDistance:XZ,formatLong:eee,formatRelative:ree,localize:uee,match:jee,options:{weekStartsOn:0,firstWeekContainsDate:1}};const le=(t,e="BRL")=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:e}).format(t),ft=t=>{const e=Math.floor(t),r=Math.round((t-e)*60);return`${e}h${r>0?` ${r}min`:""}`},ht=t=>{if(!t)return"-";const e=typeof t=="string"?ao(t):t;return ci(e,"dd/MM/yyyy",{locale:bS})},Yx=t=>{if(!t)return"-";const e=typeof t=="string"?ao(t):t;return ci(e,"dd/MM/yyyy 's' HH:mm",{locale:bS})},tN=t=>`${t.toFixed(0)} NM`,oi=(t,e="litros")=>e==="galoes"?`${(t/3.785).toFixed(1)} gal`:`${t.toFixed(1)} L`,cs=t=>`${t.toFixed(1)}%`,zn=t=>{if(!t)return 1/0;const e=typeof t=="string"?ao(t):t,r=new Date;return Math.ceil((e.getTime()-r.getTime())/(1e3*60*60*24))},_ee=t=>({pistao:"Pisto",turbohelice:"Turbohlice",jato:"Jato",helicoptero:"Helicptero"})[t]||t,Aee=t=>({avgas:"AVGAS","jet-a":"Jet A"})[t]||t,ef=t=>({preventiva:"Preventiva",corretiva:"Corretiva",inspecao:"Inspeo",revisao:"Reviso",tbo:"TBO"})[t]||t,Xx=t=>({combustivel:"Combustvel",manutencao:"Manuteno",hangaragem:"Hangaragem",seguro:"Seguro",taxas:"Taxas",pecas:"Peas",assinaturas:"Assinaturas",outros:"Outros"})[t]||t,Oee=t=>({aeronavegabilidade:"Aeronavegabilidade",seguro:"Seguro",manual:"Manual",diario_manutencao:"Dirio de Manuteno",cma:"CMA",licenca:"Licena",habilitacao:"Habilitao",outros:"Outros"})[t]||t,Cee=t=>({admin:"Administrador",gestor:"Gestor",piloto:"Piloto",cotista:"Cotista"})[t]||t,Tee=t=>({pendente:"Pendente",pago:"Pago",atrasado:"Atrasado"})[t]||t,rN=["#6366f1","#10b981","#f59e0b","#ef4444","#8b5cf6","#3b82f6"];function Eee(){const{user:t}=cr(),{selectedAircraft:e,aircrafts:r}=Ir(),[n,a]=N.useState(null);return N.useEffect(()=>{if(!e)return;const i=()=>{const c=U.getFlights(e.id),d=U.getExpenses(e.id),f=U.getMaintenanceSchedules(e.id);U.generateAlerts(e.id);const p=U.getAlerts(e.id).filter(P=>!P.dispensado),m=e.horasCelula,v=c.length,y=new Date().getFullYear(),w=d.filter(P=>new Date(P.data).getFullYear()===y).reduce((P,R)=>P+R.valor,0),S=c.reduce((P,R)=>P+R.tempoVoo,0),b=d.reduce((P,R)=>P+R.valor,0),_=S>0?b/S:0,A=f.filter(P=>P.ativo).sort((P,R)=>{const M=P.proximaData?zn(P.proximaData):1/0,$=R.proximaData?zn(R.proximaData):1/0;return M-$}).slice(0,5),x=[...c].sort((P,R)=>new Date(R.data).getTime()-new Date(P.data).getTime()).slice(0,5),T=nN(d,"valor"),C=nN(c,"tempoVoo"),E=Pee(d);a({horasTotais:m,totalVoos:v,custosAno:w,custoPorHora:_,proximasManutencoes:A,alertas:p,ultimosVoos:x,custosMensais:T,horasMensais:C,distribuicaoCustos:E})};i();const s=setInterval(i,5e3);return()=>clearInterval(s)},[e]),e?n?o.jsxs("div",{className:"dashboard",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Dashboard"}),o.jsxs("p",{className:"page-subtitle",children:[e.prefixo,"  ",e.modelo]})]}),o.jsx(Jn,{to:"/estimativa",children:o.jsx(me,{icon:o.jsx(pw,{size:18}),children:"Nova Estimativa"})})]}),n.alertas.length>0&&o.jsx("div",{className:"alerts-section",children:n.alertas.slice(0,3).map(i=>o.jsxs("div",{className:`alert-banner alert-${i.severity}`,children:[o.jsx(Tr,{size:20}),o.jsxs("div",{className:"alert-content",children:[o.jsx("strong",{children:i.titulo}),o.jsx("span",{children:i.mensagem})]})]},i.id))}),o.jsxs("div",{className:"stat-cards",children:[o.jsxs(pe,{className:"stat-card",children:[o.jsx("div",{className:"stat-icon stat-icon-blue",children:o.jsx(_n,{size:24})}),o.jsxs("div",{className:"stat-info",children:[o.jsx("span",{className:"stat-value",children:ft(n.horasTotais)}),o.jsx("span",{className:"stat-label",children:"Horas Totais"})]})]}),o.jsxs(pe,{className:"stat-card",children:[o.jsx("div",{className:"stat-icon stat-icon-green",children:o.jsx(lo,{size:24})}),o.jsxs("div",{className:"stat-info",children:[o.jsx("span",{className:"stat-value",children:n.totalVoos}),o.jsx("span",{className:"stat-label",children:"Voos Registrados"})]})]}),o.jsxs(pe,{className:"stat-card",children:[o.jsx("div",{className:"stat-icon stat-icon-orange",children:o.jsx(vi,{size:24})}),o.jsxs("div",{className:"stat-info",children:[o.jsx("span",{className:"stat-value",children:le(n.custosAno)}),o.jsxs("span",{className:"stat-label",children:["Custos ",new Date().getFullYear()]})]})]}),o.jsxs(pe,{className:"stat-card",children:[o.jsx("div",{className:"stat-icon stat-icon-purple",children:o.jsx(yi,{size:24})}),o.jsxs("div",{className:"stat-info",children:[o.jsx("span",{className:"stat-value",children:le(n.custoPorHora)}),o.jsx("span",{className:"stat-label",children:"Custo/Hora"})]})]})]}),o.jsxs("div",{className:"charts-row",children:[o.jsx(pe,{title:"Custos Mensais",children:o.jsx("div",{className:"chart-container",children:o.jsx(kr,{width:"100%",height:250,children:o.jsxs(Ws,{data:n.custosMensais,children:[o.jsx(Vn,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),o.jsx(Vr,{dataKey:"month",stroke:"var(--text-muted)",fontSize:12}),o.jsx(jr,{stroke:"var(--text-muted)",fontSize:12,tickFormatter:i=>`R$${i/1e3}k`}),o.jsx(Tt,{contentStyle:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"8px"},formatter:i=>[le(i),"Valor"]}),o.jsx(_r,{dataKey:"value",fill:"#6366f1",radius:[4,4,0,0]})]})})})}),o.jsx(pe,{title:"Horas de Voo",children:o.jsx("div",{className:"chart-container",children:o.jsx(kr,{width:"100%",height:250,children:o.jsxs(Zh,{data:n.horasMensais,children:[o.jsx(Vn,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),o.jsx(Vr,{dataKey:"month",stroke:"var(--text-muted)",fontSize:12}),o.jsx(jr,{stroke:"var(--text-muted)",fontSize:12}),o.jsx(Tt,{contentStyle:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"8px"},formatter:i=>[ft(i),"Horas"]}),o.jsx(la,{type:"monotone",dataKey:"value",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2}})]})})})})]}),o.jsxs("div",{className:"bottom-grid",children:[o.jsx(pe,{title:"Distribuio de Custos",children:o.jsxs("div",{className:"chart-container",children:[n.distribuicaoCustos.length>0?o.jsx(kr,{width:"100%",height:200,children:o.jsxs(gu,{children:[o.jsx(un,{data:n.distribuicaoCustos,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:2,dataKey:"value",children:n.distribuicaoCustos.map((i,s)=>o.jsx(Si,{fill:i.color},`cell-${s}`))}),o.jsx(Tt,{contentStyle:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"8px"},formatter:i=>le(i)})]})}):o.jsx("div",{className:"empty-chart",children:o.jsx("p",{children:"Nenhum custo registrado"})}),o.jsx("div",{className:"chart-legend",children:n.distribuicaoCustos.map((i,s)=>o.jsxs("div",{className:"legend-item",children:[o.jsx("span",{className:"legend-color",style:{background:i.color}}),o.jsx("span",{className:"legend-label",children:i.name})]},s))})]})}),o.jsx(pe,{title:"Prximas Manutenes",action:o.jsx(Jn,{to:"/manutencao",children:o.jsxs(me,{variant:"ghost",size:"sm",children:["Ver todas ",o.jsx(ea,{size:16})]})}),children:o.jsx("div",{className:"maintenance-list",children:n.proximasManutencoes.length>0?n.proximasManutencoes.map(i=>{const s=i.proximaData?zn(i.proximaData):null,c=i.proximasHoras?i.proximasHoras-e.horasCelula:null,d=s!==null&&s<=15||c!==null&&c<=10;return o.jsxs("div",{className:"maintenance-item",children:[o.jsx("div",{className:"maintenance-icon",children:o.jsx(_c,{size:18})}),o.jsxs("div",{className:"maintenance-info",children:[o.jsx("span",{className:"maintenance-name",children:i.nome}),o.jsx("span",{className:"maintenance-type",children:ef(i.tipo)})]}),o.jsxs("div",{className:"maintenance-status",children:[s!==null&&o.jsx(Ze,{variant:d?"danger":"default",children:s<=0?"Vencida":`${s}d`}),c!==null&&o.jsx(Ze,{variant:d?"warning":"default",children:c<=0?"Vencida":`${c.toFixed(0)}h`})]})]},i.id)}):o.jsx("div",{className:"empty-list",children:o.jsx("p",{children:"Nenhuma manuteno programada"})})})}),o.jsx(pe,{title:"ltimos Voos",action:o.jsx(Jn,{to:"/logbook",children:o.jsxs(me,{variant:"ghost",size:"sm",children:["Ver todos ",o.jsx(ea,{size:16})]})}),children:o.jsx("div",{className:"flights-list",children:n.ultimosVoos.length>0?n.ultimosVoos.map(i=>o.jsxs("div",{className:"flight-item",children:[o.jsxs("div",{className:"flight-route",children:[o.jsx("span",{className:"flight-origin",children:i.origem}),o.jsx(ea,{size:14,className:"flight-arrow"}),o.jsx("span",{className:"flight-destination",children:i.destino})]}),o.jsxs("div",{className:"flight-details",children:[o.jsx("span",{className:"flight-date",children:ht(i.data)}),o.jsx(Ze,{children:ft(i.tempoVoo)})]})]},i.id)):o.jsx("div",{className:"empty-list",children:o.jsx("p",{children:"Nenhum voo registrado"})})})}),o.jsx(pe,{title:"Documentos",action:o.jsx(Jn,{to:"/documentos",children:o.jsxs(me,{variant:"ghost",size:"sm",children:["Ver todos ",o.jsx(ea,{size:16})]})}),children:o.jsx("div",{className:"docs-summary",children:(()=>{const i=U.getDocuments(e.id),s=i.filter(f=>f.dataValidade&&zn(f.dataValidade)<=0).length,c=i.filter(f=>f.dataValidade&&zn(f.dataValidade)>0&&zn(f.dataValidade)<=30).length,d=i.filter(f=>!f.dataValidade||zn(f.dataValidade)>30).length;return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"doc-stat",children:[o.jsx("div",{className:"doc-stat-icon doc-stat-danger",children:o.jsx(Ta,{size:18})}),o.jsxs("div",{className:"doc-stat-info",children:[o.jsx("span",{className:"doc-stat-value",children:s}),o.jsx("span",{className:"doc-stat-label",children:"Vencidos"})]})]}),o.jsxs("div",{className:"doc-stat",children:[o.jsx("div",{className:"doc-stat-icon doc-stat-warning",children:o.jsx(Ta,{size:18})}),o.jsxs("div",{className:"doc-stat-info",children:[o.jsx("span",{className:"doc-stat-value",children:c}),o.jsx("span",{className:"doc-stat-label",children:"Prximos"})]})]}),o.jsxs("div",{className:"doc-stat",children:[o.jsx("div",{className:"doc-stat-icon doc-stat-success",children:o.jsx(Ta,{size:18})}),o.jsxs("div",{className:"doc-stat-info",children:[o.jsx("span",{className:"doc-stat-value",children:d}),o.jsx("span",{className:"doc-stat-label",children:"OK"})]})]})]})})()})})]})]}):o.jsx("div",{className:"loading",children:o.jsx("div",{className:"loading-spinner"})}):o.jsxs("div",{className:"dashboard-empty",children:[o.jsx("div",{className:"empty-icon-wrapper",children:o.jsx(Hr,{size:64})}),o.jsxs("h2",{children:["Bem-vindo ao AeroGesto, ",t?.nome?.split(" ")[0],"!"]}),o.jsx("p",{children:r.length===0?"Para comear, cadastre sua primeira aeronave.":"Selecione uma aeronave no menu lateral para visualizar o dashboard."}),r.length===0&&o.jsx(Jn,{to:"/aeronaves",children:o.jsx(me,{size:"lg",children:"Cadastrar Aeronave"})})]})}function nN(t,e){const r=[],n=new Date;for(let a=5;a>=0;a--){const i=new Date(n.getFullYear(),n.getMonth()-a,1),s=i.toLocaleString("pt-BR",{month:"short"}),c=i.getFullYear(),d=i.getMonth(),f=t.filter(p=>{const m=new Date("data"in p?p.data:"");return m.getFullYear()===c&&m.getMonth()===d}).reduce((p,m)=>p+(m[e]||0),0);r.push({month:s,value:f})}return r}function Pee(t){const e={},r={combustivel:"#f59e0b",manutencao:"#6366f1",hangaragem:"#8b5cf6",seguro:"#10b981",taxas:"#3b82f6",pecas:"#ef4444",outros:"#64748b"},n={combustivel:"Combustvel",manutencao:"Manuteno",hangaragem:"Hangaragem",seguro:"Seguro",taxas:"Taxas",pecas:"Peas",outros:"Outros"};return t.forEach(a=>{e[a.categoria]=(e[a.categoria]||0)+a.valor}),Object.entries(e).filter(([,a])=>a>0).map(([a,i],s)=>({name:n[a]||a,value:i,color:r[a]||rN[s%rN.length]}))}function mt({isOpen:t,onClose:e,title:r,children:n,size:a="md",footer:i}){return N.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),N.useEffect(()=>{const s=c=>{c.key==="Escape"&&t&&e()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,e]),t?o.jsx("div",{className:"modal-overlay",onClick:e,children:o.jsxs("div",{className:`modal modal-${a}`,onClick:s=>s.stopPropagation(),children:[r&&o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{className:"modal-title",children:r}),o.jsx("button",{className:"modal-close",onClick:e,children:o.jsx(vh,{size:20})})]}),o.jsx("div",{className:"modal-body",children:n}),i&&o.jsx("div",{className:"modal-footer",children:i})]})}):null}const Je=N.forwardRef(({label:t,error:e,hint:r,options:n,placeholder:a,className:i="",...s},c)=>o.jsxs("div",{className:`input-wrapper ${e?"has-error":""} ${i}`,children:[t&&o.jsxs("label",{className:"input-label",children:[t,s.required&&o.jsx("span",{className:"required",children:"*"})]}),o.jsxs("select",{ref:c,className:"input",...s,children:[a&&o.jsx("option",{value:"",disabled:!0,children:a}),n.map(d=>o.jsx("option",{value:d.value,children:d.label},d.value))]}),e&&o.jsx("span",{className:"input-error",children:e}),r&&!e&&o.jsx("span",{className:"input-hint",children:r})]}));Je.displayName="Select";function Qt({columns:t,data:e,keyExtractor:r,onRowClick:n,emptyMessage:a="Nenhum item encontrado",loading:i=!1}){return i?o.jsx("div",{className:"table-loading",children:o.jsx("div",{className:"loading-spinner"})}):e.length===0?o.jsx("div",{className:"table-empty",children:o.jsx("p",{children:a})}):o.jsx("div",{className:"table-container",children:o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsx("tr",{children:t.map(s=>o.jsx("th",{style:{width:s.width,textAlign:s.align||"left"},children:s.header},s.key))})}),o.jsx("tbody",{children:e.map(s=>o.jsx("tr",{onClick:()=>n?.(s),className:n?"clickable":"",children:t.map(c=>o.jsx("td",{style:{textAlign:c.align||"left"},children:c.render?c.render(s):s[c.key]?.toString()||"-"},c.key))},r(s)))})]})})}const kee=[{value:"pistao",label:"Pisto"},{value:"turbohelice",label:"Turbohlice"},{value:"jato",label:"Jato"},{value:"helicoptero",label:"Helicptero"}],Nee=[{value:"avgas",label:"AVGAS"},{value:"jet-a",label:"Jet A"}],Ql={prefixo:"",modelo:"",fabricante:"",numeroSerie:"",anoFabricacao:new Date().getFullYear(),tipo:"pistao",baseHangar:"",consumoMedio:36,velocidadeCruzeiro:120,tipoCombustivel:"avgas",unidadeCombustivel:"litros",horasCelula:0,ciclosTotais:0,custoHora:0,reservaCombustivel:45,margemSeguranca:10,observacoes:"",active:!0};function Iee(){const{user:t,permissions:e}=cr(),{aircrafts:r,refreshAircrafts:n,selectAircraft:a,selectedAircraft:i}=Ir(),[s,c]=IL(),d=go(),[f,p]=N.useState(!1),[m,v]=N.useState(!1),[y,w]=N.useState(Ql),[S,b]=N.useState({}),[_,A]=N.useState([]),[x,T]=N.useState(null);N.useEffect(()=>{const $=s.get("manufacturer"),k=s.get("model"),L=s.get("variant");$&&k&&(w({...Ql,fabricante:$,modelo:k+(L?` ${L}`:"")}),p(!0),c({}))},[s,c]),N.useEffect(()=>{x&&A(U.getComponents(x.id))},[x]);const C=()=>{if(!t||!y.prefixo||!y.modelo)return;const $={...Ql,...y};U.saveAircraft($,t.id,t.nome),n(),p(!1),w(Ql)},E=$=>{w($),p(!0)},P=$=>{t&&confirm("Tem certeza que deseja excluir esta aeronave?")&&(U.deleteAircraft($,t.id,t.nome),n())},R=()=>{if(!t||!x||!S.serial)return;const $={...S,aircraftId:x.id};U.saveComponent($,t.id,t.nome),A(U.getComponents(x.id)),v(!1),b({})},M=$=>{t&&confirm("Tem certeza que deseja excluir este componente?")&&(U.deleteComponent($,t.id,t.nome),x&&A(U.getComponents(x.id)))};return o.jsxs("div",{className:"aeronaves-page",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Aeronaves"}),o.jsx("p",{className:"page-subtitle",children:"Gerencie suas aeronaves e componentes"})]}),e.canManageAircraft&&o.jsx(me,{icon:o.jsx(Zt,{size:18}),onClick:()=>{w(Ql),p(!0)},children:"Nova Aeronave"})]}),o.jsxs("div",{className:"aeronaves-grid",children:[r.map($=>o.jsxs(pe,{className:"aircraft-card",hover:!0,children:[o.jsxs("div",{className:"aircraft-header",children:[o.jsx("div",{className:"aircraft-icon",children:o.jsx(Hr,{size:28})}),o.jsx("div",{className:"aircraft-actions",children:e.canManageAircraft&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"action-btn",onClick:()=>E($),title:"Editar",children:o.jsx(zr,{size:16})}),o.jsx("button",{className:"action-btn",onClick:()=>{T($)},title:"Componentes",children:o.jsx(mh,{size:16})}),o.jsx("button",{className:"action-btn danger",onClick:()=>P($.id),title:"Excluir",children:o.jsx(Ur,{size:16})})]})})]}),o.jsxs("div",{className:"aircraft-info",children:[o.jsx("h3",{className:"aircraft-prefix",children:$.prefixo}),o.jsxs("p",{className:"aircraft-model",children:[$.fabricante," ",$.modelo]}),o.jsx(Ze,{variant:"info",children:_ee($.tipo)})]}),o.jsxs("div",{className:"aircraft-stats",children:[o.jsxs("div",{className:"stat",children:[o.jsx("span",{className:"stat-label",children:"Horas Clula"}),o.jsx("span",{className:"stat-value",children:ft($.horasCelula)})]}),o.jsxs("div",{className:"stat",children:[o.jsx("span",{className:"stat-label",children:"Ciclos"}),o.jsx("span",{className:"stat-value",children:$.ciclosTotais})]}),o.jsxs("div",{className:"stat",children:[o.jsx("span",{className:"stat-label",children:"Consumo"}),o.jsxs("span",{className:"stat-value",children:[$.consumoMedio," L/h"]})]}),o.jsxs("div",{className:"stat",children:[o.jsx("span",{className:"stat-label",children:"Cruzeiro"}),o.jsxs("span",{className:"stat-value",children:[$.velocidadeCruzeiro," kt"]})]})]}),o.jsxs("div",{className:"aircraft-footer",children:[o.jsx("span",{children:Aee($.tipoCombustivel)}),o.jsx("span",{children:$.baseHangar||"Sem base"})]}),o.jsx(me,{variant:"outline",className:"select-btn",onClick:()=>a($.id),disabled:i?.id===$.id,children:i?.id===$.id?"Selecionada":"Selecionar"})]},$.id)),r.length===0&&o.jsxs("div",{className:"empty-state",children:[o.jsx(Hr,{size:64,className:"empty-state-icon"}),o.jsx("h3",{children:"Nenhuma aeronave cadastrada"}),o.jsx("p",{children:"Cadastre sua primeira aeronave para comear a usar o sistema."}),e.canManageAircraft&&o.jsx(me,{onClick:()=>p(!0),children:"Cadastrar Aeronave"})]})]}),o.jsxs(mt,{isOpen:f,onClose:()=>p(!1),title:y.id?"Editar Aeronave":"Nova Aeronave",size:"lg",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>p(!1),children:"Cancelar"}),o.jsx(me,{onClick:C,children:"Salvar"})]}),children:[o.jsx("div",{style:{marginBottom:"1rem",display:"flex",justifyContent:"flex-end"},children:o.jsx(me,{variant:"outline",icon:o.jsx(dw,{size:16}),onClick:()=>{p(!1),d("/catalogo")},children:"Buscar no Catlogo"})}),o.jsxs("div",{className:"form-grid",children:[o.jsx(Q,{label:"Prefixo",value:y.prefixo,onChange:$=>w({...y,prefixo:$.target.value.toUpperCase()}),placeholder:"PT-XXX",required:!0}),o.jsx(Q,{label:"Fabricante",value:y.fabricante,onChange:$=>w({...y,fabricante:$.target.value}),placeholder:"Cessna",required:!0}),o.jsx(Q,{label:"Modelo",value:y.modelo,onChange:$=>w({...y,modelo:$.target.value}),placeholder:"172",required:!0}),o.jsx(Q,{label:"Nmero de Srie",value:y.numeroSerie,onChange:$=>w({...y,numeroSerie:$.target.value})}),o.jsx(Q,{label:"Ano de Fabricao",type:"number",value:y.anoFabricacao,onChange:$=>w({...y,anoFabricacao:parseInt($.target.value)})}),o.jsx(Je,{label:"Tipo",options:kee,value:y.tipo,onChange:$=>w({...y,tipo:$.target.value})}),o.jsx(Q,{label:"Base/Hangar",value:y.baseHangar,onChange:$=>w({...y,baseHangar:$.target.value}),placeholder:"SBSP"}),o.jsx(Je,{label:"Combustvel",options:Nee,value:y.tipoCombustivel,onChange:$=>w({...y,tipoCombustivel:$.target.value})}),o.jsx(Q,{label:"Consumo Mdio (L/h)",type:"number",value:y.consumoMedio,onChange:$=>w({...y,consumoMedio:parseFloat($.target.value)})}),o.jsx(Q,{label:"Velocidade Cruzeiro (kt)",type:"number",value:y.velocidadeCruzeiro,onChange:$=>w({...y,velocidadeCruzeiro:parseInt($.target.value)})}),o.jsx(Q,{label:"Horas Clula",type:"number",value:y.horasCelula,onChange:$=>w({...y,horasCelula:parseFloat($.target.value)})}),o.jsx(Q,{label:"Ciclos Totais",type:"number",value:y.ciclosTotais,onChange:$=>w({...y,ciclosTotais:parseInt($.target.value)})}),o.jsx(Q,{label:"Custo por Hora (R$)",type:"number",value:y.custoHora,onChange:$=>w({...y,custoHora:parseFloat($.target.value)})}),o.jsx(Q,{label:"Reserva Combustvel (min)",type:"number",value:y.reservaCombustivel,onChange:$=>w({...y,reservaCombustivel:parseInt($.target.value)})})]})]}),o.jsx(mt,{isOpen:!!x,onClose:()=>T(null),title:`Componentes - ${x?.prefixo}`,size:"lg",children:o.jsxs("div",{className:"components-section",children:[o.jsxs("div",{className:"components-header",children:[o.jsx("h4",{children:"Motor(es), Hlice(s) e Clula"}),o.jsx(me,{size:"sm",icon:o.jsx(Zt,{size:16}),onClick:()=>{b({tipo:"motor"}),v(!0)},children:"Adicionar"})]}),o.jsx(Qt,{columns:[{key:"tipo",header:"Tipo",render:$=>$.tipo.charAt(0).toUpperCase()+$.tipo.slice(1)},{key:"serial",header:"Serial"},{key:"modelo",header:"Modelo"},{key:"horasAtuais",header:"Horas",render:$=>ft($.horasAtuais)},{key:"limiteTSO",header:"TSO Limite",render:$=>$.limiteTSO?ft($.limiteTSO):"-"},{key:"actions",header:"",width:"80px",render:$=>o.jsxs("div",{className:"table-actions",children:[o.jsx("button",{className:"action-btn",onClick:()=>{b($),v(!0)},children:o.jsx(zr,{size:14})}),o.jsx("button",{className:"action-btn danger",onClick:()=>M($.id),children:o.jsx(Ur,{size:14})})]})}],data:_,keyExtractor:$=>$.id,emptyMessage:"Nenhum componente cadastrado"})]})}),o.jsx(mt,{isOpen:m,onClose:()=>v(!1),title:S.id?"Editar Componente":"Novo Componente",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>v(!1),children:"Cancelar"}),o.jsx(me,{onClick:R,children:"Salvar"})]}),children:o.jsxs("div",{className:"form-grid",children:[o.jsx(Je,{label:"Tipo",options:[{value:"motor",label:"Motor"},{value:"helice",label:"Hlice"},{value:"celula",label:"Clula"}],value:S.tipo||"motor",onChange:$=>b({...S,tipo:$.target.value})}),o.jsx(Q,{label:"Posio",value:S.posicao||"",onChange:$=>b({...S,posicao:$.target.value}),placeholder:"Esquerdo, Direito, etc."}),o.jsx(Q,{label:"Serial",value:S.serial||"",onChange:$=>b({...S,serial:$.target.value}),required:!0}),o.jsx(Q,{label:"Modelo",value:S.modelo||"",onChange:$=>b({...S,modelo:$.target.value})}),o.jsx(Q,{label:"Fabricante",value:S.fabricante||"",onChange:$=>b({...S,fabricante:$.target.value})}),o.jsx(Q,{label:"Horas Atuais",type:"number",value:S.horasAtuais||0,onChange:$=>b({...S,horasAtuais:parseFloat($.target.value)})}),o.jsx(Q,{label:"Limite TSO",type:"number",value:S.limiteTSO||"",onChange:$=>b({...S,limiteTSO:parseFloat($.target.value)})}),o.jsx(Q,{label:"Ciclos Atuais",type:"number",value:S.ciclosAtuais||"",onChange:$=>b({...S,ciclosAtuais:parseInt($.target.value)})})]})})]})}const sb={data:new Date().toISOString().split("T")[0],origem:"",origemIcao:"",destino:"",destinoIcao:"",tempoVoo:0,tempoTaxi:0,horasMotor:0,horasCelula:0,ciclos:1,combustivelConsumido:0,combustivelAbastecido:0,observacoes:""};function Mee(){const{user:t,permissions:e}=cr(),{selectedAircraft:r}=Ir(),[n,a]=N.useState([]),[i,s]=N.useState([]),[c,d]=N.useState(!1),[f,p]=N.useState(sb),[m,v]=N.useState(""),[y,w]=N.useState(""),[S,b]=N.useState("");N.useEffect(()=>{r&&_(),s(U.getUsers().filter(P=>P.role==="piloto"||P.role==="admin"||P.role==="gestor"))},[r]);const _=()=>{if(!r)return;let P=U.getFlights(r.id);m&&(P=P.filter(R=>R.pilotoId===m)),y&&(P=P.filter(R=>R.data>=y)),S&&(P=P.filter(R=>R.data<=S)),P.sort((R,M)=>new Date(M.data).getTime()-new Date(R.data).getTime()),a(P)};N.useEffect(()=>{_()},[m,y,S]);const A=()=>{if(!t||!r||!f.origem||!f.destino)return;const P={...f,aircraftId:r.id,pilotoId:f.pilotoId||t.id,horasMotor:f.horasMotor||f.tempoVoo||0,horasCelula:f.horasCelula||f.tempoVoo||0};U.saveFlight(P,t.id,t.nome),_(),d(!1),p(sb)},x=P=>{t&&confirm("Tem certeza que deseja excluir este voo?")&&(U.deleteFlight(P,t.id,t.nome),_())},T=()=>{if(n.length===0)return;const P=["Data","Origem","Destino","Piloto","Tempo de Voo","Horas Motor","Ciclos","Combustvel"],R=n.map(F=>{const z=i.find(q=>q.id===F.pilotoId);return[ht(F.data),`${F.origem} (${F.origemIcao||"-"})`,`${F.destino} (${F.destinoIcao||"-"})`,z?.nome||"-",ft(F.tempoVoo),ft(F.horasMotor),F.ciclos.toString(),F.combustivelConsumido?.toString()||"-"]}),M=[P.join(","),...R.map(F=>F.join(","))].join(`
`),$=new Blob([M],{type:"text/csv"}),k=URL.createObjectURL($),L=document.createElement("a");L.href=k,L.download=`logbook_${r?.prefixo}_${new Date().toISOString().split("T")[0]}.csv`,L.click()},C=n.reduce((P,R)=>P+R.tempoVoo,0),E=n.reduce((P,R)=>P+R.ciclos,0);return r?o.jsxs("div",{className:"logbook-page",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Logbook"}),o.jsxs("p",{className:"page-subtitle",children:["Registro de voos - ",r.prefixo]})]}),o.jsxs("div",{className:"header-actions",children:[o.jsx(me,{variant:"secondary",icon:o.jsx(su,{size:18}),onClick:T,children:"Exportar CSV"}),e.canCreateFlights&&o.jsx(me,{icon:o.jsx(Zt,{size:18}),onClick:()=>{p({...sb,pilotoId:t?.id}),d(!0)},children:"Novo Voo"})]})]}),o.jsxs("div",{className:"logbook-summary",children:[o.jsx(pe,{className:"summary-card",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("span",{className:"summary-value",children:n.length}),o.jsx("span",{className:"summary-label",children:"Voos"})]})}),o.jsx(pe,{className:"summary-card",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("span",{className:"summary-value",children:ft(C)}),o.jsx("span",{className:"summary-label",children:"Horas Totais"})]})}),o.jsx(pe,{className:"summary-card",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("span",{className:"summary-value",children:E}),o.jsx("span",{className:"summary-label",children:"Ciclos"})]})})]}),o.jsx(pe,{className:"filters-card",children:o.jsxs("div",{className:"filters",children:[o.jsx(Ys,{size:18,className:"filter-icon"}),o.jsx(Je,{options:[{value:"",label:"Todos os pilotos"},...i.map(P=>({value:P.id,label:P.nome}))],value:m,onChange:P=>v(P.target.value)}),o.jsx(Q,{type:"date",value:y,onChange:P=>w(P.target.value),placeholder:"Data inicial"}),o.jsx(Q,{type:"date",value:S,onChange:P=>b(P.target.value),placeholder:"Data final"}),(m||y||S)&&o.jsx(me,{variant:"ghost",size:"sm",onClick:()=>{v(""),w(""),b("")},children:"Limpar"})]})}),o.jsx(pe,{children:o.jsx(Qt,{columns:[{key:"data",header:"Data",render:P=>ht(P.data)},{key:"rota",header:"Rota",render:P=>o.jsxs("div",{className:"route-cell",children:[o.jsx("span",{children:P.origem}),o.jsx(ea,{size:14}),o.jsx("span",{children:P.destino})]})},{key:"piloto",header:"Piloto",render:P=>i.find(R=>R.id===P.pilotoId)?.nome||"-"},{key:"tempoVoo",header:"Tempo",render:P=>ft(P.tempoVoo)},{key:"horasMotor",header:"Motor",render:P=>ft(P.horasMotor)},{key:"ciclos",header:"Ciclos"},{key:"combustivel",header:"Combustvel",render:P=>P.combustivelConsumido?`${P.combustivelConsumido}L`:"-"},{key:"actions",header:"",width:"80px",render:P=>e.canCreateFlights&&o.jsxs("div",{className:"table-actions",children:[o.jsx("button",{className:"action-btn",onClick:()=>{p(P),d(!0)},children:o.jsx(zr,{size:14})}),o.jsx("button",{className:"action-btn danger",onClick:()=>x(P.id),children:o.jsx(Ur,{size:14})})]})}],data:n,keyExtractor:P=>P.id,emptyMessage:"Nenhum voo registrado"})}),o.jsxs(mt,{isOpen:c,onClose:()=>d(!1),title:f.id?"Editar Voo":"Novo Voo",size:"lg",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>d(!1),children:"Cancelar"}),o.jsx(me,{onClick:A,children:"Salvar"})]}),children:[o.jsxs("div",{className:"form-grid",children:[o.jsx(Q,{label:"Data",type:"date",value:f.data,onChange:P=>p({...f,data:P.target.value}),required:!0}),o.jsx(Je,{label:"Piloto em Comando",options:i.map(P=>({value:P.id,label:P.nome})),value:f.pilotoId||"",onChange:P=>p({...f,pilotoId:P.target.value}),required:!0}),o.jsx(Q,{label:"Origem",value:f.origem,onChange:P=>p({...f,origem:P.target.value.toUpperCase()}),placeholder:"Nome do aerdromo",required:!0}),o.jsx(Q,{label:"ICAO Origem",value:f.origemIcao,onChange:P=>p({...f,origemIcao:P.target.value.toUpperCase()}),placeholder:"SBSP"}),o.jsx(Q,{label:"Destino",value:f.destino,onChange:P=>p({...f,destino:P.target.value.toUpperCase()}),placeholder:"Nome do aerdromo",required:!0}),o.jsx(Q,{label:"ICAO Destino",value:f.destinoIcao,onChange:P=>p({...f,destinoIcao:P.target.value.toUpperCase()}),placeholder:"SBRJ"}),o.jsx(Q,{label:"Tempo de Voo (horas)",type:"number",step:"0.1",value:f.tempoVoo,onChange:P=>{const R=parseFloat(P.target.value);p({...f,tempoVoo:R,horasMotor:R,horasCelula:R})},required:!0}),o.jsx(Q,{label:"Tempo de Txi (min)",type:"number",value:f.tempoTaxi,onChange:P=>p({...f,tempoTaxi:parseInt(P.target.value)})}),o.jsx(Q,{label:"Ciclos (pousos)",type:"number",value:f.ciclos,onChange:P=>p({...f,ciclos:parseInt(P.target.value)})}),o.jsx(Q,{label:"Combustvel Consumido (L)",type:"number",value:f.combustivelConsumido,onChange:P=>p({...f,combustivelConsumido:parseFloat(P.target.value)})}),o.jsx(Q,{label:"Combustvel Abastecido (L)",type:"number",value:f.combustivelAbastecido,onChange:P=>p({...f,combustivelAbastecido:parseFloat(P.target.value)})}),o.jsx(Je,{label:"Copiloto (opcional)",options:[{value:"",label:"Nenhum"},...i.filter(P=>P.id!==f.pilotoId).map(P=>({value:P.id,label:P.nome}))],value:f.copilotoId||"",onChange:P=>p({...f,copilotoId:P.target.value||void 0})})]}),o.jsx("div",{style:{marginTop:"1rem"},children:o.jsx(Q,{label:"Observaes",value:f.observacoes,onChange:P=>p({...f,observacoes:P.target.value}),placeholder:"Notas sobre o voo..."})})]})]}):o.jsxs("div",{className:"empty-state",children:[o.jsx(dw,{size:64,className:"empty-state-icon"}),o.jsx("h3",{children:"Selecione uma aeronave"}),o.jsx("p",{children:"Selecione uma aeronave no menu lateral para visualizar o logbook."})]})}const Kd=[{value:"grossi",label:"Grossi"},{value:"shimada",label:"Shimada"},{value:"grossi_shimada",label:"Grossi e Shimada"},{value:"outros",label:"Outros"}],aN=[{value:"provisorio",label:"Provisrio"},{value:"conferido",label:"Conferido"}],Ree=[{value:"estimado",label:"Estimado"},{value:"medido",label:"Medido"}],lb={data:new Date().toISOString().split("T")[0],voo:"",subVoo:"",grupo:"grossi_shimada",origem:"",destino:"",tempoAcionamentoCorte:0,tempoVoo:0,combustivelInicial:0,abastecimentoLibras:0,abastecimentoLitros:0,localAbastecimento:"",combustivelDecolagem:0,combustivelConsumido:0,combustivelConsumidoLitros:0,combustivelFinal:0,tipoMedicaoCombustivel:"medido",valorCombustivel:0,hangar:0,alimentacao:0,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:0,outras:0,provisaoTboGrossi:0,provisaoTboShimada:0,total:0,status:"provisorio",observacoes:""},Sa=t=>{const e=Math.floor(t/60),r=t%60;return`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},iN=t=>{const[e,r]=t.split(":").map(Number);return(e||0)*60+(r||0)};function Dee(){const{user:t,permissions:e}=cr(),{selectedAircraft:r}=Ir(),[n,a]=N.useState([]),[i,s]=N.useState(!1),[c,d]=N.useState(!1),[f,p]=N.useState(null),[m,v]=N.useState(lb),[y,w]=N.useState(""),[S,b]=N.useState(""),[_,A]=N.useState(""),[x,T]=N.useState(""),[C,E]=N.useState(""),[P,R]=N.useState(""),[M,$]=N.useState(""),[k,L]=N.useState("data"),[F,z]=N.useState("desc");N.useEffect(()=>{r&&q()},[r]);const q=()=>{if(!r)return;const K=U.getFlightEntries(r.id);a(K)},Y=N.useMemo(()=>{let K=[...n];return y&&(K=K.filter(fe=>fe.grupo===y)),S&&(K=K.filter(fe=>fe.voo.toLowerCase().includes(S.toLowerCase())||fe.subVoo.toLowerCase().includes(S.toLowerCase()))),_&&(K=K.filter(fe=>fe.origem.toLowerCase().includes(_.toLowerCase())||fe.origemIcao?.toLowerCase().includes(_.toLowerCase()))),x&&(K=K.filter(fe=>fe.destino.toLowerCase().includes(x.toLowerCase())||fe.destinoIcao?.toLowerCase().includes(x.toLowerCase()))),C&&(K=K.filter(fe=>fe.data>=C)),P&&(K=K.filter(fe=>fe.data<=P)),M&&(K=K.filter(fe=>fe.status===M)),K.sort((fe,Me)=>{let Re=0;switch(k){case"data":Re=new Date(fe.data).getTime()-new Date(Me.data).getTime();break;case"voo":Re=fe.voo.localeCompare(Me.voo);break;case"grupo":Re=fe.grupo.localeCompare(Me.grupo);break;case"total":Re=fe.total-Me.total;break}return F==="asc"?Re:-Re}),K},[n,y,S,_,x,C,P,M,k,F]),te=N.useMemo(()=>{const K=Y.reduce((fe,Me)=>fe+Me.tempoVoo,0);return{voos:Y.length,horasMinutos:K,horasDecimal:(K/60).toFixed(2),custoTotal:Y.reduce((fe,Me)=>fe+Me.total,0),combustivel:Y.reduce((fe,Me)=>fe+Me.valorCombustivel,0),tboGrossi:Y.reduce((fe,Me)=>fe+Me.provisaoTboGrossi,0),tboShimada:Y.reduce((fe,Me)=>fe+Me.provisaoTboShimada,0)}},[Y]),ee=K=>{k===K?z(fe=>fe==="asc"?"desc":"asc"):(L(K),z("desc"))},oe=()=>{if(!t||!r)return;const K=U.validateFlightEntry(m);if(K.length>0){alert(K.join(`
`));return}const fe={...m,aircraftId:r.id};U.saveFlightEntry(fe,t.id,t.nome),q(),s(!1),v(lb)},ue=K=>{t&&confirm("Tem certeza que deseja excluir este lanamento?")&&(U.deleteFlightEntry(K,t.id,t.nome),q())},W=()=>{if(Y.length===0)return;const K=["Voo","Sub Voo","Data","Grupo","Origem","Destino","Tempo Acionamento","Tempo Voo","Combustvel Inicial (lbs)","Abastecimento (lbs)","Abastecimento (L)","Local Abastecimento","Combustvel Decolagem (lbs)","Consumido (lbs)","Consumido (L)","Combustvel Final (lbs)","Valor Combustvel","Hangar","Alimentao","Hospedagem","Limpeza","Uber/Taxi","Tarifas","Outras","Proviso TBO Grossi","Proviso TBO Shimada","Total","Status","Observaes"],fe=Y.map(_e=>[_e.voo,_e.subVoo,ht(_e.data),_e.grupo,`${_e.origem} (${_e.origemIcao||""})`,`${_e.destino} (${_e.destinoIcao||""})`,Sa(_e.tempoAcionamentoCorte),Sa(_e.tempoVoo),_e.combustivelInicial,_e.abastecimentoLibras,_e.abastecimentoLitros,_e.localAbastecimento||"",_e.combustivelDecolagem,_e.combustivelConsumido,_e.combustivelConsumidoLitros.toFixed(2),_e.combustivelFinal,_e.valorCombustivel.toFixed(2),_e.hangar.toFixed(2),_e.alimentacao.toFixed(2),_e.hospedagem.toFixed(2),_e.limpeza.toFixed(2),_e.uberTaxi.toFixed(2),_e.tarifas.toFixed(2),_e.outras.toFixed(2),_e.provisaoTboGrossi.toFixed(2),_e.provisaoTboShimada.toFixed(2),_e.total.toFixed(2),_e.status,_e.observacoes||""]);fe.push([]),fe.push(["TOTAIS","","","","","","",Sa(te.horasMinutos),"","","","","","","","",te.combustivel.toFixed(2),"","","","","","","",te.tboGrossi.toFixed(2),te.tboShimada.toFixed(2),te.custoTotal.toFixed(2),"",""]);const Me=[K.join(";"),...fe.map(_e=>_e.join(";"))].join(`
`),Re=new Blob(["\uFEFF"+Me],{type:"text/csv;charset=utf-8"}),he=URL.createObjectURL(Re),Ee=document.createElement("a");Ee.href=he,Ee.download=`lancamentos_voo_${r?.prefixo}_${new Date().toISOString().split("T")[0]}.csv`,Ee.click()},J=K=>{const fe={...m,...K},Me=U.calculateFlightEntryFields(fe);v(Me)},D=()=>{w(""),b(""),A(""),T(""),E(""),R(""),$("")},re=y||S||_||x||C||P||M;return r?o.jsxs("div",{className:"lancamentos-page",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Lanamentos de Voo"}),o.jsxs("p",{className:"page-subtitle",children:["Controle detalhado de voos - ",r.prefixo]})]}),o.jsxs("div",{className:"header-actions",children:[o.jsx(me,{variant:"secondary",icon:o.jsx(su,{size:18}),onClick:W,children:"Exportar CSV"}),e.canCreateFlights&&o.jsx(me,{icon:o.jsx(Zt,{size:18}),onClick:()=>{v({...lb}),s(!0)},children:"Novo Lanamento"})]})]}),o.jsxs("div",{className:"lancamentos-summary",children:[o.jsx(pe,{className:"summary-card",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("span",{className:"summary-value",children:te.voos}),o.jsx("span",{className:"summary-label",children:"Voos"})]})}),o.jsx(pe,{className:"summary-card",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("span",{className:"summary-value",children:Sa(te.horasMinutos)}),o.jsxs("span",{className:"summary-label",children:["Horas Totais (",te.horasDecimal,"h)"]})]})}),o.jsx(pe,{className:"summary-card highlight-grossi",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("span",{className:"summary-value",children:le(te.tboGrossi)}),o.jsx("span",{className:"summary-label",children:"TBO Grossi"})]})}),o.jsx(pe,{className:"summary-card highlight-shimada",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("span",{className:"summary-value",children:le(te.tboShimada)}),o.jsx("span",{className:"summary-label",children:"TBO Shimada"})]})}),o.jsx(pe,{className:"summary-card highlight-total",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("span",{className:"summary-value",children:le(te.custoTotal)}),o.jsx("span",{className:"summary-label",children:"Custo Total"})]})})]}),o.jsxs(pe,{className:"filters-card",children:[o.jsxs("div",{className:"filters-header",children:[o.jsxs("div",{className:"filters-title",children:[o.jsx(Ys,{size:18}),o.jsx("span",{children:"Filtros"})]}),re&&o.jsx(me,{variant:"ghost",size:"sm",onClick:D,children:"Limpar filtros"})]}),o.jsxs("div",{className:"filters-grid",children:[o.jsx(Q,{placeholder:"Voo / Sub Voo",value:S,onChange:K=>b(K.target.value)}),o.jsx(Je,{options:[{value:"",label:"Todos os grupos"},...Kd],value:y,onChange:K=>w(K.target.value)}),o.jsx(Q,{placeholder:"Origem",value:_,onChange:K=>A(K.target.value)}),o.jsx(Q,{placeholder:"Destino",value:x,onChange:K=>T(K.target.value)}),o.jsx(Q,{type:"date",value:C,onChange:K=>E(K.target.value),placeholder:"Data inicial"}),o.jsx(Q,{type:"date",value:P,onChange:K=>R(K.target.value),placeholder:"Data final"}),o.jsx(Je,{options:[{value:"",label:"Todos os status"},...aN],value:M,onChange:K=>$(K.target.value)})]})]}),o.jsx(pe,{children:o.jsx("div",{className:"table-container",children:o.jsx(Qt,{columns:[{key:"voo",header:o.jsxs("button",{className:"sortable-header",onClick:()=>ee("voo"),children:["Voo ",o.jsx(Nd,{size:14})]}),render:K=>o.jsxs("div",{className:"voo-cell",children:[o.jsx("span",{className:"voo-number",children:K.voo}),K.subVoo&&o.jsx("span",{className:"sub-voo",children:K.subVoo})]})},{key:"data",header:o.jsxs("button",{className:"sortable-header",onClick:()=>ee("data"),children:["Data ",o.jsx(Nd,{size:14})]}),render:K=>ht(K.data)},{key:"grupo",header:o.jsxs("button",{className:"sortable-header",onClick:()=>ee("grupo"),children:["Grupo ",o.jsx(Nd,{size:14})]}),render:K=>o.jsx(Ze,{variant:K.grupo==="grossi"?"success":K.grupo==="shimada"?"info":K.grupo==="grossi_shimada"?"warning":"default",children:Kd.find(fe=>fe.value===K.grupo)?.label||K.grupo})},{key:"rota",header:"Rota",render:K=>o.jsxs("div",{className:"route-cell",children:[o.jsx("span",{children:K.origem}),o.jsx(ea,{size:14}),o.jsx("span",{children:K.destino})]})},{key:"tempoVoo",header:"Tempo Voo",render:K=>Sa(K.tempoVoo)},{key:"combustivel",header:"Comb. (lbs)",render:K=>K.combustivelConsumido},{key:"total",header:o.jsxs("button",{className:"sortable-header",onClick:()=>ee("total"),children:["Total ",o.jsx(Nd,{size:14})]}),render:K=>le(K.total)},{key:"status",header:"Status",render:K=>o.jsx(Ze,{variant:K.status==="conferido"?"success":"warning",children:K.status==="conferido"?o.jsxs(o.Fragment,{children:[o.jsx(of,{size:12})," Conferido"]}):o.jsxs(o.Fragment,{children:[o.jsx(uw,{size:12})," Provisrio"]})})},{key:"actions",header:"",width:"100px",render:K=>o.jsxs("div",{className:"table-actions",children:[o.jsx("button",{className:"action-btn",onClick:()=>{p(K),d(!0)},title:"Ver detalhes",children:o.jsx(Ta,{size:14})}),e.canCreateFlights&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"action-btn",onClick:()=>{v(K),s(!0)},title:"Editar",children:o.jsx(zr,{size:14})}),o.jsx("button",{className:"action-btn danger",onClick:()=>ue(K.id),title:"Excluir",children:o.jsx(Ur,{size:14})})]})]})}],data:Y,keyExtractor:K=>K.id,emptyMessage:"Nenhum lanamento de voo encontrado"})})}),o.jsx(mt,{isOpen:i,onClose:()=>s(!1),title:m.id?"Editar Lanamento":"Novo Lanamento de Voo",size:"xl",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>s(!1),children:"Cancelar"}),o.jsx(me,{onClick:oe,children:"Salvar"})]}),children:o.jsxs("div",{className:"form-sections",children:[o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{className:"section-title",children:"Identificao do Voo"}),o.jsxs("div",{className:"form-grid cols-4",children:[o.jsx(Q,{label:"Voo *",value:m.voo,onChange:K=>v({...m,voo:K.target.value.toUpperCase()}),placeholder:"GSS0001",required:!0}),o.jsx(Q,{label:"Sub Voo",value:m.subVoo,onChange:K=>v({...m,subVoo:K.target.value.toUpperCase()}),placeholder:"GSS-0001"}),o.jsx(Q,{label:"Data *",type:"date",value:m.data,onChange:K=>v({...m,data:K.target.value}),required:!0}),o.jsx(Je,{label:"Grupo *",options:Kd,value:m.grupo,onChange:K=>J({grupo:K.target.value}),required:!0})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{className:"section-title",children:"Rota"}),o.jsxs("div",{className:"form-grid cols-4",children:[o.jsx(Q,{label:"Origem *",value:m.origem,onChange:K=>v({...m,origem:K.target.value.toUpperCase()}),placeholder:"Nome do aerdromo",required:!0}),o.jsx(Q,{label:"ICAO Origem",value:m.origemIcao,onChange:K=>v({...m,origemIcao:K.target.value.toUpperCase()}),placeholder:"SBSP"}),o.jsx(Q,{label:"Destino *",value:m.destino,onChange:K=>v({...m,destino:K.target.value.toUpperCase()}),placeholder:"Nome do aerdromo",required:!0}),o.jsx(Q,{label:"ICAO Destino",value:m.destinoIcao,onChange:K=>v({...m,destinoIcao:K.target.value.toUpperCase()}),placeholder:"SBRJ"})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{className:"section-title",children:"Tempos"}),o.jsxs("div",{className:"form-grid cols-2",children:[o.jsx(Q,{label:"Tempo Acionamento e Corte (hh:mm)",type:"time",value:Sa(m.tempoAcionamentoCorte||0),onChange:K=>v({...m,tempoAcionamentoCorte:iN(K.target.value)})}),o.jsx(Q,{label:"Tempo de Voo (hh:mm) *",type:"time",value:Sa(m.tempoVoo||0),onChange:K=>J({tempoVoo:iN(K.target.value)}),required:!0})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{className:"section-title",children:"Combustvel"}),o.jsxs("div",{className:"form-grid cols-4",children:[o.jsx(Q,{label:"Combustvel Inicial (lbs)",type:"number",value:m.combustivelInicial,onChange:K=>J({combustivelInicial:parseFloat(K.target.value)||0})}),o.jsx(Q,{label:"Abastecimento (lbs)",type:"number",value:m.abastecimentoLibras,onChange:K=>J({abastecimentoLibras:parseFloat(K.target.value)||0})}),o.jsx(Q,{label:"Abastecimento (litros)",type:"number",value:m.abastecimentoLitros,onChange:K=>v({...m,abastecimentoLitros:parseFloat(K.target.value)||0})}),o.jsx(Q,{label:"Local Abastecimento",value:m.localAbastecimento,onChange:K=>v({...m,localAbastecimento:K.target.value})})]}),o.jsxs("div",{className:"form-grid cols-4",children:[o.jsx(Q,{label:"Combustvel Decolagem (lbs)",type:"number",value:m.combustivelDecolagem?.toFixed(0),onChange:K=>v({...m,combustivelDecolagem:parseFloat(K.target.value)||0}),hint:"Calculado: Inicial + Abastecido"}),o.jsx(Q,{label:"Combustvel Consumido (lbs)",type:"number",value:m.combustivelConsumido,onChange:K=>J({combustivelConsumido:parseFloat(K.target.value)||0})}),o.jsx(Q,{label:"Consumido (litros)",type:"number",value:m.combustivelConsumidoLitros?.toFixed(2),readOnly:!0,hint:"Calculado automaticamente"}),o.jsx(Q,{label:"Combustvel Final (lbs)",type:"number",value:m.combustivelFinal?.toFixed(0),onChange:K=>v({...m,combustivelFinal:parseFloat(K.target.value)||0}),hint:"Calculado: Decolagem - Consumido"})]}),o.jsx("div",{className:"form-grid cols-2",children:o.jsx(Je,{label:"Tipo de Medio",options:Ree,value:m.tipoMedicaoCombustivel,onChange:K=>v({...m,tipoMedicaoCombustivel:K.target.value})})})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{className:"section-title",children:"Custos"}),o.jsxs("div",{className:"form-grid cols-4",children:[o.jsx(Q,{label:"Valor Combustvel (R$)",type:"number",step:"0.01",value:m.valorCombustivel,onChange:K=>J({valorCombustivel:parseFloat(K.target.value)||0})}),o.jsx(Q,{label:"Hangar (R$)",type:"number",step:"0.01",value:m.hangar,onChange:K=>J({hangar:parseFloat(K.target.value)||0})}),o.jsx(Q,{label:"Alimentao (R$)",type:"number",step:"0.01",value:m.alimentacao,onChange:K=>J({alimentacao:parseFloat(K.target.value)||0})}),o.jsx(Q,{label:"Hospedagem (R$)",type:"number",step:"0.01",value:m.hospedagem,onChange:K=>J({hospedagem:parseFloat(K.target.value)||0})})]}),o.jsxs("div",{className:"form-grid cols-4",children:[o.jsx(Q,{label:"Limpeza (R$)",type:"number",step:"0.01",value:m.limpeza,onChange:K=>J({limpeza:parseFloat(K.target.value)||0})}),o.jsx(Q,{label:"Uber / Taxi (R$)",type:"number",step:"0.01",value:m.uberTaxi,onChange:K=>J({uberTaxi:parseFloat(K.target.value)||0})}),o.jsx(Q,{label:"Tarifas (R$)",type:"number",step:"0.01",value:m.tarifas,onChange:K=>J({tarifas:parseFloat(K.target.value)||0})}),o.jsx(Q,{label:"Outras (R$)",type:"number",step:"0.01",value:m.outras,onChange:K=>J({outras:parseFloat(K.target.value)||0})})]})]}),o.jsxs("div",{className:"form-section tbo-section",children:[o.jsx("h3",{className:"section-title",children:"Proviso TBO (Calculado automaticamente)"}),o.jsxs("div",{className:"form-grid cols-3",children:[o.jsx(Q,{label:"Proviso TBO Grossi (R$)",type:"number",value:m.provisaoTboGrossi?.toFixed(2),readOnly:!0,className:"highlight-grossi"}),o.jsx(Q,{label:"Proviso TBO Shimada (R$)",type:"number",value:m.provisaoTboShimada?.toFixed(2),readOnly:!0,className:"highlight-shimada"}),o.jsx(Q,{label:"TOTAL (R$)",type:"number",value:m.total?.toFixed(2),readOnly:!0,className:"highlight-total"})]}),o.jsxs("p",{className:"tbo-info",children:["Proviso TBO: R$ 2.800,00 por hora de voo  ",((m.tempoVoo||0)/60).toFixed(2),"h = ",le((m.provisaoTboGrossi||0)+(m.provisaoTboShimada||0))]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{className:"section-title",children:"Rateio e Status"}),o.jsxs("div",{className:"form-grid cols-3",children:[o.jsx(Q,{label:"Cobrado de quem?",value:m.cobradoDe,onChange:K=>v({...m,cobradoDe:K.target.value})}),o.jsx(Q,{label:"Observao do Rateio",value:m.rateioObservacao,onChange:K=>v({...m,rateioObservacao:K.target.value})}),o.jsx(Je,{label:"Status",options:aN,value:m.status,onChange:K=>v({...m,status:K.target.value})})]})]}),o.jsxs("div",{className:"form-section",children:[o.jsx("h3",{className:"section-title",children:"Observaes"}),o.jsx("textarea",{className:"textarea-field",value:m.observacoes||"",onChange:K=>v({...m,observacoes:K.target.value}),placeholder:"Notas adicionais sobre o voo...",rows:4})]})]})}),o.jsx(mt,{isOpen:c,onClose:()=>d(!1),title:`Detalhes do Voo ${f?.voo||""}`,size:"lg",children:f&&o.jsxs("div",{className:"detail-view",children:[o.jsxs("div",{className:"detail-grid",children:[o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Identificao"}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Voo:"}),o.jsx("span",{className:"detail-value",children:f.voo})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Sub Voo:"}),o.jsx("span",{className:"detail-value",children:f.subVoo||"-"})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Data:"}),o.jsx("span",{className:"detail-value",children:ht(f.data)})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Grupo:"}),o.jsx("span",{className:"detail-value",children:o.jsx(Ze,{variant:f.grupo==="grossi"?"success":f.grupo==="shimada"?"info":f.grupo==="grossi_shimada"?"warning":"default",children:Kd.find(K=>K.value===f.grupo)?.label})})]})]}),o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Rota e Tempos"}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Origem:"}),o.jsxs("span",{className:"detail-value",children:[f.origem," ",f.origemIcao&&`(${f.origemIcao})`]})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Destino:"}),o.jsxs("span",{className:"detail-value",children:[f.destino," ",f.destinoIcao&&`(${f.destinoIcao})`]})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Tempo Acionamento:"}),o.jsx("span",{className:"detail-value",children:Sa(f.tempoAcionamentoCorte)})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Tempo de Voo:"}),o.jsx("span",{className:"detail-value",children:Sa(f.tempoVoo)})]})]}),o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Combustvel"}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Inicial:"}),o.jsxs("span",{className:"detail-value",children:[f.combustivelInicial," lbs"]})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Abastecido:"}),o.jsxs("span",{className:"detail-value",children:[f.abastecimentoLibras," lbs / ",f.abastecimentoLitros," L"]})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Decolagem:"}),o.jsxs("span",{className:"detail-value",children:[f.combustivelDecolagem," lbs"]})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Consumido:"}),o.jsxs("span",{className:"detail-value",children:[f.combustivelConsumido," lbs / ",f.combustivelConsumidoLitros.toFixed(2)," L"]})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Final:"}),o.jsxs("span",{className:"detail-value",children:[f.combustivelFinal," lbs"]})]})]}),o.jsxs("div",{className:"detail-section",children:[o.jsx("h4",{children:"Custos"}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Combustvel:"}),o.jsx("span",{className:"detail-value",children:le(f.valorCombustivel)})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Hangar:"}),o.jsx("span",{className:"detail-value",children:le(f.hangar)})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Alimentao:"}),o.jsx("span",{className:"detail-value",children:le(f.alimentacao)})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Hospedagem:"}),o.jsx("span",{className:"detail-value",children:le(f.hospedagem)})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Limpeza:"}),o.jsx("span",{className:"detail-value",children:le(f.limpeza)})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Uber/Taxi:"}),o.jsx("span",{className:"detail-value",children:le(f.uberTaxi)})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Tarifas:"}),o.jsx("span",{className:"detail-value",children:le(f.tarifas)})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"Outras:"}),o.jsx("span",{className:"detail-value",children:le(f.outras)})]})]}),o.jsxs("div",{className:"detail-section highlight",children:[o.jsx("h4",{children:"Proviso TBO"}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"TBO Grossi:"}),o.jsx("span",{className:"detail-value grossi",children:le(f.provisaoTboGrossi)})]}),o.jsxs("div",{className:"detail-row",children:[o.jsx("span",{className:"detail-label",children:"TBO Shimada:"}),o.jsx("span",{className:"detail-value shimada",children:le(f.provisaoTboShimada)})]}),o.jsxs("div",{className:"detail-row total",children:[o.jsx("span",{className:"detail-label",children:"TOTAL:"}),o.jsx("span",{className:"detail-value",children:le(f.total)})]})]})]}),f.observacoes&&o.jsxs("div",{className:"detail-section full-width",children:[o.jsx("h4",{children:"Observaes"}),o.jsx("p",{className:"observacoes-text",children:f.observacoes})]}),o.jsxs("div",{className:"detail-footer",children:[o.jsxs("span",{className:"detail-meta",children:["Status: ",o.jsx(Ze,{variant:f.status==="conferido"?"success":"warning",children:f.status==="conferido"?"Conferido":"Provisrio"})]}),o.jsxs("span",{className:"detail-meta",children:["Criado em: ",ht(f.createdAt)]})]})]})})]}):o.jsxs("div",{className:"empty-state",children:[o.jsx(Hr,{size:64,className:"empty-state-icon"}),o.jsx("h3",{children:"Selecione uma aeronave"}),o.jsx("p",{children:"Selecione uma aeronave no menu lateral para visualizar os lanamentos de voo."})]})}const oN=[{value:"preventiva",label:"Preventiva"},{value:"corretiva",label:"Corretiva"},{value:"inspecao",label:"Inspeo"},{value:"revisao",label:"Reviso"},{value:"tbo",label:"TBO"}],$ee=[{value:"horas",label:"Por Horas"},{value:"calendario",label:"Por Calendrio"},{value:"ciclos",label:"Por Ciclos"}],Jx=[{value:"motor",label:"Motor"},{value:"celula",label:"Clula"},{value:"trem_pouso",label:"Trem de Pouso"},{value:"avionicos",label:"Avinicos"},{value:"consumivel",label:"Consumvel"},{value:"helice",label:"Hlice"},{value:"eletrico",label:"Eltrico"},{value:"combustivel",label:"Combustvel"},{value:"hidraulico",label:"Hidrulico"},{value:"outros",label:"Outros"}],Yd=t=>Jx.find(e=>e.value===t)?.label||t,Xd=t=>{switch(t){case"vencido":return o.jsx(Ze,{variant:"danger",children:"Vencido"});case"atencao":return o.jsx(Ze,{variant:"warning",children:"Ateno"});default:return o.jsx(Ze,{variant:"success",children:"OK"})}};function Lee(){const{user:t,permissions:e}=cr(),{selectedAircraft:r}=Ir(),[n,a]=N.useState("dashboard"),[i,s]=N.useState([]),[c,d]=N.useState([]),[f,p]=N.useState([]),[m,v]=N.useState([]),[y,w]=N.useState([]),[S,b]=N.useState([]),[_,A]=N.useState(!1),[x,T]=N.useState(!1),[C,E]=N.useState(!1),[P,R]=N.useState(!1),[M,$]=N.useState({}),[k,L]=N.useState({}),[F,z]=N.useState({}),[q,Y]=N.useState(null),[te,ee]=N.useState(""),[oe,ue]=N.useState("");N.useEffect(()=>{r&&W()},[r]);const W=()=>{if(!r)return;s(U.getMaintenanceSchedules(r.id)),d(U.getMaintenanceEvents(r.id).sort((Fe,lt)=>new Date(lt.data).getTime()-new Date(Fe.data).getTime())),p(U.getComponents(r.id));const V=U.updateAllPartsStatus(r.id);v(V),w(U.getUpcomingReplacements(r.id,10))},J=()=>{if(!t||!r||!M.nome)return;const V={...M,aircraftId:r.id,ativo:M.ativo!==!1,obrigatorio:M.obrigatorio!==!1};U.saveMaintenanceSchedule(V,t.id,t.nome),W(),A(!1),$({})},D=()=>{if(!t||!r||!k.descricao)return;const V={...k,aircraftId:r.id,horasAeronave:k.horasAeronave||r.horasCelula};U.saveMaintenanceEvent(V,t.id,t.nome,k.partsToUpdate),W(),T(!1),L({})},re=()=>{if(!t||!r||!F.nome)return;const V={...F,aircraftId:r.id,alertaPercentual:F.alertaPercentual||10,horasUltimaTroca:F.horasUltimaTroca||r.horasCelula,status:"ok"};U.savePart(V,t.id,t.nome),W(),E(!1),z({})},K=V=>{t&&confirm("Tem certeza que deseja excluir esta manuteno programada?")&&(U.deleteMaintenanceSchedule(V,t.id,t.nome),W())},fe=V=>{t&&confirm("Tem certeza que deseja excluir esta pea?")&&(U.deletePart(V,t.id,t.nome),W())},Me=V=>{Y(V),b(U.getPartReplacementHistory(V.id)),R(!0)},Re=V=>{if(!r)return{status:"ok",label:"OK",variant:"success"};if(V.trigger==="horas"&&V.proximasHoras){const Fe=V.proximasHoras-r.horasCelula;return Fe<=0?{status:"vencida",label:"Vencida",variant:"danger"}:Fe<=(V.alertaAntesHoras||10)?{status:"proxima",label:`${Fe.toFixed(0)}h`,variant:"warning"}:{status:"ok",label:`${Fe.toFixed(0)}h`,variant:"success"}}if(V.trigger==="calendario"&&V.proximaData){const Fe=zn(V.proximaData);return Fe<=0?{status:"vencida",label:"Vencida",variant:"danger"}:Fe<=(V.alertaAntesDias||15)?{status:"proxima",label:`${Fe}d`,variant:"warning"}:{status:"ok",label:`${Fe}d`,variant:"success"}}return{status:"ok",label:"OK",variant:"success"}},he=m.filter(V=>!(te&&V.categoria!==te||oe&&V.status!==oe)),Ee=m.filter(V=>V.status==="vencido").length,_e=m.filter(V=>V.status==="atencao").length,ve=i.filter(V=>Re(V).status==="vencida").length,Ye=i.filter(V=>Re(V).status==="proxima").length;return r?o.jsxs("div",{className:"manutencao-page",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Manuteno"}),o.jsxs("p",{className:"page-subtitle",children:["Controle de manutenes e peas - ",r.prefixo," (",ft(r.horasCelula),")"]})]}),e.canManageMaintenance&&o.jsxs("div",{className:"header-actions",children:[o.jsx(me,{variant:"secondary",icon:o.jsx(KN,{size:18}),onClick:W,children:"Atualizar"}),o.jsx(me,{variant:"secondary",icon:o.jsx(lo,{size:18}),onClick:()=>{$({trigger:"horas",tipo:"inspecao"}),A(!0)},children:"Nova Programada"}),o.jsx(me,{icon:o.jsx(Zt,{size:18}),onClick:()=>{L({data:new Date().toISOString().split("T")[0],tipo:"preventiva",horasAeronave:r.horasCelula}),T(!0)},children:"Registrar Manuteno"})]})]}),o.jsxs("div",{className:"tabs",children:[o.jsxs("button",{className:`tab ${n==="dashboard"?"active":""}`,onClick:()=>a("dashboard"),children:[o.jsx(mh,{size:18}),"Dashboard",Ee+ve>0&&o.jsx("span",{className:"tab-badge danger",children:Ee+ve})]}),o.jsxs("button",{className:`tab ${n==="programadas"?"active":""}`,onClick:()=>a("programadas"),children:[o.jsx(lo,{size:18}),"Programadas",Ye>0&&o.jsx("span",{className:"tab-badge",children:Ye})]}),o.jsxs("button",{className:`tab ${n==="pecas"?"active":""}`,onClick:()=>a("pecas"),children:[o.jsx(Y_,{size:18}),"Peas/Componentes",_e>0&&o.jsx("span",{className:"tab-badge",children:_e})]}),o.jsxs("button",{className:`tab ${n==="historico"?"active":""}`,onClick:()=>a("historico"),children:[o.jsx(Ez,{size:18}),"Histrico"]})]}),n==="dashboard"&&o.jsxs("div",{className:"dashboard-content",children:[o.jsxs("div",{className:"dashboard-summary",children:[o.jsxs(pe,{className:"summary-card danger",children:[o.jsx("div",{className:"summary-icon",children:o.jsx(Tr,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:Ee+ve}),o.jsx("span",{className:"summary-label",children:"Vencidos"})]})]}),o.jsxs(pe,{className:"summary-card warning",children:[o.jsx("div",{className:"summary-icon",children:o.jsx(_n,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:_e+Ye}),o.jsx("span",{className:"summary-label",children:"Ateno"})]})]}),o.jsxs(pe,{className:"summary-card success",children:[o.jsx("div",{className:"summary-icon",children:o.jsx(of,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:m.filter(V=>V.status==="ok").length}),o.jsx("span",{className:"summary-label",children:"OK"})]})]}),o.jsxs(pe,{className:"summary-card info",children:[o.jsx("div",{className:"summary-icon",children:o.jsx(Y_,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:m.length}),o.jsx("span",{className:"summary-label",children:"Total Peas"})]})]})]}),o.jsx(pe,{title:"Prximas Trocas (Top 10)",className:"upcoming-replacements",children:y.length===0?o.jsx("div",{className:"empty-list",children:o.jsx("p",{children:"Nenhuma pea cadastrada com intervalo de horas"})}):o.jsx(Qt,{columns:[{key:"status",header:"Status",width:"100px",render:V=>Xd(V.status)},{key:"nome",header:"Pea/Componente"},{key:"categoria",header:"Categoria",render:V=>Yd(V.categoria)},{key:"horasRestantes",header:"Horas Restantes",render:V=>o.jsxs("span",{className:V.horasRestantes&&V.horasRestantes<=0?"text-danger":"",children:[V.horasRestantes?.toFixed(1)||"-","h"]})},{key:"intervaloHoras",header:"Intervalo",render:V=>`${V.intervaloHoras}h`},{key:"dataUltimaTroca",header:"ltima Troca",render:V=>V.dataUltimaTroca?ht(V.dataUltimaTroca):"-"}],data:y,keyExtractor:V=>V.id})}),(ve>0||Ye>0)&&o.jsx(pe,{title:"Manutenes Programadas (Vencidas/Prximas)",className:"scheduled-alerts",children:o.jsx("div",{className:"schedules-grid",children:i.filter(V=>{const Fe=Re(V);return Fe.status==="vencida"||Fe.status==="proxima"}).map(V=>{const Fe=Re(V);return o.jsxs(pe,{className:`schedule-card status-${Fe.status}`,children:[o.jsxs("div",{className:"schedule-header",children:[o.jsxs("div",{className:"schedule-icon",children:[Fe.status==="vencida"&&o.jsx(Tr,{size:20}),Fe.status==="proxima"&&o.jsx(_n,{size:20})]}),o.jsx(Ze,{variant:Fe.variant,children:Fe.label})]}),o.jsxs("div",{className:"schedule-info",children:[o.jsx("h3",{children:V.nome}),o.jsx("p",{className:"schedule-type",children:ef(V.tipo)})]})]},V.id)})})})]}),n==="programadas"&&o.jsxs("div",{className:"schedules-grid",children:[i.map(V=>{const Fe=Re(V);return o.jsxs(pe,{className:`schedule-card status-${Fe.status}`,children:[o.jsxs("div",{className:"schedule-header",children:[o.jsxs("div",{className:"schedule-icon",children:[Fe.status==="vencida"&&o.jsx(Tr,{size:20}),Fe.status==="proxima"&&o.jsx(_n,{size:20}),Fe.status==="ok"&&o.jsx(of,{size:20})]}),o.jsx(Ze,{variant:Fe.variant,children:Fe.label})]}),o.jsxs("div",{className:"schedule-info",children:[o.jsx("h3",{children:V.nome}),o.jsx("p",{className:"schedule-type",children:ef(V.tipo)}),V.descricao&&o.jsx("p",{className:"schedule-description",children:V.descricao})]}),o.jsxs("div",{className:"schedule-details",children:[o.jsxs("div",{className:"detail",children:[o.jsx("span",{className:"detail-label",children:"Gatilho"}),o.jsxs("span",{className:"detail-value",children:[V.trigger==="horas"&&`A cada ${V.intervaloHoras}h`,V.trigger==="calendario"&&`A cada ${V.intervaloDias}d`,V.trigger==="ciclos"&&`A cada ${V.intervaloCiclos} ciclos`]})]}),V.proximasHoras&&o.jsxs("div",{className:"detail",children:[o.jsx("span",{className:"detail-label",children:"Prxima em"}),o.jsx("span",{className:"detail-value",children:ft(V.proximasHoras)})]}),V.proximaData&&o.jsxs("div",{className:"detail",children:[o.jsx("span",{className:"detail-label",children:"Data"}),o.jsx("span",{className:"detail-value",children:ht(V.proximaData)})]})]}),e.canManageMaintenance&&o.jsxs("div",{className:"schedule-actions",children:[o.jsx(me,{size:"sm",variant:"ghost",onClick:()=>{$(V),A(!0)},children:o.jsx(zr,{size:14})}),o.jsx(me,{size:"sm",variant:"ghost",onClick:()=>K(V.id),children:o.jsx(Ur,{size:14})})]})]},V.id)}),i.length===0&&o.jsx("div",{className:"empty-list full-width",children:o.jsx("p",{children:"Nenhuma manuteno programada"})})]}),n==="pecas"&&o.jsxs("div",{className:"pecas-content",children:[o.jsxs("div",{className:"pecas-header",children:[o.jsxs("div",{className:"filters",children:[o.jsx(Ys,{size:18,className:"filter-icon"}),o.jsx(Je,{options:[{value:"",label:"Todas categorias"},...Jx],value:te,onChange:V=>ee(V.target.value)}),o.jsx(Je,{options:[{value:"",label:"Todos status"},{value:"ok",label:"OK"},{value:"atencao",label:"Ateno"},{value:"vencido",label:"Vencido"}],value:oe,onChange:V=>ue(V.target.value)}),(te||oe)&&o.jsx(me,{variant:"ghost",size:"sm",onClick:()=>{ee(""),ue("")},children:"Limpar"})]}),e.canManageMaintenance&&o.jsx(me,{icon:o.jsx(Zt,{size:18}),onClick:()=>{z({categoria:"consumivel",alertaPercentual:10,horasUltimaTroca:r.horasCelula,dataUltimaTroca:new Date().toISOString().split("T")[0]}),E(!0)},children:"Nova Pea"})]}),o.jsx(pe,{children:o.jsx(Qt,{columns:[{key:"status",header:"Status",width:"100px",render:V=>Xd(V.status)},{key:"nome",header:"Pea/Componente"},{key:"categoria",header:"Categoria",render:V=>Yd(V.categoria)},{key:"intervaloHoras",header:"Intervalo",render:V=>V.intervaloHoras?`${V.intervaloHoras}h`:"-"},{key:"horasDesdeUltimaTroca",header:"Desde Troca",render:V=>`${V.horasDesdeUltimaTroca?.toFixed(1)||0}h`},{key:"horasRestantes",header:"Restantes",render:V=>o.jsxs("span",{className:V.horasRestantes&&V.horasRestantes<=0?"text-danger":"",children:[V.horasRestantes?.toFixed(1)||"-","h"]})},{key:"dataUltimaTroca",header:"ltima Troca",render:V=>V.dataUltimaTroca?ht(V.dataUltimaTroca):"-"},{key:"custoUltimaTroca",header:"Custo",render:V=>V.custoUltimaTroca?le(V.custoUltimaTroca):"-"},{key:"actions",header:"",width:"120px",render:V=>o.jsxs("div",{className:"table-actions",children:[o.jsx("button",{className:"action-btn",onClick:()=>Me(V),title:"Ver histrico",children:o.jsx(WN,{size:14})}),e.canManageMaintenance&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"action-btn",onClick:()=>{z(V),E(!0)},title:"Editar",children:o.jsx(zr,{size:14})}),o.jsx("button",{className:"action-btn danger",onClick:()=>fe(V.id),title:"Excluir",children:o.jsx(Ur,{size:14})})]})]})}],data:he,keyExtractor:V=>V.id,emptyMessage:"Nenhuma pea cadastrada"})})]}),n==="historico"&&o.jsx(pe,{children:o.jsx(Qt,{columns:[{key:"data",header:"Data",render:V=>ht(V.data)},{key:"tipo",header:"Tipo",render:V=>o.jsx(Ze,{children:ef(V.tipo)})},{key:"descricao",header:"Descrio"},{key:"horasAeronave",header:"Horas",render:V=>ft(V.horasAeronave)},{key:"custo",header:"Custo",render:V=>le(V.custo)},{key:"oficina",header:"Oficina",render:V=>V.oficina||"-"}],data:c,keyExtractor:V=>V.id,emptyMessage:"Nenhuma manuteno registrada"})}),o.jsx(mt,{isOpen:_,onClose:()=>A(!1),title:M.id?"Editar Manuteno Programada":"Nova Manuteno Programada",size:"md",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>A(!1),children:"Cancelar"}),o.jsx(me,{onClick:J,children:"Salvar"})]}),children:o.jsxs("div",{className:"form-grid",children:[o.jsx(Q,{label:"Nome",value:M.nome||"",onChange:V=>$({...M,nome:V.target.value}),placeholder:"Ex: Inspeo 100h",required:!0}),o.jsx(Je,{label:"Tipo",options:oN,value:M.tipo||"inspecao",onChange:V=>$({...M,tipo:V.target.value})}),o.jsx(Je,{label:"Gatilho",options:$ee,value:M.trigger||"horas",onChange:V=>$({...M,trigger:V.target.value})}),M.trigger==="horas"&&o.jsxs(o.Fragment,{children:[o.jsx(Q,{label:"Intervalo (horas)",type:"number",value:M.intervaloHoras||"",onChange:V=>$({...M,intervaloHoras:parseFloat(V.target.value)})}),o.jsx(Q,{label:"Prximas horas",type:"number",value:M.proximasHoras||"",onChange:V=>$({...M,proximasHoras:parseFloat(V.target.value)})}),o.jsx(Q,{label:"Alertar antes (horas)",type:"number",value:M.alertaAntesHoras||10,onChange:V=>$({...M,alertaAntesHoras:parseInt(V.target.value)})})]}),M.trigger==="calendario"&&o.jsxs(o.Fragment,{children:[o.jsx(Q,{label:"Intervalo (dias)",type:"number",value:M.intervaloDias||"",onChange:V=>$({...M,intervaloDias:parseInt(V.target.value)})}),o.jsx(Q,{label:"Prxima data",type:"date",value:M.proximaData||"",onChange:V=>$({...M,proximaData:V.target.value})}),o.jsx(Q,{label:"Alertar antes (dias)",type:"number",value:M.alertaAntesDias||15,onChange:V=>$({...M,alertaAntesDias:parseInt(V.target.value)})})]}),o.jsx(Je,{label:"Componente (opcional)",options:[{value:"",label:"Aeronave geral"},...f.map(V=>({value:V.id,label:`${V.tipo} - ${V.serial}`}))],value:M.componentId||"",onChange:V=>$({...M,componentId:V.target.value||void 0})})]})}),o.jsxs(mt,{isOpen:x,onClose:()=>T(!1),title:"Registrar Manuteno",size:"lg",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>T(!1),children:"Cancelar"}),o.jsx(me,{onClick:D,children:"Salvar"})]}),children:[o.jsxs("div",{className:"form-grid",children:[o.jsx(Q,{label:"Data",type:"date",value:k.data||"",onChange:V=>L({...k,data:V.target.value}),required:!0}),o.jsx(Je,{label:"Tipo",options:oN,value:k.tipo||"preventiva",onChange:V=>L({...k,tipo:V.target.value})}),o.jsx(Q,{label:"Horas da Aeronave",type:"number",value:k.horasAeronave||r.horasCelula,onChange:V=>L({...k,horasAeronave:parseFloat(V.target.value)})}),o.jsx(Q,{label:"Custo (R$)",type:"number",value:k.custo||0,onChange:V=>L({...k,custo:parseFloat(V.target.value)})}),o.jsx(Q,{label:"Oficina/Responsvel",value:k.oficina||"",onChange:V=>L({...k,oficina:V.target.value})}),o.jsx(Je,{label:"Componente (opcional)",options:[{value:"",label:"Aeronave geral"},...f.map(V=>({value:V.id,label:`${V.tipo} - ${V.serial}`}))],value:k.componentId||"",onChange:V=>L({...k,componentId:V.target.value||void 0})})]}),m.length>0&&o.jsxs("div",{className:"parts-selection",children:[o.jsx("h4",{children:"Peas Trocadas (marque as que foram substitudas)"}),o.jsx("div",{className:"parts-checkboxes",children:m.map(V=>o.jsxs("label",{className:"part-checkbox",children:[o.jsx("input",{type:"checkbox",checked:k.partsToUpdate?.includes(V.id)||!1,onChange:Fe=>{const lt=k.partsToUpdate||[];Fe.target.checked?L({...k,partsToUpdate:[...lt,V.id]}):L({...k,partsToUpdate:lt.filter(It=>It!==V.id)})}}),o.jsxs("span",{children:[V.nome," (",Yd(V.categoria),")"]}),Xd(V.status)]},V.id))})]}),o.jsx("div",{style:{marginTop:"1rem"},children:o.jsx(Q,{label:"Descrio",value:k.descricao||"",onChange:V=>L({...k,descricao:V.target.value}),placeholder:"Descreva o servio realizado...",required:!0})})]}),o.jsxs(mt,{isOpen:C,onClose:()=>E(!1),title:F.id?"Editar Pea/Componente":"Nova Pea/Componente",size:"lg",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>E(!1),children:"Cancelar"}),o.jsx(me,{onClick:re,children:"Salvar"})]}),children:[o.jsxs("div",{className:"form-grid",children:[o.jsx(Q,{label:"Nome da Pea",value:F.nome||"",onChange:V=>z({...F,nome:V.target.value}),placeholder:"Ex: Vela, Filtro de leo, Pneu...",required:!0}),o.jsx(Je,{label:"Categoria",options:Jx,value:F.categoria||"consumivel",onChange:V=>z({...F,categoria:V.target.value})}),o.jsx(Q,{label:"Part Number",value:F.partNumber||"",onChange:V=>z({...F,partNumber:V.target.value}),placeholder:"Opcional"}),o.jsx(Q,{label:"Serial",value:F.serial||"",onChange:V=>z({...F,serial:V.target.value}),placeholder:"Opcional"}),o.jsx(Q,{label:"Fabricante",value:F.fabricante||"",onChange:V=>z({...F,fabricante:V.target.value}),placeholder:"Opcional"}),o.jsx(Q,{label:"Intervalo de Troca (horas)",type:"number",value:F.intervaloHoras||"",onChange:V=>z({...F,intervaloHoras:parseFloat(V.target.value)}),placeholder:"Ex: 50, 100..."}),o.jsx(Q,{label:"Intervalo de Troca (dias)",type:"number",value:F.intervaloDias||"",onChange:V=>z({...F,intervaloDias:parseInt(V.target.value)}),placeholder:"Ex: 180 (6 meses)"}),o.jsx(Q,{label:"Alertar quando (% do intervalo)",type:"number",value:F.alertaPercentual||10,onChange:V=>z({...F,alertaPercentual:parseInt(V.target.value)}),placeholder:"Ex: 10 (alertar quando faltar 10%)"})]}),o.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"1rem"},children:"ltima Troca"}),o.jsxs("div",{className:"form-grid",children:[o.jsx(Q,{label:"Horas da Aeronave na ltima Troca",type:"number",value:F.horasUltimaTroca||r.horasCelula,onChange:V=>z({...F,horasUltimaTroca:parseFloat(V.target.value)})}),o.jsx(Q,{label:"Data da ltima Troca",type:"date",value:F.dataUltimaTroca||"",onChange:V=>z({...F,dataUltimaTroca:V.target.value})}),o.jsx(Q,{label:"Custo da ltima Troca (R$)",type:"number",value:F.custoUltimaTroca||"",onChange:V=>z({...F,custoUltimaTroca:parseFloat(V.target.value)||void 0})}),o.jsx(Q,{label:"Fornecedor",value:F.fornecedor||"",onChange:V=>z({...F,fornecedor:V.target.value})}),o.jsx(Q,{label:"Nota Fiscal",value:F.notaFiscal||"",onChange:V=>z({...F,notaFiscal:V.target.value})})]}),o.jsx("div",{style:{marginTop:"1rem"},children:o.jsx(Q,{label:"Observaes",value:F.observacoes||"",onChange:V=>z({...F,observacoes:V.target.value}),placeholder:"Observaes adicionais..."})})]}),o.jsx(mt,{isOpen:P,onClose:()=>R(!1),title:`Histrico de Trocas - ${q?.nome||""}`,size:"lg",children:q&&o.jsxs("div",{className:"part-history",children:[o.jsxs("div",{className:"part-info-summary",children:[o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"label",children:"Categoria:"}),o.jsx("span",{className:"value",children:Yd(q.categoria)})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"label",children:"Intervalo:"}),o.jsxs("span",{className:"value",children:[q.intervaloHoras||"-","h"]})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"label",children:"Horas Restantes:"}),o.jsxs("span",{className:"value",children:[q.horasRestantes?.toFixed(1)||"-","h"]})]}),o.jsxs("div",{className:"info-item",children:[o.jsx("span",{className:"label",children:"Status:"}),Xd(q.status)]})]}),o.jsx("h4",{children:"Histrico de Trocas"}),S.length===0?o.jsx("p",{className:"empty-history",children:"Nenhuma troca registrada"}):o.jsx(Qt,{columns:[{key:"data",header:"Data",render:V=>ht(V.data)},{key:"horasAeronave",header:"Horas",render:V=>ft(V.horasAeronave)},{key:"custo",header:"Custo",render:V=>V.custo?le(V.custo):"-"},{key:"fornecedor",header:"Fornecedor",render:V=>V.fornecedor||"-"},{key:"observacoes",header:"Observaes",render:V=>V.observacoes||"-"}],data:S,keyExtractor:V=>V.id})]})})]}):o.jsxs("div",{className:"empty-state",children:[o.jsx(_c,{size:64,className:"empty-state-icon"}),o.jsx("h3",{children:"Selecione uma aeronave"}),o.jsx("p",{children:"Selecione uma aeronave no menu lateral para gerenciar manutenes."})]})}const ch={CDI_ANNUAL:13.25,SELIC_ANNUAL:13.25,POUPANCA_ANNUAL:8.5};function Ra(t){return Math.round(t*(252/365))}function Bee(t,e){const r=new Date(t),n=new Date(e),a=Math.abs(n.getTime()-r.getTime());return Math.ceil(a/(1e3*60*60*24))}function Fee(t,e,r,n,a){const i=ch.CDI_ANNUAL*e/100,s=n===252?Ra(r):r;let c;if(a==="diaria")c=Math.pow(1+i/100,s/n)-1;else{const v=r/30;c=Math.pow(1+i/100,v/12)-1}const d=t*(1+c),f=d-t,p=f/t*100,m=p*(365/r);return{principal:t,finalValue:d,interestEarned:f,periodReturn:p,annualEquivalentReturn:m,daysElapsed:r,businessDaysEstimated:Ra(r),calculationDetails:{baseUsed:n,daysUsed:s,effectiveRate:i}}}function zee(t,e,r,n,a){const i=n===252?Ra(r):r;let s;if(a==="diaria")s=Math.pow(1+e/100,i/n)-1;else{const m=r/30;s=Math.pow(1+e/100,m/12)-1}const c=t*(1+s),d=c-t,f=d/t*100,p=f*(365/r);return{principal:t,finalValue:c,interestEarned:d,periodReturn:f,annualEquivalentReturn:p,daysElapsed:r,businessDaysEstimated:Ra(r),calculationDetails:{baseUsed:n,daysUsed:i,effectiveRate:e}}}function Uee(t,e,r,n,a,i,s){const c=s!==void 0?s:e,d=a===252?Ra(n):n,f=Math.pow(1+c/100,n/365)-1;let p;if(i==="diaria")p=Math.pow(1+r/100,d/a)-1;else{const S=n/30;p=Math.pow(1+r/100,S/12)-1}const m=t*(1+f)*(1+p),v=m-t,y=v/t*100,w=y*(365/n);return{principal:t,finalValue:m,interestEarned:v,periodReturn:y,annualEquivalentReturn:w,daysElapsed:n,businessDaysEstimated:Ra(n),calculationDetails:{baseUsed:a,daysUsed:d,effectiveRate:c+r}}}function qee(t,e){const r=e/30,a=t*Math.pow(1+.5/100,r),i=a-t,s=i/t*100,c=s*(365/e);return{principal:t,finalValue:a,interestEarned:i,periodReturn:s,annualEquivalentReturn:c,daysElapsed:e,businessDaysEstimated:Ra(e),calculationDetails:{baseUsed:365,daysUsed:e,effectiveRate:ch.POUPANCA_ANNUAL}}}function Vee(t,e,r){const n=r===252?Ra(e):e,a=Math.pow(1+ch.SELIC_ANNUAL/100,n/r)-1,i=t*(1+a),s=i-t,c=s/t*100,d=c*(365/e);return{principal:t,finalValue:i,interestEarned:s,periodReturn:c,annualEquivalentReturn:d,daysElapsed:e,businessDaysEstimated:Ra(e),calculationDetails:{baseUsed:r,daysUsed:n,effectiveRate:ch.SELIC_ANNUAL}}}function Cr(t){const e=Bee(t.startDate,t.endDate),{params:r}=t;switch(t.investmentType){case"CDI":if(!r.percentCDI)throw new Error("Percentual CDI no informado");return Fee(t.principal,r.percentCDI,e,r.base,r.capitalization);case"POS_FIXADO":case"PREFIXADO":case"CDB":case"LCI":case"LCA":if(!r.annualRate)throw new Error("Taxa anual no informada");return zee(t.principal,r.annualRate,e,r.base,r.capitalization);case"IPCA_PLUS":if(r.ipcaExpected===void 0||r.spread===void 0)throw new Error("IPCA esperado e spread no informados");return Uee(t.principal,r.ipcaExpected,r.spread,e,r.base,r.capitalization,r.ipcaReal);case"POUPANCA":return qee(t.principal,e);case"SELIC":return Vee(t.principal,e,r.base);default:throw new Error(`Tipo de aplicao no suportado: ${t.investmentType}`)}}const Hee=[{value:"combustivel",label:"Combustvel"},{value:"manutencao",label:"Manuteno"},{value:"hangaragem",label:"Hangaragem"},{value:"seguro",label:"Seguro"},{value:"taxas",label:"Taxas"},{value:"pecas",label:"Peas"},{value:"assinaturas",label:"Assinaturas"},{value:"outros",label:"Outros"}],Wee=[{value:"aplicacao_financeira",label:"Aplicao Financeira"},{value:"aporte_financeiro",label:"Aporte Financeiro"},{value:"reembolso",label:"Reembolso"},{value:"outras_receitas",label:"Outras Receitas"}],Gee=[{value:"fixo",label:"Fixo"},{value:"variavel",label:"Varivel"}];function Kee(){const{user:t,permissions:e}=cr(),{selectedAircraft:r}=Ir(),[n,a]=N.useState("despesas"),[i,s]=N.useState([]),[c,d]=N.useState([]),[f,p]=N.useState([]),[m,v]=N.useState([]),[y,w]=N.useState([]),[S,b]=N.useState([]),[_,A]=N.useState(!1),[x,T]=N.useState(!1),[C,E]=N.useState(!1),[P,R]=N.useState(!1),[M,$]=N.useState({}),[k,L]=N.useState({}),[F,z]=N.useState({}),[q,Y]=N.useState({}),[te,ee]=N.useState([]),[oe,ue]=N.useState([]),[W,J]=N.useState(!1),[D,re]=N.useState({}),[K,fe]=N.useState(null),[Me,Re]=N.useState(!1),[he,Ee]=N.useState(null),[_e,ve]=N.useState(null);N.useEffect(()=>{r&&Ye(),b(U.getUsers())},[r]);const Ye=()=>{if(!r)return;s(U.getExpenses(r.id).sort((we,Le)=>new Date(Le.data).getTime()-new Date(we.data).getTime())),d(U.getRevenues(r.id).sort((we,Le)=>new Date(Le.data).getTime()-new Date(we.data).getTime()));let B=U.getBankAccounts(r.id);if(B.length===0&&t){const we={id:crypto.randomUUID(),aircraftId:r.id,nome:"Conta Principal",banco:"Banco Padro",saldoInicial:0,saldoAtual:0,ativa:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};U.saveBankAccount(we,t.id,t.nome),B=[we]}p(B),v(U.getPayments(void 0,r.id)),w(U.getMemberships(r.id));let ce=U.getMarginReserve(r.id);!ce&&t&&(ce=U.initializeMarginReserve(r.id,t.id,t.nome)),Ee(ce||null),ce&&ee(U.getFinancialApplications(r.id,ce.id)),ue(U.getCashInvestments(r.id)),ve(U.getFinancialDashboard(r.id))},V=()=>{if(!t||!r||!M.descricao)return;if(M.rateioAutomatico===!1&&M.rateioManual){const ce=M.rateioManual.reduce((ct,fa)=>ct+(fa.valor||0),0),we=M.valor||0,Le=Math.abs(ce-we);if(Le>.01){alert(`A soma dos valores do rateio manual (${ce.toFixed(2)}) deve ser igual ao valor total da despesa (${we.toFixed(2)}). Diferena: ${Le.toFixed(2)}`);return}if(M.rateioManual.filter(ct=>!ct.valor||ct.valor<=0).length>0){alert("Todos os valores do rateio manual devem ser preenchidos e maiores que zero.");return}}const B={...M,aircraftId:r.id,moeda:"BRL",rateioAutomatico:M.rateioAutomatico!==!1};U.saveExpense(B,t.id,t.nome),Ye(),A(!1),$({})},Fe=B=>{t&&confirm("Tem certeza que deseja excluir esta despesa?")&&(U.deleteExpense(B,t.id,t.nome),Ye())},lt=()=>{if(!t||!r||!k.descricao||!k.contaBancariaId){alert("Preencha todos os campos obrigatrios (Descrio e Conta Bancria)");return}if(!k.valor||k.valor<=0){alert("O valor da receita deve ser maior que zero");return}if(k.rateioAutomatico===!1&&k.rateioManual){const ce=k.rateioManual.reduce((ct,fa)=>ct+(fa.valor||0),0),we=k.valor||0,Le=Math.abs(ce-we);if(Le>.01){alert(`A soma dos valores do rateio manual (${ce.toFixed(2)}) deve ser igual ao valor total da receita (${we.toFixed(2)}). Diferena: ${Le.toFixed(2)}`);return}if(k.rateioManual.filter(ct=>!ct.valor||ct.valor<=0).length>0){alert("Todos os valores do rateio manual devem ser preenchidos e maiores que zero.");return}}const B={...k,aircraftId:r.id,moeda:"BRL",rateioAutomatico:k.rateioAutomatico!==!1};U.saveRevenue(B,t.id,t.nome),Ye(),T(!1),L({})},It=B=>{t&&confirm("Tem certeza que deseja excluir esta receita?")&&(U.deleteRevenue(B,t.id,t.nome),Ye())},Gr=()=>{if(!t||!r||!F.nome||!F.banco){alert("Preencha todos os campos obrigatrios (Nome e Banco)");return}const B={...F,aircraftId:r.id,saldoInicial:F.saldoInicial||0,saldoAtual:F.saldoAtual!==void 0?F.saldoAtual:F.saldoInicial||0,ativa:F.ativa!==!1};U.saveBankAccount(B,t.id,t.nome),B.id&&U.recalculateBankAccountBalance(B.id),Ye(),E(!1),z({})},dn=B=>{if(!t||!r)return;const ce=i.filter(Le=>Le.contaBancariaId===B),we=c.filter(Le=>Le.contaBancariaId===B);if(ce.length>0||we.length>0){alert(`No  possvel excluir esta conta. Existem ${ce.length+we.length} transaes vinculadas a ela.`);return}if(confirm("Tem certeza que deseja excluir esta conta bancria?")){const gt=U.getBankAccounts(r.id).find(ct=>ct.id===B);if(gt){const ct={...gt,ativa:!1};U.saveBankAccount(ct,t.id,t.nome),Ye()}}},fn=B=>{if(!t)return;const ce={...B,status:"pago",dataPagamento:new Date().toISOString().split("T")[0]};U.savePayment(ce,t.id,t.nome),Ye()},dr=i.reduce((B,ce)=>B+ce.valor,0),Mr=c.reduce((B,ce)=>B+ce.valor,0),da=Mr-dr,Oi=m.filter(B=>B.status!=="pago").reduce((B,ce)=>B+ce.valor,0);return r?o.jsxs("div",{className:"financeiro-page",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Financeiro"}),o.jsxs("p",{className:"page-subtitle",children:["Gesto de custos e rateio - ",r.prefixo]})]}),e.canManageFinancial&&o.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[o.jsx(me,{icon:o.jsx(Zt,{size:18}),variant:"secondary",onClick:()=>{$({data:new Date().toISOString().split("T")[0],tipo:"variavel",categoria:"outros",rateioAutomatico:!0}),A(!0)},children:"Nova Despesa"}),o.jsx(me,{icon:o.jsx(Zt,{size:18}),onClick:()=>{L({data:new Date().toISOString().split("T")[0],categoria:"outras_receitas",rateioAutomatico:!0,moeda:"BRL"}),T(!0)},children:"Nova Receita"})]})]}),he&&he.status==="risco_liquidez"&&o.jsxs("div",{className:"liquidity-alert critical",children:[o.jsxs("div",{className:"alert-content",children:[o.jsx(Tr,{size:24}),o.jsxs("div",{className:"alert-text",children:[o.jsx("strong",{children:"RISCO DE LIQUIDEZ"}),o.jsxs("p",{children:["Reserva de Margem: ",le(he.saldoAtual)," / ",le(he.valorMinimoObrigatorio)," (Dficit: ",le(Math.abs(he.excedente)),")"]})]})]}),o.jsxs(Jn,{to:"/patrimonio",className:"alert-action",children:[o.jsx("span",{children:"Gerenciar Reserva"}),o.jsx(ea,{size:16})]})]}),he&&he.status==="atencao"&&o.jsxs("div",{className:"liquidity-alert warning",children:[o.jsxs("div",{className:"alert-content",children:[o.jsx(io,{size:24}),o.jsxs("div",{className:"alert-text",children:[o.jsx("strong",{children:"Ateno com a Reserva"}),o.jsxs("p",{children:["Reserva de Margem: ",le(he.saldoAtual)," (",cs(he.percentualPreenchimento)," do mnimo)"]})]})]}),o.jsxs(Jn,{to:"/patrimonio",className:"alert-action",children:[o.jsx("span",{children:"Ver Patrimnio"}),o.jsx(ea,{size:16})]})]}),o.jsxs("div",{className:"finance-summary",children:[o.jsx(pe,{className:"summary-card",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("div",{className:"summary-icon green",children:o.jsx(yi,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:le(Mr)}),o.jsx("span",{className:"summary-label",children:"Total de Receitas"})]})]})}),o.jsx(pe,{className:"summary-card",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("div",{className:"summary-icon red",children:o.jsx(Ob,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:le(dr)}),o.jsx("span",{className:"summary-label",children:"Total de Despesas"})]})]})}),o.jsx(pe,{className:"summary-card",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("div",{className:`summary-icon ${da>=0?"green":"red"}`,children:o.jsx(vi,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:le(da)}),o.jsx("span",{className:"summary-label",children:"Resultado Lquido"})]})]})}),o.jsx(pe,{className:"summary-card",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("div",{className:"summary-icon orange",children:o.jsx(K_,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:le(Oi)}),o.jsx("span",{className:"summary-label",children:"Pendente"})]})]})})]}),o.jsxs("div",{className:"tabs",children:[o.jsxs("button",{className:`tab ${n==="despesas"?"active":""}`,onClick:()=>a("despesas"),children:[o.jsx(Ob,{size:18}),"Despesas"]}),o.jsxs("button",{className:`tab ${n==="receitas"?"active":""}`,onClick:()=>a("receitas"),children:[o.jsx(yi,{size:18}),"Receitas"]}),o.jsxs("button",{className:`tab ${n==="contas"?"active":""}`,onClick:()=>a("contas"),children:[o.jsx(di,{size:18}),"Contas Bancrias"]}),o.jsxs("button",{className:`tab ${n==="aplicacoes"?"active":""}`,onClick:()=>a("aplicacoes"),children:[o.jsx(ph,{size:18}),"Aplicaes Financeiras"]}),o.jsxs("button",{className:`tab ${n==="aplicacoes-caixa"?"active":""}`,onClick:()=>a("aplicacoes-caixa"),children:[o.jsx(_z,{size:18}),"Aplicaes do Caixa"]}),o.jsxs("button",{className:`tab ${n==="pagamentos"?"active":""}`,onClick:()=>a("pagamentos"),children:[o.jsx(K_,{size:18}),"Pagamentos",m.filter(B=>B.status!=="pago").length>0&&o.jsx("span",{className:"tab-badge",children:m.filter(B=>B.status!=="pago").length})]}),o.jsxs("button",{className:`tab ${n==="membros"?"active":""}`,onClick:()=>a("membros"),children:[o.jsx(ia,{size:18}),"Extrato dos Membros"]})]}),n==="despesas"&&o.jsx(pe,{children:o.jsx(Qt,{columns:[{key:"data",header:"Data",render:B=>ht(B.data)},{key:"descricao",header:"Descrio"},{key:"categoria",header:"Categoria",render:B=>o.jsx(Ze,{children:Xx(B.categoria)})},{key:"tipo",header:"Tipo",render:B=>o.jsx(Ze,{variant:B.tipo==="fixo"?"info":"warning",children:B.tipo==="fixo"?"Fixo":"Varivel"})},{key:"valor",header:"Valor",align:"right",render:B=>le(B.valor)},{key:"rateio",header:"Rateio",render:B=>B.rateioAutomatico?o.jsx(Ze,{variant:"success",children:"Auto"}):o.jsx(Ze,{children:"Manual"})},{key:"actions",header:"",width:"80px",render:B=>e.canManageFinancial&&o.jsxs("div",{className:"table-actions",children:[o.jsx("button",{className:"action-btn",onClick:()=>{$(B),A(!0)},children:o.jsx(zr,{size:14})}),o.jsx("button",{className:"action-btn danger",onClick:()=>Fe(B.id),children:o.jsx(Ur,{size:14})})]})}],data:i,keyExtractor:B=>B.id,emptyMessage:"Nenhuma despesa registrada"})}),n==="receitas"&&o.jsx(pe,{children:o.jsx(Qt,{columns:[{key:"data",header:"Data",render:B=>ht(B.data)},{key:"descricao",header:"Descrio"},{key:"categoria",header:"Categoria",render:B=>{const ce={aplicacao_financeira:"Aplicao Financeira",aporte_financeiro:"Aporte Financeiro",reembolso:"Reembolso",outras_receitas:"Outras Receitas"};return o.jsx(Ze,{variant:"success",children:ce[B.categoria]||B.categoria})}},{key:"valor",header:"Valor",align:"right",render:B=>le(B.valor)},{key:"contaBancariaId",header:"Conta",render:B=>{const ce=f.find(we=>we.id===B.contaBancariaId);return ce?ce.nome:"-"}},{key:"rateio",header:"Rateio",render:B=>B.rateioAutomatico?o.jsx(Ze,{variant:"success",children:"Auto"}):o.jsx(Ze,{children:"Manual"})},{key:"actions",header:"",width:"80px",render:B=>e.canManageFinancial&&o.jsxs("div",{className:"table-actions",children:[o.jsx("button",{className:"action-btn",onClick:()=>{L(B),T(!0)},children:o.jsx(zr,{size:14})}),o.jsx("button",{className:"action-btn danger",onClick:()=>It(B.id),children:o.jsx(Ur,{size:14})})]})}],data:c,keyExtractor:B=>B.id,emptyMessage:"Nenhuma receita registrada"})}),n==="contas"&&o.jsxs(pe,{children:[o.jsxs("div",{style:{marginBottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:600},children:"Contas Bancrias"}),o.jsx("p",{style:{margin:"0.25rem 0 0",fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Gerencie as contas bancrias e visualize os saldos atualizados"})]}),e.canManageFinancial&&o.jsx(me,{icon:o.jsx(Zt,{size:18}),onClick:()=>{z({saldoInicial:0,saldoAtual:0,ativa:!0}),E(!0)},children:"Nova Conta"})]}),o.jsx(Qt,{columns:[{key:"nome",header:"Nome da Conta"},{key:"banco",header:"Banco"},{key:"agencia",header:"Agncia",render:B=>B.agencia||"-"},{key:"conta",header:"Conta",render:B=>B.conta||"-"},{key:"saldoAtual",header:"Saldo Atual",align:"right",render:B=>o.jsx("span",{style:{fontWeight:600,color:B.saldoAtual>=0?"var(--success-color)":"var(--danger-color)"},children:le(B.saldoAtual)})},{key:"status",header:"Status",render:B=>B.ativa?o.jsx(Ze,{variant:"success",children:"Ativa"}):o.jsx(Ze,{children:"Inativa"})},{key:"actions",header:"",width:"80px",render:B=>e.canManageFinancial&&o.jsxs("div",{className:"table-actions",children:[o.jsx("button",{className:"action-btn",onClick:()=>{U.recalculateBankAccountBalance(B.id),Ye(),z(B),E(!0)},title:"Editar conta",children:o.jsx(zr,{size:14})}),o.jsx("button",{className:"action-btn danger",onClick:()=>dn(B.id),title:"Desativar conta",children:o.jsx(Ur,{size:14})})]})}],data:f,keyExtractor:B=>B.id,emptyMessage:"Nenhuma conta bancria cadastrada"}),f.length>0&&o.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"var(--bg-secondary)",borderRadius:"0.5rem"},children:[o.jsx("h4",{style:{margin:"0 0 0.75rem",fontSize:"0.9375rem",fontWeight:600},children:"Resumo de Saldos"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[o.jsxs("div",{children:[o.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Saldo Total:"}),o.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600,color:"var(--text-primary)",marginTop:"0.25rem"},children:le(f.reduce((B,ce)=>B+ce.saldoAtual,0))})]}),o.jsxs("div",{children:[o.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Contas Ativas:"}),o.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600,color:"var(--text-primary)",marginTop:"0.25rem"},children:f.filter(B=>B.ativa).length})]})]})]})]}),n==="aplicacoes"&&o.jsxs(pe,{children:[o.jsxs("div",{style:{marginBottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:600},children:"Aplicaes Financeiras"}),o.jsx("p",{style:{margin:"0.25rem 0 0",fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Gerencie as aplicaes financeiras da reserva de margem e acompanhe o rendimento"})]}),e.canManageFinancial&&he&&o.jsx(me,{icon:o.jsx(Zt,{size:18}),onClick:()=>{Y({reserveId:he.id,dataAplicacao:new Date().toISOString().split("T")[0],liquidez:"vencimento",ativa:!0,taxaRendimento:0}),R(!0)},children:"Nova Aplicao"})]}),he&&(()=>{const B=U.getTotalApplicationYield(r.id);return o.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"var(--bg-secondary)",borderRadius:"0.5rem",border:"1px solid var(--border-color)"},children:[o.jsx("h4",{style:{margin:"0 0 0.75rem",fontSize:"0.9375rem",fontWeight:600},children:"Resumo de Rendimentos"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[o.jsxs("div",{children:[o.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Total Aplicado:"}),o.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600,color:"var(--text-primary)",marginTop:"0.25rem"},children:le(B.totalAplicado)})]}),o.jsxs("div",{children:[o.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Rendimento Acumulado:"}),o.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600,color:"var(--success-color)",marginTop:"0.25rem"},children:le(B.totalRendimento)})]}),o.jsxs("div",{children:[o.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Valor Atual:"}),o.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600,color:"var(--text-primary)",marginTop:"0.25rem"},children:le(B.valorAtual)})]}),o.jsxs("div",{children:[o.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Rentabilidade:"}),o.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600,color:B.totalRendimento>=0?"var(--success-color)":"var(--danger-color)",marginTop:"0.25rem"},children:B.totalAplicado>0?`${(B.totalRendimento/B.totalAplicado*100).toFixed(2)}%`:"0%"})]})]})]})})(),o.jsx(Qt,{columns:[{key:"nome",header:"Nome da Aplicao"},{key:"tipo",header:"Tipo"},{key:"instituicao",header:"Instituio"},{key:"valorAplicado",header:"Valor Aplicado",align:"right",render:B=>le(B.valorAplicado)},{key:"taxaRendimento",header:"Taxa a.a.",align:"right",render:B=>`${B.taxaRendimento.toFixed(2)}%`},{key:"rendimento",header:"Rendimento Atual",align:"right",render:B=>{const ce=U.calculateApplicationYield(B);return o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:600,color:ce.rendimentoLiquido>=0?"var(--success-color)":"var(--danger-color)"},children:le(ce.rendimentoLiquido)}),o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:[ce.rendimentoPercentual.toFixed(2),"%"]})]})}},{key:"valorAtual",header:"Valor Atual",align:"right",render:B=>{const ce=U.calculateApplicationYield(B);return o.jsx("span",{style:{fontWeight:600},children:le(ce.valorAtual)})}},{key:"status",header:"Status",render:B=>B.ativa?o.jsx(Ze,{variant:"success",children:"Ativa"}):o.jsx(Ze,{children:"Encerrada"})},{key:"actions",header:"",width:"80px",render:B=>e.canManageFinancial&&o.jsxs("div",{className:"table-actions",children:[o.jsx("button",{className:"action-btn",onClick:()=>{Y(B),R(!0)},title:"Editar aplicao",children:o.jsx(zr,{size:14})}),o.jsx("button",{className:"action-btn danger",onClick:()=>{confirm("Tem certeza que deseja excluir esta aplicao?")&&(U.deleteFinancialApplication(B.id,t.id,t.nome),Ye())},title:"Excluir aplicao",children:o.jsx(Ur,{size:14})})]})}],data:te,keyExtractor:B=>B.id,emptyMessage:"Nenhuma aplicao financeira registrada"})]}),n==="aplicacoes-caixa"&&o.jsxs(pe,{children:[o.jsxs("div",{style:{marginBottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:600},children:"Aplicar Caixa"}),o.jsx("p",{style:{margin:"0.25rem 0 0",fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Aplique o dinheiro em caixa em diferentes tipos de investimento e calcule o rendimento"})]}),e.canManageFinancial&&o.jsx(me,{icon:o.jsx(Zt,{size:18}),onClick:()=>{re({principal:0,startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],investmentType:"CDI",params:{percentCDI:100,base:252,capitalization:"diaria"},isSimulation:!1,status:"ACTIVE",cashAccountId:f[0]?.id}),fe(null),J(!0)},children:"Nova Aplicao"})]}),(()=>{const B=U.getAvailableCash(r.id),we=oe.filter(gt=>gt.status==="ACTIVE"&&!gt.isSimulation).reduce((gt,ct)=>gt+ct.principal,0),Le=B-we;return o.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"var(--bg-secondary)",borderRadius:"0.5rem",border:"1px solid var(--border-color)"},children:[o.jsx("h4",{style:{margin:"0 0 0.75rem",fontSize:"0.9375rem",fontWeight:600},children:"Caixa Disponvel"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[o.jsxs("div",{children:[o.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Saldo Total:"}),o.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600,color:"var(--text-primary)",marginTop:"0.25rem"},children:le(B)})]}),o.jsxs("div",{children:[o.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Total Aplicado:"}),o.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600,color:"var(--text-primary)",marginTop:"0.25rem"},children:le(we)})]}),o.jsxs("div",{children:[o.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Caixa Livre:"}),o.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600,color:Le>=0?"var(--success-color)":"var(--danger-color)",marginTop:"0.25rem"},children:le(Le)})]})]})]})})(),o.jsx(Qt,{columns:[{key:"investmentType",header:"Tipo",render:B=>({CDI:"CDI",POS_FIXADO:"Ps-fixado",PREFIXADO:"Prefixado",IPCA_PLUS:"IPCA+",POUPANCA:"Poupana",SELIC:"SELIC",CDB:"CDB",LCI:"LCI",LCA:"LCA"})[B.investmentType]||B.investmentType},{key:"principal",header:"Valor Aplicado",align:"right",render:B=>le(B.principal)},{key:"startDate",header:"Data Incio",render:B=>ht(B.startDate)},{key:"endDate",header:"Data Fim",render:B=>ht(B.endDate)},{key:"estimatedFinalValue",header:"Valor Final Estimado",align:"right",render:B=>{try{const ce=Cr(B);return o.jsx("span",{style:{fontWeight:600},children:le(ce.finalValue)})}catch{return le(B.estimatedFinalValue)}}},{key:"status",header:"Status",render:B=>{const ce={ACTIVE:"Ativa",REDEEMED:"Resgatada",CANCELED:"Cancelada",SIMULATED:"Simulao"},we={ACTIVE:"success",REDEEMED:"info",CANCELED:"danger",SIMULATED:"warning"};return o.jsx(Ze,{variant:we[B.status],children:ce[B.status]})}},{key:"actions",header:"",width:"120px",render:B=>e.canManageFinancial&&o.jsxs("div",{className:"table-actions",children:[o.jsx("button",{className:"action-btn",onClick:()=>{re(B);try{const ce=Cr(B);fe(ce)}catch{fe(null)}J(!0)},title:"Ver detalhes",children:o.jsx(zr,{size:14})}),B.status==="ACTIVE"&&!B.isSimulation&&o.jsx("button",{className:"action-btn",onClick:()=>{try{const ce=Cr(B),we=parseFloat(prompt(`Valor realizado no resgate:

Estimado: ${le(ce.finalValue)}

Digite o valor realizado:`,ce.finalValue.toFixed(2))||"0");we>0&&(U.redeemCashInvestment(B.id,we,t.id,t.nome),Ye())}catch(ce){alert("Erro ao calcular: "+ce.message)}},title:"Resgatar",style:{color:"var(--success-color)"},children:o.jsx(vi,{size:14})})]})}],data:oe,keyExtractor:B=>B.id,emptyMessage:"Nenhuma aplicao do caixa registrada"})]}),n==="pagamentos"&&o.jsx(pe,{children:o.jsx(Qt,{columns:[{key:"dataVencimento",header:"Vencimento",render:B=>ht(B.dataVencimento)},{key:"membro",header:"Membro",render:B=>S.find(ce=>ce.id===B.memberId)?.nome||"-"},{key:"descricao",header:"Descrio"},{key:"valor",header:"Valor",align:"right",render:B=>le(B.valor)},{key:"status",header:"Status",render:B=>{const ce=B.status==="pago"?"success":B.status==="atrasado"||zn(B.dataVencimento)<0?"danger":"warning";return o.jsx(Ze,{variant:ce,children:Tee(B.status)})}},{key:"actions",header:"",width:"100px",render:B=>B.status!=="pago"&&e.canManageFinancial&&o.jsx(me,{size:"sm",variant:"outline",onClick:()=>fn(B),children:"Pagar"})}],data:m,keyExtractor:B=>B.id,emptyMessage:"Nenhum pagamento registrado"})}),n==="membros"&&o.jsxs("div",{className:"members-grid",children:[y.map(B=>{const ce=S.find(Le=>Le.id===B.userId),we=U.getMemberBalance(B.userId,r.id);return o.jsxs(pe,{className:"member-card",children:[o.jsxs("div",{className:"member-header",children:[o.jsx("div",{className:"member-avatar",children:ce?.nome.charAt(0).toUpperCase()}),o.jsxs("div",{className:"member-info",children:[o.jsx("h3",{children:ce?.nome}),o.jsx("span",{children:B.tipoParticipacao})]}),o.jsx(Ze,{variant:B.status==="ativo"?"success":"default",children:B.status})]}),o.jsxs("div",{className:"member-stats",children:[o.jsxs("div",{className:"member-stat",children:[o.jsx("span",{className:"stat-label",children:"Horas Voadas"}),o.jsxs("span",{className:"stat-value",children:[we.horasVoadas.toFixed(1),"h"]})]}),o.jsxs("div",{className:"member-stat",children:[o.jsx("span",{className:"stat-label",children:"Valor Devido"}),o.jsx("span",{className:"stat-value",children:le(we.valorDevido)})]}),o.jsxs("div",{className:"member-stat",children:[o.jsx("span",{className:"stat-label",children:"Valor Pago"}),o.jsx("span",{className:"stat-value",children:le(we.valorPago)})]}),o.jsxs("div",{className:"member-stat",children:[o.jsx("span",{className:"stat-label",children:"Saldo"}),o.jsx("span",{className:`stat-value ${we.saldo>=0?"positive":"negative"}`,children:le(we.saldo)})]})]})]},B.id)}),y.length===0&&o.jsx("div",{className:"empty-list full-width",children:o.jsx("p",{children:"Nenhum membro cadastrado"})})]}),o.jsxs(mt,{isOpen:_,onClose:()=>A(!1),title:M.id?"Editar Despesa":"Nova Despesa",size:"md",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>A(!1),children:"Cancelar"}),o.jsx(me,{onClick:V,children:"Salvar"})]}),children:[o.jsxs("div",{className:"form-grid",children:[o.jsx(Q,{label:"Data",type:"date",value:M.data||"",onChange:B=>$({...M,data:B.target.value}),required:!0}),o.jsx(Je,{label:"Categoria",options:Hee,value:M.categoria||"outros",onChange:B=>$({...M,categoria:B.target.value})}),o.jsx(Je,{label:"Tipo",options:Gee,value:M.tipo||"variavel",onChange:B=>$({...M,tipo:B.target.value})}),o.jsx(Q,{label:"Valor (R$)",type:"number",step:"0.01",value:M.valor||"",onChange:B=>$({...M,valor:parseFloat(B.target.value)}),required:!0}),o.jsx(Q,{label:"Data de Vencimento",type:"date",value:M.dataVencimento||"",onChange:B=>$({...M,dataVencimento:B.target.value})}),o.jsx(Q,{label:"Fornecedor",value:M.fornecedor||"",onChange:B=>$({...M,fornecedor:B.target.value})})]}),o.jsx("div",{style:{marginTop:"1rem"},children:o.jsx(Q,{label:"Descrio",value:M.descricao||"",onChange:B=>$({...M,descricao:B.target.value}),placeholder:"Descrio da despesa...",required:!0})}),o.jsx("div",{style:{marginTop:"1rem"},children:o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:M.rateioAutomatico!==!1,onChange:B=>{const ce=B.target.checked;$({...M,rateioAutomatico:ce,rateioManual:!ce&&!M.rateioManual?y.filter(we=>we.status==="ativo").map(we=>({memberId:we.userId,grupo:void 0,valor:0})):M.rateioManual})}}),"Aplicar rateio automtico entre os membros"]})}),(M.categoria==="taxas"||M.rateioAutomatico===!1)&&o.jsx("div",{style:{marginTop:"1rem"},children:o.jsx(Q,{label:"Sub-voo / Referncia do voo",value:M.subVoo||"",onChange:B=>$({...M,subVoo:B.target.value}),placeholder:"Ex: SBSP  SBRJ | 02/01/2026",required:M.categoria==="taxas"||M.rateioAutomatico===!1,hint:"Identifique a qual voo especfico esta despesa se refere"})}),M.rateioAutomatico===!1&&o.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"var(--bg-secondary)",borderRadius:"0.5rem",border:"1px solid var(--border-color)"},children:[o.jsx("h4",{style:{margin:"0 0 1rem",fontSize:"0.9375rem",fontWeight:600,color:"var(--text-primary)"},children:"Rateio Manual"}),o.jsx("p",{style:{margin:"0 0 1rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Informe o valor atribudo a cada grupo/membro. A soma deve ser igual ao valor total da despesa."}),M.rateioManual&&M.rateioManual.length>0?o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[M.rateioManual.map((B,ce)=>{const we=S.find(gt=>gt.id===B.memberId),Le=y.find(gt=>gt.userId===B.memberId);return o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsx("span",{style:{fontSize:"0.875rem",fontWeight:500,color:"var(--text-primary)"},children:we?.nome||"Membro no encontrado"}),Le&&o.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginLeft:"0.5rem"},children:["(",Le.tipoParticipacao,")"]})]}),o.jsx("div",{style:{width:"150px"},children:o.jsx(Q,{type:"number",step:"0.01",min:"0",value:B.valor||"",onChange:gt=>{const ct=[...M.rateioManual||[]];ct[ce]={...ct[ce],valor:parseFloat(gt.target.value)||0},$({...M,rateioManual:ct})},placeholder:"0,00",required:!0})})]},B.memberId||ce)}),M.valor&&M.rateioManual&&o.jsxs("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid var(--border-color)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"0.875rem",fontWeight:600,color:"var(--text-primary)"},children:"Soma dos valores:"}),o.jsx("span",{style:{fontSize:"0.875rem",fontWeight:600,color:(()=>{const B=M.rateioManual.reduce((we,Le)=>we+(Le.valor||0),0);return Math.abs(B-(M.valor||0))<=.01?"var(--success-color)":"var(--danger-color)"})()},children:le(M.rateioManual.reduce((B,ce)=>B+(ce.valor||0),0))})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.25rem"},children:[o.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Valor total da despesa:"}),o.jsx("span",{style:{fontSize:"0.875rem",fontWeight:500,color:"var(--text-primary)"},children:le(M.valor||0)})]}),(()=>{const B=M.rateioManual.reduce((we,Le)=>we+(Le.valor||0),0),ce=Math.abs(B-(M.valor||0));return ce>.01?o.jsx("div",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"0.25rem",border:"1px solid rgba(239, 68, 68, 0.2)"},children:o.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--danger-color)"},children:[" Diferena: ",le(ce),". A soma deve ser igual ao valor total."]})}):null})()]})]}):o.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"var(--text-secondary)",fontSize:"0.875rem"},children:"Nenhum membro ativo encontrado para rateio."})]})]}),o.jsxs(mt,{isOpen:x,onClose:()=>T(!1),title:k.id?"Editar Receita":"Nova Receita",size:"md",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>T(!1),children:"Cancelar"}),o.jsx(me,{onClick:lt,children:"Salvar"})]}),children:[o.jsxs("div",{className:"form-grid",children:[o.jsx(Q,{label:"Data *",type:"date",value:k.data||"",onChange:B=>L({...k,data:B.target.value}),required:!0}),o.jsx(Je,{label:"Categoria *",options:Wee,value:k.categoria||"outras_receitas",onChange:B=>L({...k,categoria:B.target.value})}),o.jsx(Q,{label:"Valor (R$) *",type:"number",step:"0.01",min:"0.01",value:k.valor||"",onChange:B=>L({...k,valor:parseFloat(B.target.value)}),required:!0}),o.jsx(Je,{label:"Conta Bancria *",options:f.map(B=>({value:B.id,label:`${B.nome} (${B.banco})`})),value:k.contaBancariaId||"",onChange:B=>L({...k,contaBancariaId:B.target.value}),required:!0,hint:"Selecione a conta onde a receita ser creditada"}),o.jsx(Q,{label:"Origem do Recurso",value:k.origem||"",onChange:B=>L({...k,origem:B.target.value}),placeholder:"Ex: Banco XYZ, Investidor ABC..."})]}),o.jsx("div",{style:{marginTop:"1rem"},children:o.jsx(Q,{label:"Descrio *",value:k.descricao||"",onChange:B=>L({...k,descricao:B.target.value}),placeholder:"Descrio da receita...",required:!0})}),o.jsx("div",{style:{marginTop:"1rem"},children:o.jsx(Q,{label:"Sub-voo / Referncia do voo",value:k.subVoo||"",onChange:B=>L({...k,subVoo:B.target.value}),placeholder:"Ex: SBSP  SBRJ | 02/01/2026",hint:"Opcional: identifique a qual voo esta receita se refere"})}),o.jsx("div",{style:{marginTop:"1rem"},children:o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:k.rateioAutomatico!==!1,onChange:B=>{const ce=B.target.checked;L({...k,rateioAutomatico:ce,rateioManual:!ce&&!k.rateioManual?y.filter(we=>we.status==="ativo").map(we=>({memberId:we.userId,grupo:void 0,valor:0})):k.rateioManual})}}),"Aplicar rateio automtico entre os membros"]})}),k.rateioAutomatico===!1&&o.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"var(--bg-secondary)",borderRadius:"0.5rem",border:"1px solid var(--border-color)"},children:[o.jsx("h4",{style:{margin:"0 0 1rem",fontSize:"0.9375rem",fontWeight:600,color:"var(--text-primary)"},children:"Rateio Manual"}),o.jsx("p",{style:{margin:"0 0 1rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Informe o valor atribudo a cada grupo/membro. A soma deve ser igual ao valor total da receita."}),k.rateioManual&&k.rateioManual.length>0?o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[k.rateioManual.map((B,ce)=>{const we=S.find(gt=>gt.id===B.memberId),Le=y.find(gt=>gt.userId===B.memberId);return o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsx("span",{style:{fontSize:"0.875rem",fontWeight:500,color:"var(--text-primary)"},children:we?.nome||"Membro no encontrado"}),Le&&o.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginLeft:"0.5rem"},children:["(",Le.tipoParticipacao,")"]})]}),o.jsx("div",{style:{width:"150px"},children:o.jsx(Q,{type:"number",step:"0.01",min:"0",value:B.valor||"",onChange:gt=>{const ct=[...k.rateioManual||[]];ct[ce]={...ct[ce],valor:parseFloat(gt.target.value)||0},L({...k,rateioManual:ct})},placeholder:"0,00",required:!0})})]},B.memberId||ce)}),k.valor&&k.rateioManual&&o.jsxs("div",{style:{marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid var(--border-color)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"0.875rem",fontWeight:600,color:"var(--text-primary)"},children:"Soma dos valores:"}),o.jsx("span",{style:{fontSize:"0.875rem",fontWeight:600,color:(()=>{const B=k.rateioManual.reduce((we,Le)=>we+(Le.valor||0),0);return Math.abs(B-(k.valor||0))<=.01?"var(--success-color)":"var(--danger-color)"})()},children:le(k.rateioManual.reduce((B,ce)=>B+(ce.valor||0),0))})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.25rem"},children:[o.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Valor total da receita:"}),o.jsx("span",{style:{fontSize:"0.875rem",fontWeight:500,color:"var(--text-primary)"},children:le(k.valor||0)})]}),(()=>{const B=k.rateioManual.reduce((we,Le)=>we+(Le.valor||0),0),ce=Math.abs(B-(k.valor||0));return ce>.01?o.jsx("div",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"0.25rem",border:"1px solid rgba(239, 68, 68, 0.2)"},children:o.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--danger-color)"},children:[" Diferena: ",le(ce),". A soma deve ser igual ao valor total."]})}):null})()]})]}):o.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"var(--text-secondary)",fontSize:"0.875rem"},children:"Nenhum membro ativo encontrado para rateio."})]})]}),o.jsx(mt,{isOpen:C,onClose:()=>E(!1),title:F.id?"Editar Conta Bancria":"Nova Conta Bancria",size:"md",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>E(!1),children:"Cancelar"}),o.jsx(me,{onClick:Gr,children:"Salvar"})]}),children:o.jsxs("div",{className:"form-grid",children:[o.jsx(Q,{label:"Nome da Conta *",value:F.nome||"",onChange:B=>z({...F,nome:B.target.value}),placeholder:"Ex: Conta Corrente Principal",required:!0}),o.jsx(Q,{label:"Banco *",value:F.banco||"",onChange:B=>z({...F,banco:B.target.value}),placeholder:"Ex: Banco do Brasil",required:!0}),o.jsx(Q,{label:"Agncia",value:F.agencia||"",onChange:B=>z({...F,agencia:B.target.value}),placeholder:"0000-0"}),o.jsx(Q,{label:"Conta",value:F.conta||"",onChange:B=>z({...F,conta:B.target.value}),placeholder:"00000-0"}),o.jsx(Q,{label:"Saldo Inicial (R$)",type:"number",step:"0.01",value:F.saldoInicial||0,onChange:B=>{const ce=parseFloat(B.target.value)||0;z({...F,saldoInicial:ce,saldoAtual:F.id?F.saldoAtual:ce})},hint:F.id?"O saldo atual ser recalculado automaticamente":"Saldo inicial da conta"}),F.id&&o.jsxs("div",{style:{gridColumn:"1 / -1",padding:"0.75rem",background:"var(--info-bg)",borderRadius:"0.25rem",border:"1px solid var(--info-border)"},children:[o.jsx("div",{style:{fontSize:"0.875rem",fontWeight:500,marginBottom:"0.25rem"},children:"Saldo Atual:"}),o.jsx("div",{style:{fontSize:"1.125rem",fontWeight:600,color:F.saldoAtual&&F.saldoAtual>=0?"var(--success-color)":"var(--danger-color)"},children:le(F.saldoAtual||0)}),o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:"O saldo  calculado automaticamente com base nas receitas e despesas vinculadas a esta conta."})]}),o.jsx("div",{style:{gridColumn:"1 / -1"},children:o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:F.ativa!==!1,onChange:B=>z({...F,ativa:B.target.checked})}),"Conta ativa"]})})]})}),o.jsx(mt,{isOpen:P,onClose:()=>R(!1),title:q.id?"Editar Aplicao Financeira":"Nova Aplicao Financeira",size:"md",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>R(!1),children:"Cancelar"}),o.jsx(me,{onClick:()=>{if(!t||!r||!q.nome||!q.instituicao||!q.valorAplicado||!q.taxaRendimento){alert("Preencha todos os campos obrigatrios");return}const B={...q,aircraftId:r.id,reserveId:he?.id||"",ativa:q.ativa!==!1};U.saveFinancialApplication(B,t.id,t.nome),Ye(),R(!1),Y({})},children:"Salvar"})]}),children:o.jsxs("div",{className:"form-grid",children:[o.jsx(Q,{label:"Nome da Aplicao *",value:q.nome||"",onChange:B=>Y({...q,nome:B.target.value}),placeholder:"Ex: CDB Banco XYZ, Tesouro IPCA+",required:!0}),o.jsx(Je,{label:"Tipo *",options:[{value:"CDB",label:"CDB"},{value:"LCI",label:"LCI"},{value:"LCA",label:"LCA"},{value:"Tesouro Direto",label:"Tesouro Direto"},{value:"Fundos",label:"Fundos"},{value:"Poupana",label:"Poupana"},{value:"Outros",label:"Outros"}],value:q.tipo||"",onChange:B=>Y({...q,tipo:B.target.value}),required:!0}),o.jsx(Q,{label:"Instituio Financeira *",value:q.instituicao||"",onChange:B=>Y({...q,instituicao:B.target.value}),placeholder:"Ex: Banco do Brasil, XP Investimentos",required:!0}),o.jsx(Q,{label:"Valor Aplicado (R$) *",type:"number",step:"0.01",min:"0.01",value:q.valorAplicado||"",onChange:B=>Y({...q,valorAplicado:parseFloat(B.target.value)}),required:!0}),o.jsx(Q,{label:"Taxa de Rendimento (% a.a.) *",type:"number",step:"0.01",min:"0",value:q.taxaRendimento||"",onChange:B=>Y({...q,taxaRendimento:parseFloat(B.target.value)}),placeholder:"Ex: 12.5 para 12,5% a.a.",required:!0}),o.jsx(Q,{label:"Data de Aplicao *",type:"date",value:q.dataAplicacao||"",onChange:B=>Y({...q,dataAplicacao:B.target.value}),required:!0}),o.jsx(Q,{label:"Data de Vencimento",type:"date",value:q.dataVencimento||"",onChange:B=>Y({...q,dataVencimento:B.target.value}),hint:"Opcional: data de vencimento da aplicao"}),o.jsx(Je,{label:"Liquidez",options:[{value:"diaria",label:"Diria"},{value:"vencimento",label:"No Vencimento"},{value:"d+1",label:"D+1"},{value:"d+30",label:"D+30"},{value:"outros",label:"Outros"}],value:q.liquidez||"vencimento",onChange:B=>Y({...q,liquidez:B.target.value})}),o.jsx("div",{style:{gridColumn:"1 / -1"},children:o.jsx(Q,{label:"Observaes",value:q.observacoes||"",onChange:B=>Y({...q,observacoes:B.target.value}),placeholder:"Informaes adicionais sobre a aplicao"})}),o.jsx("div",{style:{gridColumn:"1 / -1"},children:o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:q.ativa!==!1,onChange:B=>Y({...q,ativa:B.target.checked})}),"Aplicao ativa"]})}),q.valorAplicado&&q.taxaRendimento&&q.dataAplicacao&&o.jsxs("div",{style:{gridColumn:"1 / -1",padding:"0.75rem",background:"var(--info-bg)",borderRadius:"0.25rem",border:"1px solid var(--info-border)"},children:[o.jsx("div",{style:{fontSize:"0.875rem",fontWeight:500,marginBottom:"0.5rem"},children:"Previso de Rendimento:"}),(()=>{const B={...q,valorAplicado:q.valorAplicado||0,taxaRendimento:q.taxaRendimento||0,dataAplicacao:q.dataAplicacao||new Date().toISOString().split("T")[0]},ce=U.calculateApplicationYield(B);return o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.5rem",fontSize:"0.875rem"},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Dias decorridos:"}),o.jsxs("div",{style:{fontWeight:600},children:[ce.diasDecorridos," dias"]})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Rendimento lquido:"}),o.jsx("div",{style:{fontWeight:600,color:"var(--success-color)"},children:le(ce.rendimentoLiquido)})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Valor atual estimado:"}),o.jsx("div",{style:{fontWeight:600},children:le(ce.valorAtual)})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Rentabilidade:"}),o.jsxs("div",{style:{fontWeight:600,color:"var(--success-color)"},children:[ce.rendimentoPercentual.toFixed(2),"%"]})]})]})})()]})]})}),o.jsx(mt,{isOpen:W,onClose:()=>{J(!1),re({}),fe(null)},title:D.id?"Editar Aplicao do Caixa":"Nova Aplicao do Caixa",size:"lg",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>{J(!1),re({}),fe(null)},children:"Cancelar"}),o.jsx(me,{onClick:()=>{if(!t||!r)return;const B=U.getAvailableCash(r.id,D.cashAccountId),ce=D.principal||0;if(!ce||ce<=0){alert("Informe o valor a aplicar");return}if(!Me&&ce>B){alert(`Valor a aplicar (${le(ce)})  maior que o caixa disponvel (${le(B)})`);return}if(!D.startDate||!D.endDate){alert("Informe as datas de incio e fim");return}if(new Date(D.endDate)<=new Date(D.startDate)){alert("Data de fim deve ser posterior  data de incio");return}const we={...D,aircraftId:r.id,userId:t.id,principal:ce,status:D.status||"ACTIVE",params:{...D.params,base:D.params?.base||252,capitalization:D.params?.capitalization||"diaria"}};try{const Le=Cr(we);we.estimatedFinalValue=Le.finalValue,U.saveCashInvestment(we,t.id,t.nome),Ye(),J(!1),re({}),fe(null)}catch(Le){alert("Erro ao salvar: "+Le.message)}},children:"Confirmar Aplicao"})]}),children:o.jsxs("div",{className:"form-grid",children:[o.jsxs("div",{style:{gridColumn:"1 / -1"},children:[o.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"flex-end"},children:[o.jsx("div",{style:{flex:1},children:o.jsx(Q,{label:"Valor a Aplicar (R$) *",type:"number",step:"0.01",min:"0.01",value:D.principal||"",onChange:B=>{const ce=parseFloat(B.target.value)||0;if(re({...D,principal:ce}),ce>0&&D.startDate&&D.endDate&&D.investmentType)try{const we={...D,principal:ce},Le=Cr(we);fe(Le)}catch{}},required:!0})}),o.jsx(me,{variant:"secondary",onClick:()=>{const B=U.getAvailableCash(r.id,D.cashAccountId);if(re({...D,principal:B}),D.startDate&&D.endDate&&D.investmentType)try{const ce={...D,principal:B},we=Cr(ce);fe(we)}catch{}},children:"Aplicar 100%"})]}),o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginTop:"0.25rem"},children:["Caixa disponvel: ",le(U.getAvailableCash(r.id,D.cashAccountId))]})]}),o.jsx(Je,{label:"Conta de Caixa *",options:f.map(B=>({value:B.id,label:`${B.nome} (${le(B.saldoAtual)})`})),value:D.cashAccountId||"",onChange:B=>re({...D,cashAccountId:B.target.value}),required:!0}),o.jsx(Je,{label:"Tipo de Aplicao *",options:[{value:"CDI",label:"CDI (% do CDI)"},{value:"POS_FIXADO",label:"Ps-fixado (Taxa anual)"},{value:"PREFIXADO",label:"Prefixado (Taxa anual)"},{value:"IPCA_PLUS",label:"IPCA+"},{value:"POUPANCA",label:"Poupana"},{value:"SELIC",label:"SELIC"},{value:"CDB",label:"CDB"},{value:"LCI",label:"LCI"},{value:"LCA",label:"LCA"}],value:D.investmentType||"CDI",onChange:B=>{const ce=B.target.value,we={...D.params};if(ce==="CDI"?we.percentCDI=we.percentCDI||100:ce==="POS_FIXADO"||ce==="PREFIXADO"||ce==="CDB"||ce==="LCI"||ce==="LCA"?we.annualRate=we.annualRate||13.25:ce==="IPCA_PLUS"&&(we.ipcaExpected=we.ipcaExpected||4.62,we.spread=we.spread||6),re({...D,investmentType:ce,params:we}),D.principal&&D.startDate&&D.endDate)try{const Le={...D,investmentType:ce,params:we},gt=Cr(Le);fe(gt)}catch{}},required:!0}),D.investmentType==="CDI"&&o.jsx(o.Fragment,{children:o.jsx(Q,{label:"% do CDI *",type:"number",step:"0.01",min:"0",value:D.params?.percentCDI||"",onChange:B=>{const ce={...D.params,percentCDI:parseFloat(B.target.value),base:D.params?.base||252,capitalization:D.params?.capitalization||"diaria"};if(re({...D,params:ce}),D.principal&&D.startDate&&D.endDate)try{const we={...D,params:ce},Le=Cr(we);fe(Le)}catch{}},placeholder:"Ex: 100 para 100% do CDI",required:!0})}),(D.investmentType==="POS_FIXADO"||D.investmentType==="PREFIXADO"||D.investmentType==="CDB"||D.investmentType==="LCI"||D.investmentType==="LCA")&&o.jsx(Q,{label:"Taxa Anual (% a.a.) *",type:"number",step:"0.01",min:"0",value:D.params?.annualRate||"",onChange:B=>{const ce={...D.params,annualRate:parseFloat(B.target.value),base:D.params?.base||252,capitalization:D.params?.capitalization||"diaria"};if(re({...D,params:ce}),D.principal&&D.startDate&&D.endDate)try{const we={...D,params:ce},Le=Cr(we);fe(Le)}catch{}},placeholder:"Ex: 13.25 para 13,25% a.a.",required:!0}),D.investmentType==="IPCA_PLUS"&&o.jsxs(o.Fragment,{children:[o.jsx(Q,{label:"IPCA Esperado (% a.a.) *",type:"number",step:"0.01",min:"0",value:D.params?.ipcaExpected||"",onChange:B=>{const ce={...D.params,ipcaExpected:parseFloat(B.target.value),base:D.params?.base||252,capitalization:D.params?.capitalization||"diaria"};if(re({...D,params:ce}),D.principal&&D.startDate&&D.endDate)try{const we={...D,params:ce},Le=Cr(we);fe(Le)}catch{}},placeholder:"Ex: 4.62 para 4,62% a.a.",required:!0}),o.jsx(Q,{label:"Spread (% a.a.) *",type:"number",step:"0.01",min:"0",value:D.params?.spread||"",onChange:B=>{const ce={...D.params,spread:parseFloat(B.target.value),base:D.params?.base||252,capitalization:D.params?.capitalization||"diaria"};if(re({...D,params:ce}),D.principal&&D.startDate&&D.endDate)try{const we={...D,params:ce},Le=Cr(we);fe(Le)}catch{}},placeholder:"Ex: 6 para IPCA + 6%",required:!0})]}),o.jsx(Je,{label:"Base de Clculo",options:[{value:"252",label:"252 dias (dias teis)"},{value:"365",label:"365 dias (dias corridos)"}],value:String(D.params?.base||252),onChange:B=>{const ce={...D.params,base:parseInt(B.target.value),capitalization:D.params?.capitalization||"diaria"};if(re({...D,params:ce}),D.principal&&D.startDate&&D.endDate)try{const we={...D,params:ce},Le=Cr(we);fe(Le)}catch{}}}),o.jsx(Je,{label:"Capitalizao",options:[{value:"diaria",label:"Diria"},{value:"mensal",label:"Mensal"}],value:D.params?.capitalization||"diaria",onChange:B=>{const ce={...D.params,capitalization:B.target.value,base:D.params?.base||252};if(re({...D,params:ce}),D.principal&&D.startDate&&D.endDate)try{const we={...D,params:ce},Le=Cr(we);fe(Le)}catch{}}}),o.jsx(Q,{label:"Data de Incio *",type:"date",value:D.startDate||"",onChange:B=>{if(re({...D,startDate:B.target.value}),D.principal&&B.target.value&&D.endDate&&D.investmentType)try{const ce={...D,startDate:B.target.value},we=Cr(ce);fe(we)}catch{}},required:!0}),o.jsx(Q,{label:"Data de Fim *",type:"date",value:D.endDate||"",onChange:B=>{if(re({...D,endDate:B.target.value}),D.principal&&D.startDate&&B.target.value&&D.investmentType)try{const ce={...D,endDate:B.target.value},we=Cr(ce);fe(we)}catch{}},required:!0}),o.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:D.isSimulation||!1,onChange:B=>re({...D,isSimulation:B.target.checked})}),"Apenas simulao (no mexe no caixa/ledger)"]}),o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:Me,onChange:B=>Re(B.target.checked)}),"Permitir saldo negativo"]})]}),K&&o.jsxs("div",{style:{gridColumn:"1 / -1",padding:"1rem",background:"var(--success-bg)",borderRadius:"0.5rem",border:"1px solid var(--success-border)"},children:[o.jsx("h4",{style:{margin:"0 0 0.75rem",fontSize:"0.9375rem",fontWeight:600},children:"Resultado do Clculo"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.75rem",fontSize:"0.875rem"},children:[o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Valor Principal (VP):"}),o.jsx("div",{style:{fontWeight:600,marginTop:"0.25rem"},children:le(K.principal)})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Valor Final (VF):"}),o.jsx("div",{style:{fontWeight:600,color:"var(--success-color)",marginTop:"0.25rem"},children:le(K.finalValue)})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Juros Ganhos:"}),o.jsx("div",{style:{fontWeight:600,color:"var(--success-color)",marginTop:"0.25rem"},children:le(K.interestEarned)})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Rentabilidade no Perodo:"}),o.jsxs("div",{style:{fontWeight:600,color:"var(--success-color)",marginTop:"0.25rem"},children:[K.periodReturn.toFixed(2),"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Rentabilidade Anual Equivalente:"}),o.jsxs("div",{style:{fontWeight:600,color:"var(--success-color)",marginTop:"0.25rem"},children:[K.annualEquivalentReturn.toFixed(2),"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Dias:"}),o.jsxs("div",{style:{fontWeight:600,marginTop:"0.25rem"},children:[K.daysElapsed," corridos",K.calculationDetails.baseUsed===252&&` / ~${K.businessDaysEstimated} teis`]})]})]})]})]})})]}):o.jsxs("div",{className:"empty-state",children:[o.jsx(vi,{size:64,className:"empty-state-icon"}),o.jsx("h3",{children:"Selecione uma aeronave"}),o.jsx("p",{children:"Selecione uma aeronave no menu lateral para gerenciar o financeiro."})]})}const Zl=["#6366f1","#22c55e","#f59e0b","#ef4444","#8b5cf6","#06b6d4"],Yee=[{value:"imobilizado",label:"Imobilizado"},{value:"veiculo",label:"Veculo"},{value:"equipamento",label:"Equipamento"},{value:"outros",label:"Outros"}],sN=[{value:"em_construcao",label:"Em Construo"},{value:"concluido",label:"Concludo"},{value:"em_uso",label:"Em Uso"},{value:"baixado",label:"Baixado"}],lN=[{value:"aporte",label:"Aporte"},{value:"uso_emergencial",label:"Uso Emergencial"},{value:"ajuste",label:"Ajuste"},{value:"rendimento",label:"Rendimento"}];function Xee(){const{user:t}=cr(),{selectedAircraft:e}=Ir(),[r,n]=N.useState("visao_geral"),[a,i]=N.useState(null),[s,c]=N.useState(null),[d,f]=N.useState([]),[p,m]=N.useState([]),[v,y]=N.useState([]),[w,S]=N.useState([]),[b,_]=N.useState([]),[A,x]=N.useState(!1),[T,C]=N.useState(!1),[E,P]=N.useState(!1),[R,M]=N.useState({}),[$,k]=N.useState({}),[L,F]=N.useState({}),[z,q]=N.useState("");N.useEffect(()=>{e&&Y(),_(U.getUsers())},[e]);const Y=()=>{if(!e)return;i(U.getFinancialDashboard(e.id));let D=U.getMarginReserve(e.id);!D&&t&&(D=U.initializeMarginReserve(e.id,t.id,t.nome)),c(D||null),f(U.getMarginReserveMovements(void 0,e.id)),m(U.getAircraftAssets(e.id)),y(U.getAssetInvestments(void 0,e.id)),S(U.getMemberships(e.id))},te=()=>{if(!(!t||!e||!s))try{if(L.tipo==="uso_emergencial"&&!L.justificativa){alert("Justificativa  obrigatria para uso emergencial");return}const D={...L,reserveId:s.id,aircraftId:e.id,data:L.data||new Date().toISOString().split("T")[0]};U.saveMarginReserveMovement(D,t.id,t.nome),Y(),P(!1),F({})}catch(D){alert(D.message)}},ee=()=>{if(!t||!e||!R.nome)return;const D={...R,aircraftId:e.id,participacaoSocios:R.participacaoSocios||[]};U.saveAircraftAsset(D,t.id,t.nome),Y(),x(!1),M({})},oe=D=>{t&&confirm("Tem certeza que deseja excluir este ativo?")&&(U.deleteAircraftAsset(D,t.id,t.nome),Y())},ue=()=>{if(!t||!e||!z||!$.valor)return;const D=w.filter(fe=>fe.status==="ativo"),re=D.map(fe=>{const Me=fe.cotaPercentual||100/D.length;return{socioId:fe.userId,percentual:Me,valor:($.valor||0)*(Me/100)}}),K={...$,assetId:z,aircraftId:e.id,rateioPorSocio:re};U.saveAssetInvestment(K,t.id,t.nome),Y(),C(!1),k({}),q("")},W=s&&a?[{name:"Caixa Operacional",value:Math.max(0,a.caixaOperacional),color:Zl[0]},{name:"Reserva de Margem",value:s.saldoAtual,color:Zl[1]},{name:"Ativos Imobilizados",value:a.patrimonioAtivos.valorTotal,color:Zl[2]}].filter(D=>D.value>0):[],J=U.getPatrimonyBySocio(e?.id||"");return e?o.jsxs("div",{className:"patrimonio-page",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{children:[o.jsx("h1",{children:"Patrimnio"}),o.jsxs("p",{className:"page-subtitle",children:["Gesto patrimonial e liquidez - ",e.prefixo]})]})}),o.jsxs("div",{className:"tabs",children:[o.jsxs("button",{className:`tab ${r==="visao_geral"?"active":""}`,onClick:()=>n("visao_geral"),children:[o.jsx(jc,{size:18}),"Viso Geral"]}),o.jsxs("button",{className:`tab ${r==="reserva_margem"?"active":""}`,onClick:()=>n("reserva_margem"),children:[o.jsx(io,{size:18}),"Reserva de Margem",s?.status==="risco_liquidez"&&o.jsx("span",{className:"tab-badge danger",children:"!"})]}),o.jsxs("button",{className:`tab ${r==="ativos"?"active":""}`,onClick:()=>n("ativos"),children:[o.jsx(di,{size:18}),"Ativos"]}),o.jsxs("button",{className:`tab ${r==="participacao"?"active":""}`,onClick:()=>n("participacao"),children:[o.jsx(ia,{size:18}),"Participao por Scio"]})]}),r==="visao_geral"&&a&&s&&o.jsxs("div",{className:"overview-content",children:[o.jsxs("div",{className:"overview-summary",children:[o.jsx(pe,{className:"summary-card",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("div",{className:"summary-icon blue",children:o.jsx(Bz,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:le(a.caixaTotal)}),o.jsx("span",{className:"summary-label",children:"Caixa Total"})]})]})}),o.jsx(pe,{className:"summary-card",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("div",{className:"summary-icon green",children:o.jsx(vi,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:le(a.caixaOperacional)}),o.jsx("span",{className:"summary-label",children:"Caixa Operacional"})]})]})}),o.jsxs(pe,{className:`summary-card ${s.status==="risco_liquidez"?"danger":s.status==="atencao"?"warning":""}`,children:[o.jsxs("div",{className:"summary-content",children:[o.jsx("div",{className:`summary-icon ${s.status==="risco_liquidez"?"red":s.status==="atencao"?"orange":"green"}`,children:o.jsx(io,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:le(s.saldoAtual)}),o.jsx("span",{className:"summary-label",children:"Reserva de Margem"})]})]}),s.status==="risco_liquidez"&&o.jsxs("div",{className:"card-alert",children:[o.jsx(Tr,{size:14}),o.jsx("span",{children:"RISCO DE LIQUIDEZ"})]})]}),o.jsx(pe,{className:"summary-card",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("div",{className:"summary-icon purple",children:o.jsx(di,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:le(a.patrimonioAtivos.valorTotal)}),o.jsx("span",{className:"summary-label",children:"Ativos Imobilizados"})]})]})})]}),o.jsxs("div",{className:"indicators-grid",children:[o.jsxs(pe,{title:"Cobertura da Reserva de Margem",children:[o.jsxs("div",{className:"indicator-value-large",children:[o.jsx("span",{className:s.percentualPreenchimento<100?"danger":s.percentualPreenchimento<110?"warning":"success",children:cs(s.percentualPreenchimento)}),o.jsxs("small",{children:["Meta: 100% (R$ ",s.valorMinimoObrigatorio.toLocaleString("pt-BR"),")"]})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:`progress-fill ${s.percentualPreenchimento<100?"danger":s.percentualPreenchimento<110?"warning":"success"}`,style:{width:`${Math.min(s.percentualPreenchimento,100)}%`}})}),s.excedente<0&&o.jsxs("div",{className:"deficit-alert",children:[o.jsx(Tr,{size:16}),"Dficit: ",le(Math.abs(s.excedente))]}),s.excedente>0&&o.jsxs("div",{className:"surplus-info",children:[o.jsx(yi,{size:16}),"Excedente: ",le(s.excedente)]})]}),o.jsx(pe,{title:"Composio Patrimonial",children:W.length>0?o.jsx(kr,{width:"100%",height:200,children:o.jsxs(gu,{children:[o.jsx(un,{data:W,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,label:({percent:D})=>`${(D*100).toFixed(0)}%`,children:W.map((D,re)=>o.jsx(Si,{fill:D.color},`cell-${re}`))}),o.jsx(Tt,{formatter:D=>le(D)}),o.jsx(cn,{})]})}):o.jsx("p",{className:"empty-message",children:"Nenhum dado disponvel"})}),o.jsx(pe,{title:"Patrimnio Total",children:o.jsxs("div",{className:"patrimonio-total",children:[o.jsx("div",{className:"patrimonio-total-value",children:le(a.indicadores.patrimonioTotal)}),o.jsxs("div",{className:"patrimonio-breakdown",children:[o.jsxs("div",{className:"breakdown-item",children:[o.jsx("span",{children:"Caixa (Operacional + Reserva)"}),o.jsx("span",{children:le(a.caixaTotal)})]}),o.jsxs("div",{className:"breakdown-item",children:[o.jsx("span",{children:"Ativos Imobilizados"}),o.jsx("span",{children:le(a.patrimonioAtivos.valorTotal)})]}),a.patrimonioAtivos.emConstrucao>0&&o.jsxs("div",{className:"breakdown-item sub",children:[o.jsx("span",{children:" Em Construo"}),o.jsx("span",{children:le(a.patrimonioAtivos.emConstrucao)})]}),a.patrimonioAtivos.concluido>0&&o.jsxs("div",{className:"breakdown-item sub",children:[o.jsx("span",{children:" Concludos"}),o.jsx("span",{children:le(a.patrimonioAtivos.concluido)})]})]})]})})]})]}),r==="reserva_margem"&&s&&o.jsxs("div",{className:"reserve-content",children:[o.jsxs(pe,{className:`reserve-status-card ${s.status}`,children:[o.jsxs("div",{className:"reserve-header",children:[o.jsxs("div",{className:"reserve-info",children:[o.jsx("h2",{children:"Reserva de Margem"}),o.jsx("p",{children:"Conta separada para garantir liquidez mnima - No entra no caixa operacional"})]}),o.jsx(Ze,{variant:s.status==="normal"?"success":s.status==="atencao"?"warning":"danger",size:"lg",children:s.status==="normal"?"NORMAL":s.status==="atencao"?"ATENO":"RISCO DE LIQUIDEZ"})]}),o.jsxs("div",{className:"reserve-stats",children:[o.jsxs("div",{className:"reserve-stat",children:[o.jsx("span",{className:"stat-label",children:"Saldo Atual"}),o.jsx("span",{className:`stat-value ${s.saldoAtual>=s.valorMinimoObrigatorio?"positive":"negative"}`,children:le(s.saldoAtual)})]}),o.jsxs("div",{className:"reserve-stat",children:[o.jsx("span",{className:"stat-label",children:"Mnimo Obrigatrio"}),o.jsx("span",{className:"stat-value",children:le(s.valorMinimoObrigatorio)})]}),o.jsxs("div",{className:"reserve-stat",children:[o.jsx("span",{className:"stat-label",children:s.excedente>=0?"Excedente":"Dficit"}),o.jsxs("span",{className:`stat-value ${s.excedente>=0?"positive":"negative"}`,children:[s.excedente>=0?o.jsx(Sz,{size:16}):o.jsx(xz,{size:16}),le(Math.abs(s.excedente))]})]}),o.jsxs("div",{className:"reserve-stat",children:[o.jsx("span",{className:"stat-label",children:"% Preenchimento"}),o.jsx("span",{className:`stat-value ${s.percentualPreenchimento>=100?"positive":"negative"}`,children:cs(s.percentualPreenchimento)})]})]}),t?.role==="admin"&&o.jsxs("div",{className:"reserve-actions",children:[o.jsx(me,{icon:o.jsx(Zt,{size:18}),onClick:()=>{F({tipo:"aporte",valor:0}),P(!0)},children:"Registrar Aporte"}),o.jsx(me,{variant:"danger",icon:o.jsx(Tr,{size:18}),onClick:()=>{F({tipo:"uso_emergencial",valor:0}),P(!0)},children:"Uso Emergencial"})]})]}),o.jsx(pe,{title:"Regras da Reserva de Margem",className:"rules-card",children:o.jsxs("ul",{className:"rules-list",children:[o.jsxs("li",{children:[o.jsx(io,{size:16}),o.jsxs("span",{children:["A reserva de ",o.jsx("strong",{children:"R$ 200.000,00"})," deve estar sempre disponvel em conta separada."]})]}),o.jsxs("li",{children:[o.jsx(vi,{size:16}),o.jsxs("span",{children:["Este valor ",o.jsx("strong",{children:"no entra no clculo de caixa operacional"})," e no pode ser usado para despesas comuns."]})]}),o.jsxs("li",{children:[o.jsx(ia,{size:16}),o.jsxs("span",{children:["Somente ",o.jsx("strong",{children:"administradores"})," podem movimentar esta reserva."]})]}),o.jsxs("li",{children:[o.jsx(Tr,{size:16}),o.jsxs("span",{children:["Uso emergencial requer ",o.jsx("strong",{children:"justificativa obrigatria"})," e fica registrado na auditoria."]})]})]})}),o.jsx(pe,{title:"Histrico de Movimentaes",children:d.length>0?o.jsx(Qt,{columns:[{key:"data",header:"Data",render:D=>ht(D.data)},{key:"tipo",header:"Tipo",render:D=>o.jsx(Ze,{variant:D.tipo==="aporte"?"success":D.tipo==="uso_emergencial"?"danger":"info",children:lN.find(re=>re.value===D.tipo)?.label||D.tipo})},{key:"valor",header:"Valor",align:"right",render:D=>o.jsxs("span",{className:D.valor>=0?"positive":"negative",children:[D.valor>=0?"+":"",le(D.valor)]})},{key:"saldoApos",header:"Saldo Aps",align:"right",render:D=>le(D.saldoApos)},{key:"observacoes",header:"Observaes",render:D=>D.justificativa||D.observacoes||"-"}],data:d,keyExtractor:D=>D.id}):o.jsx("p",{className:"empty-message",children:"Nenhuma movimentao registrada"})})]}),r==="ativos"&&o.jsxs("div",{className:"assets-content",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{children:"Ativos Patrimoniais"}),t?.role==="admin"&&o.jsx(me,{icon:o.jsx(Zt,{size:18}),onClick:()=>{M({tipo:"imobilizado",status:"em_construcao",valorEstimadoTotal:0}),x(!0)},children:"Novo Ativo"})]}),p.length>0?o.jsx("div",{className:"assets-grid",children:p.map(D=>o.jsxs(pe,{className:`asset-card ${D.status}`,children:[o.jsxs("div",{className:"asset-header",children:[o.jsx("div",{className:"asset-icon",children:o.jsx(di,{size:24})}),o.jsxs("div",{className:"asset-title",children:[o.jsx("h3",{children:D.nome}),o.jsx(Ze,{variant:D.status==="concluido"?"success":D.status==="em_construcao"?"warning":"info",children:sN.find(re=>re.value===D.status)?.label||D.status})]}),t?.role==="admin"&&o.jsxs("div",{className:"asset-actions",children:[o.jsx("button",{className:"action-btn",onClick:()=>{M(D),x(!0)},children:o.jsx(zr,{size:14})}),o.jsx("button",{className:"action-btn danger",onClick:()=>oe(D.id),children:o.jsx(Ur,{size:14})})]})]}),o.jsxs("div",{className:"asset-progress",children:[o.jsxs("div",{className:"progress-header",children:[o.jsx("span",{children:"Execuo"}),o.jsx("span",{children:cs(D.percentualExecucao)})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:`${Math.min(D.percentualExecucao,100)}%`}})})]}),o.jsxs("div",{className:"asset-values",children:[o.jsxs("div",{className:"value-item",children:[o.jsx("span",{className:"value-label",children:"Investido"}),o.jsx("span",{className:"value-amount",children:le(D.valorInvestidoAtual)})]}),o.jsxs("div",{className:"value-item",children:[o.jsx("span",{className:"value-label",children:"Oramento Total"}),o.jsx("span",{className:"value-amount",children:le(D.valorEstimadoTotal)})]})]}),D.participacaoSocios.length>0&&o.jsxs("div",{className:"asset-shareholders",children:[o.jsx("h4",{children:"Participao"}),D.participacaoSocios.map(re=>o.jsxs("div",{className:"shareholder-item",children:[o.jsx("span",{children:re.socioNome}),o.jsxs("span",{children:[cs(re.percentual)," (",le(re.valorInvestido),")"]})]},re.socioId))]}),t?.role==="admin"&&o.jsx(me,{variant:"outline",size:"sm",icon:o.jsx(Zt,{size:14}),onClick:()=>{q(D.id),k({data:new Date().toISOString().split("T")[0],valor:0}),C(!0)},children:"Registrar Investimento"})]},D.id))}):o.jsxs(pe,{className:"empty-card",children:[o.jsx(di,{size:48,className:"empty-icon"}),o.jsx("h3",{children:"Nenhum ativo cadastrado"}),o.jsx("p",{children:"Cadastre ativos patrimoniais como hangares, veculos ou equipamentos."}),t?.role==="admin"&&o.jsx(me,{icon:o.jsx(Zt,{size:18}),onClick:()=>{M({tipo:"imobilizado",status:"em_construcao",valorEstimadoTotal:0}),x(!0)},children:"Cadastrar Primeiro Ativo"})]}),v.length>0&&o.jsx(pe,{title:"Histrico de Investimentos (CAPEX)",className:"investments-history",children:o.jsx(Qt,{columns:[{key:"data",header:"Data",render:D=>ht(D.data)},{key:"ativo",header:"Ativo",render:D=>p.find(re=>re.id===D.assetId)?.nome||"-"},{key:"descricao",header:"Descrio"},{key:"valor",header:"Valor",align:"right",render:D=>le(D.valor)},{key:"fornecedor",header:"Fornecedor",render:D=>D.fornecedor||"-"}],data:v,keyExtractor:D=>D.id})})]}),r==="participacao"&&o.jsx("div",{className:"participation-content",children:o.jsx(pe,{title:"Patrimnio por Scio",children:J.length>0?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"participation-chart",children:o.jsx(kr,{width:"100%",height:300,children:o.jsxs(Ws,{data:J,layout:"vertical",margin:{left:100},children:[o.jsx(Vn,{strokeDasharray:"3 3"}),o.jsx(Vr,{type:"number",tickFormatter:D=>le(D)}),o.jsx(jr,{type:"category",dataKey:"socioNome"}),o.jsx(Tt,{formatter:D=>le(D)}),o.jsx(cn,{}),o.jsx(_r,{dataKey:"valorAeronave",name:"Cota Aeronave",fill:Zl[0],stackId:"a"}),o.jsx(_r,{dataKey:"valorAtivos",name:"Ativos",fill:Zl[2],stackId:"a"})]})})}),o.jsx(Qt,{columns:[{key:"socioNome",header:"Scio"},{key:"valorAeronave",header:"Cota Aeronave",align:"right",render:D=>le(D.valorAeronave)},{key:"valorAtivos",header:"Em Ativos",align:"right",render:D=>le(D.valorAtivos)},{key:"valorTotal",header:"Total",align:"right",render:D=>o.jsx("strong",{children:le(D.valorTotal)})},{key:"percentualTotal",header:"% do Patrimnio",align:"right",render:D=>cs(D.percentualTotal)}],data:J,keyExtractor:D=>D.socioId})]}):o.jsx("p",{className:"empty-message",children:"Nenhum scio cadastrado com participao"})})}),o.jsxs(mt,{isOpen:E,onClose:()=>P(!1),title:L.tipo==="uso_emergencial"?"Uso Emergencial da Reserva":"Registrar Movimentao",size:"md",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>P(!1),children:"Cancelar"}),o.jsx(me,{variant:L.tipo==="uso_emergencial"?"danger":"primary",onClick:te,children:L.tipo==="uso_emergencial"?"Confirmar Uso":"Salvar"})]}),children:[o.jsxs("div",{className:"form-grid",children:[o.jsx(Je,{label:"Tipo",options:lN,value:L.tipo||"aporte",onChange:D=>F({...L,tipo:D.target.value}),disabled:L.tipo==="uso_emergencial"}),o.jsx(Q,{label:"Data",type:"date",value:L.data||new Date().toISOString().split("T")[0],onChange:D=>F({...L,data:D.target.value})}),o.jsx(Q,{label:`Valor (R$) ${L.tipo==="uso_emergencial"?"- Sada":""}`,type:"number",step:"0.01",value:Math.abs(L.valor||0),onChange:D=>{const re=parseFloat(D.target.value);F({...L,valor:L.tipo==="uso_emergencial"?-Math.abs(re):Math.abs(re)})},required:!0}),L.tipo==="aporte"&&o.jsx(Je,{label:"Scio",options:[{value:"",label:"Selecione o scio"},...w.filter(D=>D.status==="ativo").map(D=>{const re=b.find(K=>K.id===D.userId);return{value:D.userId,label:re?.nome||"Desconhecido"}})],value:L.socioId||"",onChange:D=>F({...L,socioId:D.target.value})})]}),L.tipo==="uso_emergencial"&&o.jsxs("div",{style:{marginTop:"1rem"},children:[o.jsx(Q,{label:"Justificativa (OBRIGATRIA)",value:L.justificativa||"",onChange:D=>F({...L,justificativa:D.target.value}),placeholder:"Descreva o motivo do uso emergencial...",required:!0}),o.jsxs("div",{className:"warning-box",children:[o.jsx(Tr,{size:16}),o.jsx("span",{children:"Este uso ser registrado na trilha de auditoria com data, valor e justificativa."})]})]}),o.jsx("div",{style:{marginTop:"1rem"},children:o.jsx(Q,{label:"Observaes",value:L.observacoes||"",onChange:D=>F({...L,observacoes:D.target.value}),placeholder:"Observaes adicionais..."})})]}),o.jsxs(mt,{isOpen:A,onClose:()=>x(!1),title:R.id?"Editar Ativo":"Novo Ativo Patrimonial",size:"lg",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>x(!1),children:"Cancelar"}),o.jsx(me,{onClick:ee,children:"Salvar"})]}),children:[o.jsxs("div",{className:"form-grid",children:[o.jsx(Q,{label:"Nome do Ativo",value:R.nome||"",onChange:D=>M({...R,nome:D.target.value}),placeholder:"Ex: Hangar Prprio  Base XYZ",required:!0}),o.jsx(Je,{label:"Tipo",options:Yee,value:R.tipo||"imobilizado",onChange:D=>M({...R,tipo:D.target.value})}),o.jsx(Je,{label:"Status",options:sN,value:R.status||"em_construcao",onChange:D=>M({...R,status:D.target.value})}),o.jsx(Q,{label:"Localizao",value:R.localizacao||"",onChange:D=>M({...R,localizacao:D.target.value}),placeholder:"Ex: SBJD - Jundia"}),o.jsx(Q,{label:"Data de Incio",type:"date",value:R.dataInicioObra||"",onChange:D=>M({...R,dataInicioObra:D.target.value})}),o.jsx(Q,{label:"Valor Estimado Total (Oramento)",type:"number",step:"0.01",value:R.valorEstimadoTotal||"",onChange:D=>M({...R,valorEstimadoTotal:parseFloat(D.target.value)}),required:!0}),o.jsx(Q,{label:"Vida til (anos)",type:"number",value:R.vidaUtilAnos||"",onChange:D=>M({...R,vidaUtilAnos:parseInt(D.target.value)})})]}),o.jsx("div",{style:{marginTop:"1rem"},children:o.jsx(Q,{label:"Descrio",value:R.descricao||"",onChange:D=>M({...R,descricao:D.target.value}),placeholder:"Descrio do ativo..."})}),o.jsxs("div",{className:"info-box",children:[o.jsx(Ta,{size:16}),o.jsx("span",{children:"Os investimentos (CAPEX) sero automaticamente rateados entre os scios conforme suas cotas de participao."})]})]}),o.jsxs(mt,{isOpen:T,onClose:()=>C(!1),title:"Registrar Investimento (CAPEX)",size:"md",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>C(!1),children:"Cancelar"}),o.jsx(me,{onClick:ue,children:"Salvar"})]}),children:[o.jsxs("div",{className:"form-grid",children:[o.jsx(Q,{label:"Data",type:"date",value:$.data||new Date().toISOString().split("T")[0],onChange:D=>k({...$,data:D.target.value}),required:!0}),o.jsx(Q,{label:"Valor (R$)",type:"number",step:"0.01",value:$.valor||"",onChange:D=>k({...$,valor:parseFloat(D.target.value)}),required:!0}),o.jsx(Q,{label:"Fornecedor",value:$.fornecedor||"",onChange:D=>k({...$,fornecedor:D.target.value})}),o.jsx(Q,{label:"Nota Fiscal",value:$.notaFiscal||"",onChange:D=>k({...$,notaFiscal:D.target.value})}),o.jsx(Q,{label:"Categoria",value:$.categoria||"",onChange:D=>k({...$,categoria:D.target.value}),placeholder:"Ex: Material, Mo de obra, Projeto..."})]}),o.jsx("div",{style:{marginTop:"1rem"},children:o.jsx(Q,{label:"Descrio",value:$.descricao||"",onChange:D=>k({...$,descricao:D.target.value}),placeholder:"Descrio do investimento...",required:!0})}),o.jsxs("div",{className:"info-box",children:[o.jsx(Rz,{size:16}),o.jsx("span",{children:"Este valor ser automaticamente rateado entre os scios conforme suas cotas de participao na aeronave."})]})]})]}):o.jsxs("div",{className:"empty-state",children:[o.jsx(di,{size:64,className:"empty-state-icon"}),o.jsx("h3",{children:"Selecione uma aeronave"}),o.jsx("p",{children:"Selecione uma aeronave no menu lateral para gerenciar o patrimnio."})]})}const Jee=[{value:"aeronavegabilidade",label:"Certificado de Aeronavegabilidade"},{value:"seguro",label:"Seguro"},{value:"manual",label:"Manual"},{value:"diario_manutencao",label:"Dirio de Manuteno"},{value:"cma",label:"CMA"},{value:"licenca",label:"Licena"},{value:"habilitacao",label:"Habilitao"},{value:"outros",label:"Outros"}];function Qee(){const{user:t,permissions:e}=cr(),{selectedAircraft:r}=Ir(),[n,a]=N.useState([]),[i,s]=N.useState(!1),[c,d]=N.useState({}),[f,p]=N.useState("todos");N.useEffect(()=>{r&&m()},[r]);const m=()=>{r&&a(U.getDocuments(r.id))},v=()=>{if(!t||!r||!c.nome)return;const _={...c,aircraftId:r.id};U.saveDocument(_,t.id,t.nome),m(),s(!1),d({})},y=_=>{t&&confirm("Tem certeza que deseja excluir este documento?")&&(U.deleteDocument(_,t.id,t.nome),m())},w=_=>{if(!_.dataValidade)return{status:"ok",label:"Sem validade",variant:"default"};const A=zn(_.dataValidade);return A<=0?{status:"vencido",label:"Vencido",variant:"danger"}:A<=30?{status:"proximo",label:`${A} dias`,variant:"warning"}:{status:"ok",label:`${A} dias`,variant:"success"}},S=n.filter(_=>{if(f==="todos")return!0;const A=w(_).status;return f==="vencidos"?A==="vencido":f==="proximos"?A==="proximo":f==="ok"?A==="ok":!0}),b={total:n.length,vencidos:n.filter(_=>w(_).status==="vencido").length,proximos:n.filter(_=>w(_).status==="proximo").length,ok:n.filter(_=>w(_).status==="ok"&&_.dataValidade).length};return r?o.jsxs("div",{className:"documentos-page",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Documentos"}),o.jsxs("p",{className:"page-subtitle",children:["Gesto de documentos - ",r.prefixo]})]}),e.canManageAircraft&&o.jsx(me,{icon:o.jsx(Zt,{size:18}),onClick:()=>{d({tipo:"outros",alertaAntesDias:30}),s(!0)},children:"Novo Documento"})]}),o.jsxs("div",{className:"docs-summary",children:[o.jsxs("button",{className:`summary-btn ${f==="todos"?"active":""}`,onClick:()=>p("todos"),children:[o.jsx("span",{className:"summary-count",children:b.total}),o.jsx("span",{className:"summary-label",children:"Total"})]}),o.jsxs("button",{className:`summary-btn danger ${f==="vencidos"?"active":""}`,onClick:()=>p("vencidos"),children:[o.jsx(Tr,{size:20}),o.jsx("span",{className:"summary-count",children:b.vencidos}),o.jsx("span",{className:"summary-label",children:"Vencidos"})]}),o.jsxs("button",{className:`summary-btn warning ${f==="proximos"?"active":""}`,onClick:()=>p("proximos"),children:[o.jsx(_n,{size:20}),o.jsx("span",{className:"summary-count",children:b.proximos}),o.jsx("span",{className:"summary-label",children:"Prximos"})]}),o.jsxs("button",{className:`summary-btn success ${f==="ok"?"active":""}`,onClick:()=>p("ok"),children:[o.jsx(of,{size:20}),o.jsx("span",{className:"summary-count",children:b.ok}),o.jsx("span",{className:"summary-label",children:"OK"})]})]}),o.jsxs("div",{className:"docs-grid",children:[S.map(_=>{const A=w(_);return o.jsxs(pe,{className:`doc-card status-${A.status}`,children:[o.jsxs("div",{className:"doc-header",children:[o.jsx("div",{className:"doc-icon",children:o.jsx(Ta,{size:24})}),o.jsx("div",{className:"doc-actions",children:e.canManageAircraft&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"action-btn",onClick:()=>{d(_),s(!0)},children:o.jsx(zr,{size:16})}),o.jsx("button",{className:"action-btn danger",onClick:()=>y(_.id),children:o.jsx(Ur,{size:16})})]})})]}),o.jsxs("div",{className:"doc-info",children:[o.jsx("h3",{children:_.nome}),o.jsx("p",{className:"doc-type",children:Oee(_.tipo)}),_.numero&&o.jsxs("p",{className:"doc-number",children:["N ",_.numero]})]}),o.jsxs("div",{className:"doc-dates",children:[_.dataEmissao&&o.jsxs("div",{className:"date-item",children:[o.jsx("span",{className:"date-label",children:"Emisso"}),o.jsx("span",{className:"date-value",children:ht(_.dataEmissao)})]}),_.dataValidade&&o.jsxs("div",{className:"date-item",children:[o.jsx("span",{className:"date-label",children:"Validade"}),o.jsx("span",{className:"date-value",children:ht(_.dataValidade)})]})]}),o.jsx("div",{className:"doc-footer",children:o.jsx(Ze,{variant:A.variant,children:A.label})})]},_.id)}),S.length===0&&o.jsx("div",{className:"empty-list full-width",children:o.jsx("p",{children:"Nenhum documento encontrado"})})]}),o.jsxs(mt,{isOpen:i,onClose:()=>s(!1),title:c.id?"Editar Documento":"Novo Documento",size:"md",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>s(!1),children:"Cancelar"}),o.jsx(me,{onClick:v,children:"Salvar"})]}),children:[o.jsxs("div",{className:"form-grid",children:[o.jsx(Q,{label:"Nome",value:c.nome||"",onChange:_=>d({...c,nome:_.target.value}),placeholder:"Nome do documento",required:!0}),o.jsx(Je,{label:"Tipo",options:Jee,value:c.tipo||"outros",onChange:_=>d({...c,tipo:_.target.value})}),o.jsx(Q,{label:"Nmero",value:c.numero||"",onChange:_=>d({...c,numero:_.target.value})}),o.jsx(Q,{label:"Data de Emisso",type:"date",value:c.dataEmissao||"",onChange:_=>d({...c,dataEmissao:_.target.value})}),o.jsx(Q,{label:"Data de Validade",type:"date",value:c.dataValidade||"",onChange:_=>d({...c,dataValidade:_.target.value})}),o.jsx(Q,{label:"Alertar antes (dias)",type:"number",value:c.alertaAntesDias||30,onChange:_=>d({...c,alertaAntesDias:parseInt(_.target.value)})})]}),o.jsx("div",{style:{marginTop:"1rem"},children:o.jsx(Q,{label:"Descrio",value:c.descricao||"",onChange:_=>d({...c,descricao:_.target.value}),placeholder:"Descrio adicional..."})})]})]}):o.jsxs("div",{className:"empty-state",children:[o.jsx(Ta,{size:64,className:"empty-state-icon"}),o.jsx("h3",{children:"Selecione uma aeronave"}),o.jsx("p",{children:"Selecione uma aeronave no menu lateral para gerenciar documentos."})]})}function Zee(){const{user:t}=cr(),{selectedAircraft:e}=Ir(),[r,n]=N.useState([]),[a,i]=N.useState([]),[s,c]=N.useState(new Date),[d,f]=N.useState(null),[p,m]=N.useState(!1),[v,y]=N.useState({});N.useEffect(()=>{e&&w(),i(U.getUsers())},[e]);const w=()=>{e&&n(U.getBookings(e.id).filter(C=>!C.cancelado))},S=()=>{if(!(!t||!e||!v.dataInicio||!v.dataFim))try{const C={...v,aircraftId:e.id,memberId:v.memberId||t.id,confirmado:!0,cancelado:!1,notificacaoEnviada:!1};U.saveBooking(C,t.id,t.nome),w(),m(!1),y({})}catch{alert("Conflito de agendamento detectado!")}},b=C=>{if(t&&confirm("Tem certeza que deseja cancelar este agendamento?")){const E={...C,cancelado:!0,motivoCancelamento:"Cancelado pelo usurio"};U.saveBooking(E,t.id,t.nome),w()}},_=()=>o.jsxs("div",{className:"calendar-header",children:[o.jsx("button",{className:"nav-btn",onClick:()=>c(Gk(s,-1)),children:o.jsx(Oz,{size:20})}),o.jsx("h2",{children:ci(s,"MMMM yyyy",{locale:bS})}),o.jsx("button",{className:"nav-btn",onClick:()=>c(Gk(s,1)),children:o.jsx(_b,{size:20})})]}),A=()=>{const C=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"];return o.jsx("div",{className:"calendar-days",children:C.map(E=>o.jsx("div",{className:"day-name",children:E},E))})},x=()=>{const C=NQ(s),E=kQ(C),P=CQ(C),R=IQ(E),M=[];let $=[],k=P;for(;k<=R;){for(let L=0;L<7;L++){const F=k,z=r.filter(q=>{const Y=ao(q.dataInicio),te=ao(q.dataFim);return F>=Y&&F<=te});$.push(o.jsxs("div",{className:`calendar-cell ${eN(k,C)?"":"disabled"} ${Yk(k,new Date)?"today":""} ${d&&Yk(k,d)?"selected":""}`,onClick:()=>{f(F),eN(F,C)&&y({dataInicio:ci(F,"yyyy-MM-dd'T'09:00"),dataFim:ci(F,"yyyy-MM-dd'T'17:00")})},children:[o.jsx("span",{className:"day-number",children:ci(k,"d")}),z.length>0&&o.jsxs("div",{className:"day-bookings",children:[z.slice(0,2).map(q=>{const Y=a.find(te=>te.id===q.memberId);return o.jsx("div",{className:"booking-dot",title:Y?.nome||"Reservado",children:Y?.nome.charAt(0)},q.id)}),z.length>2&&o.jsxs("span",{className:"more-bookings",children:["+",z.length-2]})]})]},k.toString())),k=_Q(k,1)}M.push(o.jsx("div",{className:"calendar-row",children:$},k.toString())),$=[]}return o.jsx("div",{className:"calendar-body",children:M})},T=d?r.filter(C=>{const E=ao(C.dataInicio),P=ao(C.dataFim);return d>=E&&d<=P}):[];return e?o.jsxs("div",{className:"agenda-page",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Agenda"}),o.jsxs("p",{className:"page-subtitle",children:["Agendamentos - ",e.prefixo]})]}),o.jsx(me,{icon:o.jsx(Zt,{size:18}),onClick:()=>{const C=new Date;y({dataInicio:ci(C,"yyyy-MM-dd'T'09:00"),dataFim:ci(C,"yyyy-MM-dd'T'17:00")}),m(!0)},children:"Novo Agendamento"})]}),o.jsxs("div",{className:"agenda-grid",children:[o.jsxs(pe,{className:"calendar-card",children:[_(),A(),x()]}),o.jsxs(pe,{title:d?`Agendamentos - ${ht(d)}`:"Prximos Agendamentos",children:[o.jsxs("div",{className:"bookings-list",children:[(d?T:r.slice(0,10)).map(C=>{const E=a.find(P=>P.id===C.memberId);return o.jsxs("div",{className:"booking-item",children:[o.jsxs("div",{className:"booking-info",children:[o.jsxs("div",{className:"booking-member",children:[o.jsx("div",{className:"member-avatar",children:E?.nome.charAt(0)}),o.jsxs("div",{children:[o.jsx("span",{className:"member-name",children:E?.nome}),o.jsxs("span",{className:"booking-dates",children:[Yx(C.dataInicio)," - ",Yx(C.dataFim)]})]})]}),C.finalidade&&o.jsx("p",{className:"booking-purpose",children:C.finalidade})]}),o.jsxs("div",{className:"booking-actions",children:[o.jsx(Ze,{variant:C.confirmado?"success":"warning",children:C.confirmado?"Confirmado":"Pendente"}),o.jsx("button",{className:"action-btn danger",onClick:()=>b(C),children:o.jsx(Ur,{size:14})})]})]},C.id)}),(d?T:r).length===0&&o.jsx("div",{className:"empty-bookings",children:o.jsx("p",{children:"Nenhum agendamento"})})]}),d&&o.jsxs(me,{variant:"outline",className:"new-booking-btn",onClick:()=>m(!0),children:["Agendar para ",ht(d)]})]})]}),o.jsxs(mt,{isOpen:p,onClose:()=>m(!1),title:"Novo Agendamento",size:"md",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>m(!1),children:"Cancelar"}),o.jsx(me,{onClick:S,children:"Salvar"})]}),children:[o.jsxs("div",{className:"form-grid",children:[o.jsx(Je,{label:"Membro",options:a.map(C=>({value:C.id,label:C.nome})),value:v.memberId||t?.id||"",onChange:C=>y({...v,memberId:C.target.value})}),o.jsx(Q,{label:"Finalidade",value:v.finalidade||"",onChange:C=>y({...v,finalidade:C.target.value}),placeholder:"Ex: Voo de instruo"}),o.jsx(Q,{label:"Data/Hora Incio",type:"datetime-local",value:v.dataInicio||"",onChange:C=>y({...v,dataInicio:C.target.value}),required:!0}),o.jsx(Q,{label:"Data/Hora Fim",type:"datetime-local",value:v.dataFim||"",onChange:C=>y({...v,dataFim:C.target.value}),required:!0})]}),o.jsx("div",{style:{marginTop:"1rem"},children:o.jsx(Q,{label:"Observaes",value:v.observacoes||"",onChange:C=>y({...v,observacoes:C.target.value})})})]})]}):o.jsxs("div",{className:"empty-state",children:[o.jsx(lo,{size:64,className:"empty-state-icon"}),o.jsx("h3",{children:"Selecione uma aeronave"}),o.jsx("p",{children:"Selecione uma aeronave no menu lateral para gerenciar a agenda."})]})}const ete="https://davidmegginson.github.io/ourairports-data/airports.csv";class tte{airports=[];citiesMap=new Map;loaded=!1;async loadAirports(){if(!(this.loaded&&this.airports.length>0))try{const e=localStorage.getItem("ourairports_data"),r=localStorage.getItem("ourairports_data_timestamp");if(e&&r&&Date.now()-parseInt(r)<10080*60*1e3){this.airports=JSON.parse(e),this.buildCitiesMap(),this.loaded=!0;return}let n=null,a=null;try{const i=["/data/airports.csv","./data/airports.csv","/airports.csv"];for(const s of i)try{if(a=await fetch(s),a.ok&&(n=await a.text(),n&&n.length>100)){console.log(`Carregado arquivo local: ${s}`);break}}catch{}}catch{console.log("Arquivo local no encontrado, tentando baixar da internet...")}if(!n)try{if(a=await fetch(ete),!a.ok)throw new Error(`HTTP error! status: ${a.status}`);n=await a.text(),console.log("Carregado da internet: OurAirports")}catch(i){console.error("Erro ao baixar da internet:",i);const s=localStorage.getItem("ourairports_data");if(s){console.log("Usando cache antigo como fallback"),this.airports=JSON.parse(s),this.buildCitiesMap(),this.loaded=!0;return}throw new Error("No foi possvel carregar dados de aeroportos. Verifique sua conexo com a internet.")}this.airports=this.parseCSV(n),this.buildCitiesMap(),localStorage.setItem("ourairports_data",JSON.stringify(this.airports)),localStorage.setItem("ourairports_data_timestamp",Date.now().toString()),this.loaded=!0}catch(e){console.error("Erro ao carregar aeroportos:",e);const r=localStorage.getItem("ourairports_data");throw r&&(this.airports=JSON.parse(r),this.buildCitiesMap(),this.loaded=!0),e}}parseCSV(e){const r=e.split(`
`).filter(i=>i.trim());if(r.length===0)return[];const n=r[0].split(",").map(i=>i.trim().replace(/^"|"$/g,"")),a=[];for(let i=1;i<r.length;i++){const s=this.parseCSVLine(r[i]);if(s.length!==n.length)continue;const c={};if(n.forEach((f,p)=>{c[f]=s[p]?.trim().replace(/^"|"$/g,"")||""}),!c.latitude_deg||!c.longitude_deg)continue;const d={id:c.id||crypto.randomUUID(),ident:c.ident||"",type:c.type||"small_airport",name:c.name||"",latitude_deg:parseFloat(c.latitude_deg)||0,longitude_deg:parseFloat(c.longitude_deg)||0,elevation_ft:c.elevation_ft?parseFloat(c.elevation_ft):void 0,continent:c.continent||void 0,iso_country:c.iso_country||"",iso_region:c.iso_region||"",municipality:c.municipality||void 0,scheduled_service:c.scheduled_service||"",gps_code:c.gps_code||void 0,iata_code:c.iata_code||void 0,local_code:c.local_code||void 0,home_link:c.home_link||void 0,wikipedia_link:c.wikipedia_link||void 0,importedAt:new Date().toISOString()};(d.scheduled_service==="no"||d.type==="small_airport"||d.type==="heliport")&&(d.isPrivate=!0),a.push(d)}return a}parseCSVLine(e){const r=[];let n="",a=!1;for(let i=0;i<e.length;i++){const s=e[i];s==='"'?a=!a:s===","&&!a?(r.push(n),n=""):n+=s}return r.push(n),r}buildCitiesMap(){this.citiesMap.clear(),this.airports.forEach(e=>{if(e.municipality){const r=`${e.municipality.toLowerCase()}_${e.iso_region}`;this.citiesMap.has(r)||this.citiesMap.set(r,[]),this.citiesMap.get(r).push(e)}})}filterAirports(e={}){if(!this.loaded)return[];let r=[...this.airports];if(e.country&&(r=r.filter(n=>n.iso_country===e.country)),e.region&&(r=r.filter(n=>n.iso_region===e.region)),e.types&&e.types.length>0&&(r=r.filter(n=>e.types.includes(n.type))),e.privateOnly&&(r=r.filter(n=>n.isPrivate===!0)),e.scheduledService!==void 0&&(e.scheduledService?r=r.filter(n=>n.scheduled_service==="yes"):r=r.filter(n=>n.scheduled_service!=="yes")),e.searchQuery){const n=e.searchQuery.toLowerCase();r=r.filter(a=>a.name.toLowerCase().includes(n)||a.ident.toLowerCase().includes(n)||a.gps_code?.toLowerCase().includes(n)||a.iata_code?.toLowerCase().includes(n)||a.municipality?.toLowerCase().includes(n))}return r}findByCode(e){if(!this.loaded)return null;const r=e.toUpperCase();return this.airports.find(n=>n.ident.toUpperCase()===r||n.gps_code?.toUpperCase()===r||n.iata_code?.toUpperCase()===r||n.local_code?.toUpperCase()===r)||null}getCitiesWithAirports(e={}){const r=this.filterAirports(e),n=new Map;return r.forEach(a=>{if(a.municipality){const i=`${a.municipality}_${a.iso_region}_${a.iso_country}`;n.has(i)||n.set(i,[]),n.get(i).push(a)}}),Array.from(n.entries()).map(([a,i])=>{const[s,c,d]=a.split("_");return{city:s,region:c,country:d,airportCount:i.length,airports:i}}).sort((a,i)=>a.city!==i.city?a.city.localeCompare(i.city):i.airportCount-a.airportCount)}getAirportsByCity(e,r){if(!this.loaded)return[];const n=e.toLowerCase(),a=[];return this.citiesMap.forEach((i,s)=>{const[c,d]=s.split("_");c===n&&(!r||d===r)&&a.push(...i)}),a}updateAirportCustomData(e,r){const n=this.findByCode(e);if(!n)return;Object.assign(n,r),n.lastUpdated=new Date().toISOString();const a=this.airports.findIndex(i=>i.ident===n.ident||i.gps_code===n.gps_code||i.iata_code===n.iata_code);a>=0&&(this.airports[a]=n),localStorage.setItem("ourairports_data",JSON.stringify(this.airports))}}const ra=new tte;function cN({label:t,value:e,onChange:r,placeholder:n="Digite a cidade ou cdigo do aeroporto...",hint:a,required:i,country:s="BR"}){const[c,d]=N.useState(""),[f,p]=N.useState([]),[m,v]=N.useState(null),[y,w]=N.useState(!1),[S,b]=N.useState(!1),_=N.useRef(null),A=N.useRef(null);N.useEffect(()=>{(async()=>{try{b(!0),await ra.loadAirports(),console.log("Aeroportos carregados com sucesso")}catch(P){console.error("Erro ao carregar aeroportos:",P),setTimeout(async()=>{try{await ra.loadAirports(),console.log("Aeroportos carregados na segunda tentativa")}catch(R){console.error("Erro na segunda tentativa:",R)}},2e3)}finally{b(!1)}})()},[]),N.useEffect(()=>{if(e&&!m){const E=ra.findByCode(e);E&&(v(E),d(`${E.name} (${E.ident})`))}},[e,m]),N.useEffect(()=>{if(c.length<2){p([]),w(!1);return}const P=setTimeout(async()=>{b(!0);try{const R=ra.filterAirports({country:s,searchQuery:c});p(R.slice(0,10)),w(!0)}catch(R){console.error("Erro ao buscar aeroportos:",R)}finally{b(!1)}},300);return()=>clearTimeout(P)},[c,s]),N.useEffect(()=>{const E=P=>{_.current&&!_.current.contains(P.target)&&w(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const x=E=>{v(E),d(`${E.name} (${E.ident})`),w(!1),r(E)},T=()=>{v(null),d(""),p([]),w(!1),r(null),A.current?.focus()},C=E=>{const P=E.target.value;d(P),P||(v(null),r(null))};return o.jsxs("div",{className:"airport-autocomplete-wrapper",ref:_,children:[o.jsxs("label",{className:"input-label",children:[t,i&&o.jsx("span",{className:"required",children:"*"})]}),o.jsxs("div",{className:"airport-autocomplete-container",children:[o.jsx(kz,{size:16,className:"airport-input-icon"}),o.jsx("input",{ref:A,type:"text",className:"airport-autocomplete-input",value:c,onChange:C,onFocus:()=>{f.length>0&&w(!0)},placeholder:n,autoComplete:"off"}),m&&o.jsx("button",{type:"button",className:"airport-clear-btn",onClick:T,title:"Limpar seleo",children:o.jsx(vh,{size:14})}),y&&o.jsx("div",{className:"airport-dropdown",children:S?o.jsx("div",{className:"airport-dropdown-loading",children:"Buscando aeroportos..."}):f.length===0?o.jsx("div",{className:"airport-dropdown-empty",children:c.length<2?"Digite pelo menos 2 caracteres":"Nenhum aeroporto encontrado"}):f.map(E=>o.jsxs("button",{type:"button",className:`airport-option ${m?.id===E.id?"selected":""}`,onClick:()=>x(E),children:[o.jsxs("div",{className:"airport-option-main",children:[o.jsx("span",{className:"airport-option-name",children:E.name}),o.jsx("span",{className:"airport-option-code",children:E.ident})]}),o.jsxs("div",{className:"airport-option-details",children:[E.municipality&&o.jsx("span",{className:"airport-option-city",children:E.municipality}),E.iso_region&&o.jsx("span",{className:"airport-option-region",children:E.iso_region.split("-")[1]||E.iso_region})]})]},E.id))})]}),a&&!m&&o.jsx("span",{className:"input-hint",children:a}),m&&o.jsxs("div",{className:"airport-selected-info",children:[o.jsx("span",{className:"airport-selected-label",children:"Aeroporto selecionado:"}),o.jsxs("span",{className:"airport-selected-value",children:[m.name," ",o.jsxs("strong",{children:["(",m.ident,")"]})]})]})]})}const rte=90;class nte{models=new Map;constructor(){this.loadFromCache()}async getAircraftSpecs(e,r,n,a){const i=this.getModelKey(e,r,n,a);let s=this.models.get(i);if(s&&s.cacheStaleAt){const d=new Date(s.cacheStaleAt);if(new Date<d)return s.specs}const c=await this.fetchSpecs(e,r,n,a);if(c){const d={id:s?.id||crypto.randomUUID(),manufacturer:e,model:r,variant:n,year:a,specs:c,createdAt:s?.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString(),cacheStaleAt:new Date(Date.now()+rte*24*60*60*1e3).toISOString()};return this.models.set(i,d),this.saveToCache(),c}return s?.specs||null}async fetchSpecs(e,r,n,a){let i=await this.fetchFromAPIs(e,r,n,a);if(!i||!i.isComplete){const s=await this.fetchFromScraping(e,r,n,a);s&&(i=this.mergeSpecs(i,s))}if(!i||!i.isComplete){const s=this.estimateMissingSpecs(i,e,r,n,a);i=this.mergeSpecs(i,s)}return i}async fetchFromAPIs(e,r,n,a){return null}async fetchFromScraping(e,r,n,a){return null}estimateMissingSpecs(e,r,n,a,i){const s=e||{manufacturer:r,model:n,variant:a,sources:[],lastUpdated:new Date().toISOString(),isComplete:!1,missingFields:[]};if(!s.cruiseSpeed?.normal&&!s.cruiseSpeed?.economic){const c=this.estimateCruiseSpeed(s,r,n);s.cruiseSpeed={normal:{value:c,unit:"ktas",source:"ml_estimate",collectedAt:new Date().toISOString(),confidence:"media",notes:"Estimado usando heurstica baseada em tipo de aeronave"}},s.sources.push({type:"ml_estimate",collectedAt:new Date().toISOString()})}if(!s.fuelBurn?.cruise){const c=this.estimateFuelBurn(s,r,n);s.fuelBurn={cruise:{value:c,unit:"L/h",source:"ml_estimate",collectedAt:new Date().toISOString(),confidence:"baixa",notes:"Estimado usando heurstica - requer validao"}}}return this.updateCompleteness(s),s}estimateCruiseSpeed(e,r,n){const a=n.toLowerCase();if(a.includes("jet")||a.includes("citation")||a.includes("phenom")||a.includes("lear"))return 400;if(a.includes("king air")||a.includes("tbm")||a.includes("caravan")||a.includes("quest"))return 260;if(a.includes("172")||a.includes("182")||a.includes("cherokee")||a.includes("archer"))return 120;if(a.includes("twin")||a.includes("seneca")||a.includes("baron")||a.includes("aztec"))return 180;if(e.enginePower?.value){const i=e.enginePower.value;return Math.min(500,Math.max(100,i*.8))}return 150}estimateFuelBurn(e,r,n){const a=n.toLowerCase();if(a.includes("jet")||a.includes("citation"))return 450;if(a.includes("king air")||a.includes("tbm"))return 190;if(a.includes("172")||a.includes("182"))return 40;if(a.includes("twin")||a.includes("seneca"))return 120;if(e.enginePower?.value){const i=e.enginePower.value;return Math.max(30,i*.3)}return 100}estimatePerformance(e,r="normal"){const n=(r==="economico"?e.cruiseSpeed?.economic:void 0)||(r==="rapido"?e.cruiseSpeed?.max:void 0)||e.cruiseSpeed?.normal||e.cruiseSpeed?.economic,a=e.fuelBurn;return{cruiseSpeed:{value:n?.value||this.estimateCruiseSpeed(e,e.manufacturer,e.model),min:n?.min,max:n?.max,confidence:n?.confidence||"baixa",method:n?.source==="ml_estimate"?"ml":n?.source==="poh"?"known":"heuristic"},fuelBurn:{climb:a?.climb?.value||(a?.cruise?.value||100)*1.5,cruise:a?.cruise?.value||this.estimateFuelBurn(e,e.manufacturer,e.model),descent:a?.descent?.value||(a?.cruise?.value||100)*.7,confidence:a?.cruise?.confidence||"baixa",method:a?.cruise?.source==="ml_estimate"?"ml":a?.cruise?.source==="poh"?"known":"heuristic"},rateOfClimb:e.rateOfClimb&&e.rateOfClimb.value!==null?{value:e.rateOfClimb.value,confidence:e.rateOfClimb.confidence}:void 0}}mergeSpecs(e,r){return e?{...e,...r,cruiseSpeed:r.cruiseSpeed||e.cruiseSpeed,fuelBurn:{climb:r.fuelBurn?.climb||e.fuelBurn?.climb,cruise:r.fuelBurn?.cruise||e.fuelBurn?.cruise,descent:r.fuelBurn?.descent||e.fuelBurn?.descent,idle:r.fuelBurn?.idle||e.fuelBurn?.idle},sources:[...e.sources||[],...r.sources||[]],lastUpdated:r.lastUpdated}:r}updateCompleteness(e){const r=[];!e.cruiseSpeed?.normal&&!e.cruiseSpeed?.economic&&r.push("cruiseSpeed"),e.fuelBurn?.cruise||r.push("fuelBurn"),e.missingFields=r,e.isComplete=r.length===0}getModelKey(e,r,n,a){return`${e.toLowerCase()}_${r.toLowerCase()}_${n||""}_${a||""}`}saveToCache(){const e=Array.from(this.models.values());localStorage.setItem("aircraft_models_cache",JSON.stringify(e))}loadFromCache(){const e=localStorage.getItem("aircraft_models_cache");if(e)try{JSON.parse(e).forEach(n=>{const a=this.getModelKey(n.manufacturer,n.model,n.variant,n.year);this.models.set(a,n)})}catch(r){console.error("Erro ao carregar cache de modelos:",r)}}setManualOverride(e,r,n,a,i){const s=this.getModelKey(e,r,n,a),c=this.models.get(s),d={manufacturer:c?.specs.manufacturer||e,model:c?.specs.model||r,...c?.specs,...i,sources:[...c?.specs.sources||[],{type:"poh",collectedAt:new Date().toISOString()}],lastUpdated:new Date().toISOString(),isComplete:c?.specs.isComplete||!1,missingFields:c?.specs.missingFields||[]};this.updateCompleteness(d);const f={id:c?.id||crypto.randomUUID(),manufacturer:e,model:r,variant:n,year:a,specs:d,createdAt:c?.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString(),cacheStaleAt:void 0};this.models.set(s,f),this.saveToCache()}}const Qx=new nte;class ate{async getWindAtAltitude(e,r,n,a){try{return null}catch(i){return console.error("Erro ao buscar dados de vento:",i),null}}calculateDensityAltitude(e,r,n){const a=15-e/1e3*2,i=e+120*(r-a);return Math.round(i)}}const ite=new ate;function ote(t,e,r,n){const i=(r-t)*Math.PI/180,s=(n-e)*Math.PI/180,c=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 3440*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}function ste(t,e,r){const n=(e-r)*Math.PI/180;return t*Math.cos(n)}function lte(t,e,r=1e3){const n=t||r;if(n<=0)return 15;const a=e/n;return Math.max(5,Math.min(30,a))}function cte(t=500,e){const r=e/t;return Math.max(5,Math.min(20,r))}class ute{async calculateEstimate(e){const r=await Qx.getAircraftSpecs(e.manufacturer,e.model,e.variant,e.year);if(!r)throw new Error("Especificaes da aeronave no encontradas");await ra.loadAirports();const n=ra.findByCode(e.originICAO),a=ra.findByCode(e.destICAO);if(!n||!a)throw new Error("Aeroporto no encontrado");const i=ote(n.latitude_deg,n.longitude_deg,a.latitude_deg,a.longitude_deg),s=Qx.estimatePerformance(r,e.profile||"normal"),c=e.altitude||r.cruiseAltitude?.typical||1e4;let d=null,f=0;if(e.flightDate)try{if(d=await ite.getWindAtAltitude((n.latitude_deg+a.latitude_deg)/2,(n.longitude_deg+a.longitude_deg)/2,c,e.flightDate),d){const D=Math.atan2(a.longitude_deg-n.longitude_deg,a.latitude_deg-n.latitude_deg)*180/Math.PI;f=ste(d.windSpeed,d.windDirection,D)}}catch(D){console.warn("Erro ao buscar vento:",D)}const p=s.cruiseSpeed.value,m=p-f,v=e.taxiTime||10,y=lte(s.rateOfClimb?.value,c),w=cte(500,c),S=c/1e3*3,b=c/1e3*3,A=Math.max(0,i-S-b)/m,x=(y+A*60+w)/60,T=x+v/60,C=y/60*s.fuelBurn.climb,E=A*s.fuelBurn.cruise,P=w/60*s.fuelBurn.descent,R=v/60*s.fuelBurn.cruise*.3,M=C+E+P+R,k=45/60*s.fuelBurn.cruise,L=M+k,F=e.customFuelPrice||n.fuelPrice?.[r.fuelType||"jet-a"]||8.5,z=L*F,q=(n.landingFee||0)+(a.landingFee||0),Y=(n.parkingFee||0)+(a.parkingFee||0),te=T*2800,ee=z+q+Y+te,oe=this.calculateConfidence(s,d,r),ue=this.getConfidenceReasons(s,d,r),W=this.calculateUncertainty(x,L,ee,oe,s);return{id:crypto.randomUUID(),aircraftId:e.aircraftId,criadoPor:"",origem:n.name,origemIcao:n.gps_code||n.ident,destino:a.name,destinoIcao:a.gps_code||a.ident,distanciaTotal:i,tempoVooEstimado:x,tempoTotal:T,combustivelNecessario:M,combustivelComReserva:L,custoCombustivel:z,custoTaxas:q,custoOperacional:te,custoTotal:ee,custoPorHora:T>0?ee/T:0,convertidoEmVoo:!1,createdAt:new Date().toISOString(),profile:e.profile||"normal",passengers:e.passengers,baggage:e.baggage,initialFuel:e.initialFuel,altitude:c,flightDate:e.flightDate,phases:{taxi:{time:v,fuel:R},climb:{time:y,fuel:C,altitude:c},cruise:{time:A*60,fuel:E,tas:p,gs:m,windComponent:f,altitude:c},descent:{time:w,fuel:P}},weather:d||void 0,confidence:oe,confidenceReasons:ue,uncertainty:W,costBreakdown:{fuel:z,fuelTax:0,landingFee:q,parkingFee:Y,operational:te,total:ee},costPerHour:T>0?ee/T:0,costPerNM:i>0?ee/i:0,costPerKM:i>0?ee/i*1.852:0,fuelPerHour:x>0?L/x:0,efficiency:L>0?i/(L/3.785):0}}calculateConfidence(e,r,n){let a=0;return e.cruiseSpeed.method==="known"?a+=3:e.cruiseSpeed.method==="ml"?a+=2:a+=1,e.fuelBurn.method==="known"?a+=3:e.fuelBurn.method==="ml"?a+=2:a+=1,r?a+=2:a+=0,n.isComplete?a+=2:a+=1,a>=8?"alta":a>=5?"media":"baixa"}getConfidenceReasons(e,r,n){const a=[];return e.cruiseSpeed.method==="ml"?a.push("Velocidade de cruzeiro estimada por modelo ML"):e.cruiseSpeed.method==="heuristic"&&a.push("Velocidade de cruzeiro estimada por heurstica"),e.fuelBurn.method==="ml"?a.push("Consumo de combustvel estimado por modelo ML"):e.fuelBurn.method==="heuristic"&&a.push("Consumo de combustvel estimado por heurstica"),r||a.push("Vento no disponvel - usando vento = 0"),n.isComplete||a.push(`Dados faltantes: ${n.missingFields.join(", ")}`),a}calculateUncertainty(e,r,n,a,i){let s;switch(a){case"alta":s=.05;break;case"media":s=.15;break;case"baixa":s=.3;break}return i.cruiseSpeed.confidence==="baixa"&&(s+=.1),i.fuelBurn.confidence==="baixa"&&(s+=.1),{timeMin:Math.max(0,e*(1-s)),timeMax:e*(1+s),fuelMin:Math.max(0,r*(1-s)),fuelMax:r*(1+s),costMin:Math.max(0,n*(1-s)),costMax:n*(1+s)}}}const dte=new ute;class fte{async estimateFlight(e){await ra.loadAirports();const r=ra.findByCode(e.originICAO),n=ra.findByCode(e.destICAO);if(!r)throw new Error(`Aeroporto de origem no encontrado: ${e.originICAO}`);if(!n)throw new Error(`Aeroporto de destino no encontrado: ${e.destICAO}`);const a=await this.estimateFlightParameters(r,n,e.passengers,e.manufacturer,e.model,e.initialFuel,e.fuelPrice),i=await dte.calculateEstimate({aircraftId:e.aircraftId,manufacturer:e.manufacturer,model:e.model,variant:e.variant,year:e.year,originICAO:r.gps_code||r.ident,destICAO:n.gps_code||n.ident,profile:a.profile,altitude:a.altitude,flightDate:a.flightDate,passengers:e.passengers,baggage:a.baggage,initialFuel:a.initialFuel,taxiTime:a.taxiTime,customFuelPrice:a.fuelPrice});return i.confidenceReasons=[...i.confidenceReasons||[],`Aeroporto de origem: ${r.name} (${r.ident})`,`Aeroporto de destino: ${n.name} (${n.ident})`,`Parmetros estimados por IA: altitude ${a.altitude}ft, perfil ${a.profile}`],i}async estimateFlightParameters(e,r,n,a,i,s,c){const d=this.calculateDistance(e.latitude_deg,e.longitude_deg,r.latitude_deg,r.longitude_deg);let f=1e4;d<200?f=6e3:d<500?f=8e3:d<1e3?f=12e3:f=18e3;let p="normal";d>800||n>6?p="economico":d<200&&(p="rapido");const m=n*15,v=s,y=10,w=c||e.fuelPrice?.avgas||e.fuelPrice?.["jet-a"]||8.5,S=new Date().toISOString().split("T")[0];return{profile:p,altitude:f,flightDate:S,baggage:m,initialFuel:v,taxiTime:y,fuelPrice:w}}calculateDistance(e,r,n,a){const s=(n-e)*Math.PI/180,c=(a-r)*Math.PI/180,d=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2);return 3440*(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)))}async suggestAircraft(e,r){return e<=4&&r<500?{manufacturer:"Cessna",model:"172",reason:"Aeronave ideal para voos curtos com at 4 passageiros"}:e<=6&&r<800?{manufacturer:"Beechcraft",model:"King Air C90",reason:"Turbohlice ideal para voos mdios com at 6 passageiros"}:e<=8&&r<1500?{manufacturer:"Cessna",model:"Citation",reason:"Jato executivo ideal para voos longos com at 8 passageiros"}:{manufacturer:"Embraer",model:"Phenom 300",reason:"Jato executivo ideal para voos longos com mais passageiros"}}}const hte=new fte;function pte(){const{user:t}=cr(),{selectedAircraft:e}=Ir(),[r,n]=N.useState({}),[a,i]=N.useState(!1),[s,c]=N.useState(!1),[d,f]=N.useState([]),[p,m]=N.useState(!1),[v,y]=N.useState(!1),[w,S]=N.useState(null),[b,_]=N.useState(null),[A,x]=N.useState(null),[T,C]=N.useState(1),[E,P]=N.useState(void 0),[R,M]=N.useState(void 0);N.useEffect(()=>{e&&f(U.getFlightEstimates(e.id))},[e]);const $=async()=>{if(!e||!b||!A||!T){alert("Selecione os aeroportos de origem e destino");return}c(!0),i(!1);try{const z=await hte.estimateFlight({originICAO:b.ident,destICAO:A.ident,passengers:T,initialFuel:E,fuelPrice:R,aircraftId:e.id,manufacturer:e.fabricante,model:e.modelo,variant:void 0,year:e.anoFabricacao});z.criadoPor=t?.id||"",n(z),i(!0),z.costBreakdown&&S({fuel:z.costBreakdown.fuel,landingFee:z.costBreakdown.landingFee,parkingFee:z.costBreakdown.parkingFee,operational:z.costBreakdown.operational})}catch(z){alert(`Erro ao calcular: ${z.message}`),console.error("Erro ao calcular estimativa:",z)}finally{c(!1)}},k=()=>{if(!t||!e||!a||!r.id)return;let z={...r};if(w&&z.costBreakdown){const q=w.fuel+w.landingFee+w.parkingFee+w.operational;z.costBreakdown={...z.costBreakdown,...w,total:q},z.tempoTotal&&(z.costPerHour=q/z.tempoTotal),z.distanciaTotal&&(z.costPerNM=q/z.distanciaTotal)}U.saveFlightEstimate(z,t.id,t.nome),f(U.getFlightEstimates(e.id)),n(z),alert("Estimativa salva com sucesso!")},L=()=>{if(!t||!e){alert("Selecione uma aeronave");return}if(!a||!r.id){alert("Calcule a estimativa antes de converter em voo");return}let z={...r};if(w&&z.costBreakdown){const Y=w.fuel+w.landingFee+w.parkingFee+w.operational;z.costBreakdown={...z.costBreakdown,...w,total:Y},z.tempoTotal&&(z.costPerHour=Y/z.tempoTotal),z.distanciaTotal&&(z.costPerNM=Y/z.distanciaTotal)}z.aircraftId=e.id,U.saveFlightEstimate(z,t.id,t.nome),n(z);const q=U.convertEstimateToFlight(r.id,t.id,t.nome);q?(alert("Voo criado com sucesso! Voc pode edit-lo no Logbook."),f(U.getFlightEstimates(e.id)),n({...z,convertidoEmVoo:!0,flightId:q.id})):alert("Erro ao converter estimativa em voo. A estimativa pode j ter sido convertida.")},F=z=>{const q={alta:{variant:"success",icon:fw,label:"Alta Confiana"},media:{variant:"warning",icon:Tr,label:"Mdia Confiana"},baixa:{variant:"danger",icon:Tr,label:"Baixa Confiana"}},{variant:Y,icon:te,label:ee}=q[z];return o.jsxs(Ze,{variant:Y,size:"sm",children:[o.jsx(te,{size:12,style:{marginRight:4}}),ee]})};return e?o.jsxs("div",{className:"estimativa-page",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Estimativa de Voo com IA"}),o.jsxs("p",{className:"page-subtitle",children:["Planejamento inteligente - ",e.prefixo,o.jsx(Id,{size:16,style:{marginLeft:8,color:"var(--accent-color)"}})]})]}),o.jsx(me,{variant:"secondary",onClick:()=>m(!0),children:"Histrico"})]}),o.jsxs("div",{className:"estimativa-grid",children:[o.jsxs(pe,{title:"Dados do Voo",className:"input-card",children:[o.jsxs("div",{className:"ai-badge",children:[o.jsx(Id,{size:16}),o.jsx("span",{children:"IA detecta automaticamente aeroportos e calcula tudo"})]}),o.jsxs("div",{className:"aircraft-info",children:[o.jsxs("div",{className:"info-item",children:[o.jsx(Hr,{size:18}),o.jsx("span",{children:e.modelo})]}),o.jsxs("div",{className:"info-item",children:[o.jsx(_n,{size:18}),o.jsxs("span",{children:[e.velocidadeCruzeiro," kt"]})]}),o.jsxs("div",{className:"info-item",children:[o.jsx(Ji,{size:18}),o.jsxs("span",{children:[e.consumoMedio," L/h"]})]})]}),o.jsxs("div",{className:"simple-inputs",children:[o.jsx(cN,{label:"Aeroporto de Origem",value:b?.ident,onChange:_,placeholder:"Digite a cidade ou cdigo ICAO (ex: SBSP, SBGR)...",hint:"Selecione o aeroporto de origem pelo nome ou cdigo ICAO",required:!0}),o.jsx("div",{className:"route-arrow-simple",children:o.jsx(ea,{size:24})}),o.jsx(cN,{label:"Aeroporto de Destino",value:A?.ident,onChange:x,placeholder:"Digite a cidade ou cdigo ICAO (ex: SBGL, SBRJ)...",hint:"Selecione o aeroporto de destino pelo nome ou cdigo ICAO",required:!0}),o.jsx(Q,{label:"Nmero de Passageiros",type:"number",min:"1",max:"20",value:T.toString(),onChange:z=>C(Math.max(1,parseInt(z.target.value)||1)),icon:o.jsx(ia,{size:16}),hint:"Incluindo voc (piloto)"}),o.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid var(--border-color)"},children:[o.jsx("h4",{style:{fontSize:"0.9375rem",margin:"0 0 1rem",color:"var(--text-secondary)"},children:"Combustvel (Opcional)"}),o.jsx(Q,{label:"Combustvel Inicial (litros)",type:"number",min:"0",step:"0.1",value:E?.toString()||"",onChange:z=>P(z.target.value?parseFloat(z.target.value):void 0),icon:o.jsx(Ji,{size:16}),hint:"Quantidade de combustvel j no tanque",placeholder:"Deixe vazio para calcular automaticamente"}),o.jsx(Q,{label:"Preo do Combustvel (R$/L)",type:"number",min:"0",step:"0.01",value:R?.toString()||"",onChange:z=>M(z.target.value?parseFloat(z.target.value):void 0),icon:o.jsx(Ji,{size:16}),hint:"Preo por litro no aeroporto de origem",placeholder:"Deixe vazio para usar preo padro"})]})]}),o.jsxs("div",{className:"ai-info-box",children:[o.jsx("h4",{children:" O que a IA faz automaticamente:"}),o.jsxs("ul",{children:[o.jsx("li",{children:" Calcula distncia entre os aeroportos selecionados"}),o.jsx("li",{children:" Estima altitude de cruzeiro ideal"}),o.jsx("li",{children:" Escolhe perfil de voo (econmico/normal/rpido)"}),o.jsx("li",{children:" Calcula vento e condies meteorolgicas"}),o.jsx("li",{children:" Estima bagagem e combustvel necessrio"}),o.jsx("li",{children:" Calcula todos os custos e tempos"})]}),o.jsxs("p",{style:{marginTop:"1rem",fontSize:"0.875rem",color:"var(--text-secondary)",fontStyle:"italic"},children:[" ",o.jsx("strong",{children:"Dica:"})," Informar combustvel inicial e preo melhora a preciso dos clculos!"]})]}),o.jsx(me,{className:"calculate-btn",onClick:$,disabled:s||!b||!A||!T||T<1,children:s?o.jsxs(o.Fragment,{children:[o.jsx(hw,{size:18,className:"spinning"}),"Calculando com IA..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Id,{size:18}),"Calcular com IA"]})})]}),o.jsx(pe,{title:"Resultados",className:"results-card",children:a&&r.id?o.jsxs(o.Fragment,{children:[r.confidence&&o.jsxs("div",{style:{marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[F(r.confidence),r.confidenceReasons&&r.confidenceReasons.length>0&&o.jsxs("details",{style:{fontSize:"0.875rem",color:"#666"},children:[o.jsx("summary",{style:{cursor:"pointer"},children:"Detalhes da IA"}),o.jsx("ul",{style:{marginTop:"0.5rem",paddingLeft:"1.5rem"},children:r.confidenceReasons.map((z,q)=>o.jsx("li",{children:z},q))})]})]}),o.jsxs("div",{className:"result-section",children:[o.jsx("h4",{children:"Rota"}),o.jsxs("div",{className:"route-summary",children:[o.jsx("span",{className:"route-origin",children:r.origemIcao}),o.jsx("div",{className:"route-line",children:o.jsx("span",{className:"route-distance",children:tN(r.distanciaTotal||0)})}),o.jsx("span",{className:"route-dest",children:r.destinoIcao})]}),o.jsxs("p",{className:"route-names",children:[r.origem,"  ",r.destino]}),o.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:" Aeroportos selecionados automaticamente pela IA"})]}),r.phases&&o.jsxs("div",{className:"phases-breakdown",children:[o.jsx("h4",{children:"Breakdown por Fase"}),o.jsxs("div",{className:"phases-grid",children:[o.jsxs("div",{className:"phase-item",children:[o.jsx("span",{className:"phase-label",children:"Txi"}),o.jsxs("span",{className:"phase-time",children:[r.phases.taxi.time," min"]}),o.jsx("span",{className:"phase-fuel",children:oi(r.phases.taxi.fuel)})]}),o.jsxs("div",{className:"phase-item",children:[o.jsx("span",{className:"phase-label",children:"Subida"}),o.jsxs("span",{className:"phase-time",children:[r.phases.climb.time.toFixed(0)," min"]}),o.jsx("span",{className:"phase-fuel",children:oi(r.phases.climb.fuel)}),o.jsxs("span",{className:"phase-alt",children:["at ",r.phases.climb.altitude.toLocaleString()," ft"]})]}),o.jsxs("div",{className:"phase-item",children:[o.jsx("span",{className:"phase-label",children:"Cruzeiro"}),o.jsx("span",{className:"phase-time",children:ft(r.phases.cruise.time/60)}),o.jsx("span",{className:"phase-fuel",children:oi(r.phases.cruise.fuel)}),o.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",marginTop:4},children:["TAS: ",r.phases.cruise.tas," kt | GS: ",r.phases.cruise.gs.toFixed(0)," kt",r.phases.cruise.windComponent!==0&&o.jsxs("span",{style:{color:r.phases.cruise.windComponent>0?"red":"green"},children:[" ","(Vento: ",r.phases.cruise.windComponent>0?"+":"",r.phases.cruise.windComponent.toFixed(0)," kt)"]})]})]}),o.jsxs("div",{className:"phase-item",children:[o.jsx("span",{className:"phase-label",children:"Descida"}),o.jsxs("span",{className:"phase-time",children:[r.phases.descent.time.toFixed(0)," min"]}),o.jsx("span",{className:"phase-fuel",children:oi(r.phases.descent.fuel)})]})]})]}),o.jsxs("div",{className:"results-grid",children:[o.jsxs("div",{className:"result-item",children:[o.jsx("div",{className:"result-icon blue",children:o.jsx(_n,{size:20})}),o.jsxs("div",{className:"result-info",children:[o.jsx("span",{className:"result-value",children:ft(r.tempoVooEstimado||0)}),o.jsx("span",{className:"result-label",children:"Tempo de Voo"})]})]}),o.jsxs("div",{className:"result-item",children:[o.jsx("div",{className:"result-icon green",children:o.jsx(_n,{size:20})}),o.jsxs("div",{className:"result-info",children:[o.jsx("span",{className:"result-value",children:ft(r.tempoTotal||0)}),o.jsx("span",{className:"result-label",children:"Tempo Total (Block)"})]})]}),o.jsxs("div",{className:"result-item",children:[o.jsx("div",{className:"result-icon orange",children:o.jsx(Ji,{size:20})}),o.jsxs("div",{className:"result-info",children:[o.jsx("span",{className:"result-value",children:oi(r.combustivelNecessario||0)}),o.jsx("span",{className:"result-label",children:"Combustvel"})]})]}),o.jsxs("div",{className:"result-item",children:[o.jsx("div",{className:"result-icon red",children:o.jsx(Ji,{size:20})}),o.jsxs("div",{className:"result-info",children:[o.jsx("span",{className:"result-value",children:oi(r.combustivelComReserva||0)}),o.jsx("span",{className:"result-label",children:"Com Reserva"})]})]})]}),r.uncertainty&&o.jsxs("div",{className:"uncertainty-section",children:[o.jsx("h4",{children:"Intervalos de Incerteza"}),o.jsxs("div",{className:"uncertainty-grid",children:[o.jsxs("div",{children:[o.jsx("span",{children:"Tempo:"}),o.jsxs("span",{children:[ft(r.uncertainty.timeMin)," - ",ft(r.uncertainty.timeMax)]})]}),o.jsxs("div",{children:[o.jsx("span",{children:"Combustvel:"}),o.jsxs("span",{children:[oi(r.uncertainty.fuelMin)," - ",oi(r.uncertainty.fuelMax)]})]}),o.jsxs("div",{children:[o.jsx("span",{children:"Custo:"}),o.jsxs("span",{children:[le(r.uncertainty.costMin)," - ",le(r.uncertainty.costMax)]})]})]})]}),r.costBreakdown&&o.jsxs("div",{className:"costs-section",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[o.jsx("h4",{children:"Custos Estimados"}),o.jsx(me,{variant:"secondary",size:"sm",icon:o.jsx(Mz,{size:14}),onClick:()=>{y(!0),S(w?{...w}:{fuel:r.costBreakdown.fuel,landingFee:r.costBreakdown.landingFee,parkingFee:r.costBreakdown.parkingFee,operational:r.costBreakdown.operational})},children:"Editar Custos"})]}),o.jsxs("div",{className:"costs-breakdown",children:[o.jsxs("div",{className:"cost-row",children:[o.jsx("span",{children:"Combustvel"}),o.jsx("span",{children:le(w?.fuel??r.costBreakdown.fuel)})]}),o.jsxs("div",{className:"cost-row",children:[o.jsx("span",{children:"Taxas de Pouso"}),o.jsx("span",{children:le(w?.landingFee??r.costBreakdown.landingFee)})]}),o.jsxs("div",{className:"cost-row",children:[o.jsx("span",{children:"Estacionamento"}),o.jsx("span",{children:le(w?.parkingFee??r.costBreakdown.parkingFee)})]}),o.jsxs("div",{className:"cost-row",children:[o.jsx("span",{children:"Operacional (R$ 2.800/h)"}),o.jsx("span",{children:le(w?.operational??r.costBreakdown.operational)})]}),o.jsxs("div",{className:"cost-row total",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:le(w?w.fuel+w.landingFee+w.parkingFee+w.operational:r.costBreakdown.total)})]}),o.jsxs("div",{className:"cost-row per-hour",children:[o.jsx("span",{children:"Custo por Hora"}),o.jsx("span",{children:le(r.tempoTotal?(w?w.fuel+w.landingFee+w.parkingFee+w.operational:r.costBreakdown.total)/r.tempoTotal:r.costPerHour||0)})]}),r.costPerNM&&o.jsxs("div",{className:"cost-row",children:[o.jsx("span",{children:"Custo por Milha Nutica"}),o.jsx("span",{children:le(r.distanciaTotal?(w?w.fuel+w.landingFee+w.parkingFee+w.operational:r.costBreakdown.total)/r.distanciaTotal:r.costPerNM||0)})]}),r.efficiency&&o.jsxs("div",{className:"cost-row",children:[o.jsx("span",{children:"Eficincia"}),o.jsxs("span",{children:[r.efficiency.toFixed(1)," NM/gal"]})]})]})]}),o.jsxs("div",{className:"actions",children:[o.jsx(me,{variant:"secondary",icon:o.jsx(YN,{size:18}),onClick:k,children:"Salvar Estimativa"}),o.jsx(me,{icon:o.jsx(Hr,{size:18}),onClick:L,children:"Converter em Voo"})]})]}):o.jsxs("div",{className:"empty-results",children:[o.jsx(Id,{size:48,style:{color:"var(--accent-color)"}}),o.jsx("p",{children:'Preencha os dados e clique em "Calcular com IA"'}),o.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginTop:"0.5rem"},children:"A IA far todo o trabalho pesado para voc! "})]})})]}),o.jsx(mt,{isOpen:p,onClose:()=>m(!1),title:"Histrico de Estimativas",size:"lg",children:o.jsxs("div",{className:"history-list",children:[d.map(z=>o.jsxs("div",{className:"history-item",children:[o.jsxs("div",{className:"history-route",children:[o.jsx("span",{children:z.origemIcao}),o.jsx(ea,{size:16}),o.jsx("span",{children:z.destinoIcao})]}),o.jsxs("div",{className:"history-details",children:[o.jsx("span",{children:tN(z.distanciaTotal)}),o.jsx("span",{children:ft(z.tempoTotal)}),o.jsx("span",{children:le(z.custoTotal)})]}),o.jsx("div",{className:"history-status",children:z.convertidoEmVoo?o.jsx("span",{className:"converted",children:"Convertido"}):o.jsx(me,{size:"sm",variant:"outline",onClick:()=>{n(z),i(!0),m(!1)},children:"Usar"})})]},z.id)),d.length===0&&o.jsx("div",{className:"empty-history",children:o.jsx("p",{children:"Nenhuma estimativa salva"})})]})}),o.jsx(mt,{isOpen:v,onClose:()=>y(!1),title:"Editar Custos Estimados",size:"md",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>y(!1),children:"Cancelar"}),o.jsx(me,{onClick:()=>{if(w){const z=w.fuel+w.landingFee+w.parkingFee+w.operational;n({...r,costBreakdown:{...r.costBreakdown,...w,total:z},costPerHour:r.tempoTotal?z/r.tempoTotal:r.costPerHour,costPerNM:r.distanciaTotal?z/r.distanciaTotal:r.costPerNM})}y(!1)},children:"Salvar"})]}),children:w&&o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[o.jsx(Q,{label:"Combustvel (R$)",type:"number",step:"0.01",min:"0",value:w.fuel.toString(),onChange:z=>{const q=parseFloat(z.target.value)||0;S({...w,fuel:q})}}),o.jsx(Q,{label:"Taxas de Pouso (R$)",type:"number",step:"0.01",min:"0",value:w.landingFee.toString(),onChange:z=>{const q=parseFloat(z.target.value)||0;S({...w,landingFee:q})}}),o.jsx(Q,{label:"Estacionamento (R$)",type:"number",step:"0.01",min:"0",value:w.parkingFee.toString(),onChange:z=>{const q=parseFloat(z.target.value)||0;S({...w,parkingFee:q})}}),o.jsx(Q,{label:"Operacional (R$)",type:"number",step:"0.01",min:"0",value:w.operational.toString(),onChange:z=>{const q=parseFloat(z.target.value)||0;S({...w,operational:q})}}),o.jsx("div",{style:{padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"0.5rem",marginTop:"0.5rem"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontWeight:600},children:"Total:"}),o.jsx("span",{style:{fontSize:"1.25rem",fontWeight:700,color:"var(--accent-color)"},children:le(w.fuel+w.landingFee+w.parkingFee+w.operational)})]})})]})})]}):o.jsxs("div",{className:"empty-state",children:[o.jsx(pw,{size:64,className:"empty-state-icon"}),o.jsx("h3",{children:"Selecione uma aeronave"}),o.jsx("p",{children:"Selecione uma aeronave no menu lateral para fazer estimativas de voo."})]})}const uN=["#6366f1","#10b981","#f59e0b","#ef4444","#8b5cf6","#3b82f6","#64748b"];function mte(){const{selectedAircraft:t}=Ir(),[e,r]=N.useState("logbook"),[n,a]=N.useState(()=>{const k=new Date;return k.setMonth(k.getMonth()-6),k.toISOString().split("T")[0]}),[i,s]=N.useState(new Date().toISOString().split("T")[0]),[c,d]=N.useState([]),[f,p]=N.useState([]),[m,v]=N.useState([]),[y,w]=N.useState([]);N.useEffect(()=>{t&&S(),w(U.getUsers())},[t,n,i]);const S=()=>{if(!t)return;const k=U.getFlights(t.id),L=U.getExpenses(t.id),F=U.getMaintenanceEvents(t.id),z=q=>q.filter(Y=>Y.data>=n&&Y.data<=i);d(z(k)),p(z(L)),v(z(F))},b=()=>{let k=[],L=[];e==="logbook"?(k=["Data","Origem","Destino","Piloto","Tempo de Voo","Horas Motor","Ciclos"],L=c.map(te=>{const ee=y.find(oe=>oe.id===te.pilotoId);return[ht(te.data),te.origem,te.destino,ee?.nome||"-",ft(te.tempoVoo),ft(te.horasMotor),te.ciclos.toString()]})):e==="financeiro"?(k=["Data","Categoria","Descrio","Tipo","Valor"],L=f.map(te=>[ht(te.data),Xx(te.categoria),te.descricao,te.tipo==="fixo"?"Fixo":"Varivel",le(te.valor)])):(k=["Data","Tipo","Descrio","Horas","Custo","Oficina"],L=m.map(te=>[ht(te.data),te.tipo,te.descricao,ft(te.horasAeronave),le(te.custo),te.oficina||"-"]));const F=[k.join(","),...L.map(te=>te.map(ee=>`"${ee}"`).join(","))].join(`
`),z=new Blob([F],{type:"text/csv;charset=utf-8;"}),q=URL.createObjectURL(z),Y=document.createElement("a");Y.href=q,Y.download=`relatorio_${e}_${t?.prefixo}_${n}_${i}.csv`,Y.click()},_=()=>{const k={};return c.forEach(L=>{const F=L.data.substring(0,7);k[F]||(k[F]={month:F,horas:0,custos:0,voos:0}),k[F].horas+=L.tempoVoo,k[F].voos+=1}),f.forEach(L=>{const F=L.data.substring(0,7);k[F]||(k[F]={month:F,horas:0,custos:0,voos:0}),k[F].custos+=L.valor}),Object.values(k).sort((L,F)=>L.month.localeCompare(F.month))},A=()=>{const k={};return f.forEach(L=>{k[L.categoria]=(k[L.categoria]||0)+L.valor}),Object.entries(k).map(([L,F],z)=>({name:Xx(L),value:F,color:uN[z%uN.length]}))},x=()=>{const k={};return c.forEach(L=>{const z=y.find(q=>q.id===L.pilotoId)?.nome||"Desconhecido";k[z]=(k[z]||0)+L.tempoVoo}),Object.entries(k).map(([L,F])=>({name:L,horas:F}))},T=_(),C=A(),E=x(),P=c.reduce((k,L)=>k+L.tempoVoo,0),R=c.length,M=f.reduce((k,L)=>k+L.valor,0),$=m.reduce((k,L)=>k+L.custo,0);return t?o.jsxs("div",{className:"relatorios-page",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Relatrios"}),o.jsxs("p",{className:"page-subtitle",children:["Anlises e exportaes - ",t.prefixo]})]}),o.jsx(me,{icon:o.jsx(su,{size:18}),onClick:b,children:"Exportar CSV"})]}),o.jsx(pe,{className:"filters-card",children:o.jsxs("div",{className:"filters",children:[o.jsx(Je,{label:"Tipo de Relatrio",options:[{value:"logbook",label:"Logbook"},{value:"financeiro",label:"Financeiro"},{value:"manutencao",label:"Manuteno"}],value:e,onChange:k=>r(k.target.value)}),o.jsx(Q,{label:"Data Inicial",type:"date",value:n,onChange:k=>a(k.target.value)}),o.jsx(Q,{label:"Data Final",type:"date",value:i,onChange:k=>s(k.target.value)})]})}),o.jsxs("div",{className:"summary-cards",children:[o.jsxs(pe,{className:"summary-card",children:[o.jsx("div",{className:"summary-icon blue",children:o.jsx(Ta,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:R}),o.jsx("span",{className:"summary-label",children:"Voos"})]})]}),o.jsxs(pe,{className:"summary-card",children:[o.jsx("div",{className:"summary-icon green",children:o.jsx(yi,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:ft(P)}),o.jsx("span",{className:"summary-label",children:"Horas"})]})]}),o.jsxs(pe,{className:"summary-card",children:[o.jsx("div",{className:"summary-icon orange",children:o.jsx(jc,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:le(M)}),o.jsx("span",{className:"summary-label",children:"Despesas"})]})]}),o.jsxs(pe,{className:"summary-card",children:[o.jsx("div",{className:"summary-icon purple",children:o.jsx(ph,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:le($)}),o.jsx("span",{className:"summary-label",children:"Manutenes"})]})]})]}),o.jsxs("div",{className:"charts-grid",children:[o.jsx(pe,{title:"Evoluo Mensal",children:o.jsx("div",{className:"chart-container",children:o.jsx(kr,{width:"100%",height:300,children:o.jsxs(Ws,{data:T,children:[o.jsx(Vn,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),o.jsx(Vr,{dataKey:"month",stroke:"var(--text-muted)",fontSize:12}),o.jsx(jr,{yAxisId:"left",stroke:"var(--text-muted)",fontSize:12}),o.jsx(jr,{yAxisId:"right",orientation:"right",stroke:"var(--text-muted)",fontSize:12}),o.jsx(Tt,{contentStyle:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"8px"}}),o.jsx(cn,{}),o.jsx(_r,{yAxisId:"left",dataKey:"horas",fill:"#6366f1",name:"Horas",radius:[4,4,0,0]}),o.jsx(_r,{yAxisId:"right",dataKey:"voos",fill:"#10b981",name:"Voos",radius:[4,4,0,0]})]})})})}),o.jsx(pe,{title:"Custos por Categoria",children:o.jsx("div",{className:"chart-container",children:o.jsx(kr,{width:"100%",height:300,children:o.jsxs(gu,{children:[o.jsx(un,{data:C,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",label:({name:k,percent:L})=>`${k}: ${(L*100).toFixed(0)}%`,children:C.map((k,L)=>o.jsx(Si,{fill:k.color},`cell-${L}`))}),o.jsx(Tt,{formatter:k=>le(k),contentStyle:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"8px"}})]})})})}),o.jsx(pe,{title:"Horas por Piloto",children:o.jsx("div",{className:"chart-container",children:o.jsx(kr,{width:"100%",height:300,children:o.jsxs(Ws,{data:E,layout:"vertical",children:[o.jsx(Vn,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),o.jsx(Vr,{type:"number",stroke:"var(--text-muted)",fontSize:12}),o.jsx(jr,{dataKey:"name",type:"category",stroke:"var(--text-muted)",fontSize:12,width:100}),o.jsx(Tt,{formatter:k=>ft(k),contentStyle:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"8px"}}),o.jsx(_r,{dataKey:"horas",fill:"#8b5cf6",radius:[0,4,4,0]})]})})})}),o.jsx(pe,{title:"Custos ao Longo do Tempo",children:o.jsx("div",{className:"chart-container",children:o.jsx(kr,{width:"100%",height:300,children:o.jsxs(Zh,{data:T,children:[o.jsx(Vn,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),o.jsx(Vr,{dataKey:"month",stroke:"var(--text-muted)",fontSize:12}),o.jsx(jr,{stroke:"var(--text-muted)",fontSize:12,tickFormatter:k=>`R$${k/1e3}k`}),o.jsx(Tt,{formatter:k=>le(k),contentStyle:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"8px"}}),o.jsx(la,{type:"monotone",dataKey:"custos",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b"},name:"Custos"})]})})})})]})]}):o.jsxs("div",{className:"empty-state",children:[o.jsx(jc,{size:64,className:"empty-state-icon"}),o.jsx("h3",{children:"Selecione uma aeronave"}),o.jsx("p",{children:"Selecione uma aeronave no menu lateral para visualizar relatrios."})]})}const vte=[{value:"",label:"Todos os grupos"},{value:"grossi",label:"Grossi"},{value:"shimada",label:"Shimada"},{value:"grossi_shimada",label:"Grossi e Shimada"},{value:"outros",label:"Outros"}];function gte(){const{selectedAircraft:t}=Ir(),[e,r]=N.useState([]),[n,a]=N.useState(null),[i,s]=N.useState(""),[c,d]=N.useState(""),[f,p]=N.useState("");N.useEffect(()=>{t&&m()},[t]);const m=()=>{if(!t)return;const x=U.getFlightEntries(t.id);r(x);const T=U.getTBOProvision(t.id);a(T||null)},v=N.useMemo(()=>{let x=[...e];return i&&(x=x.filter(T=>T.grupo===i)),c&&(x=x.filter(T=>T.data>=c)),f&&(x=x.filter(T=>T.data<=f)),x},[e,i,c,f]),y=N.useMemo(()=>{const x={grossi:{nome:"Grossi",voos:0,horas:0,custos:0,tbo:0},shimada:{nome:"Shimada",voos:0,horas:0,custos:0,tbo:0},grossi_shimada:{nome:"Grossi e Shimada",voos:0,horas:0,custos:0,tbo:0},outros:{nome:"Outros",voos:0,horas:0,custos:0,tbo:0}};return v.forEach(T=>{const C=x[T.grupo];C.voos++,C.horas+=T.tempoVoo/60,C.custos+=T.total,C.tbo+=T.provisaoTboGrossi+T.provisaoTboShimada}),Object.values(x).filter(T=>T.voos>0)},[v]),w=N.useMemo(()=>{const x={};return v.forEach(T=>{const C=T.data.substring(0,7);x[C]||(x[C]={mes:C,voos:0,horas:0,custos:0}),x[C].voos++,x[C].horas+=T.tempoVoo/60,x[C].custos+=T.total}),Object.values(x).sort((T,C)=>T.mes.localeCompare(C.mes))},[v]),S=N.useMemo(()=>{const x={combustivel:0,hangar:0,alimentacao:0,hospedagem:0,limpeza:0,uberTaxi:0,tarifas:0,outras:0,tbo:0};return v.forEach(T=>{x.combustivel+=T.valorCombustivel,x.hangar+=T.hangar,x.alimentacao+=T.alimentacao,x.hospedagem+=T.hospedagem,x.limpeza+=T.limpeza,x.uberTaxi+=T.uberTaxi,x.tarifas+=T.tarifas,x.outras+=T.outras,x.tbo+=T.provisaoTboGrossi+T.provisaoTboShimada}),[{name:"Combustvel",value:x.combustivel,color:"#f59e0b"},{name:"TBO",value:x.tbo,color:"#a855f7"},{name:"Hangar",value:x.hangar,color:"#3b82f6"},{name:"Alimentao",value:x.alimentacao,color:"#22c55e"},{name:"Hospedagem",value:x.hospedagem,color:"#06b6d4"},{name:"Tarifas",value:x.tarifas,color:"#ef4444"},{name:"Limpeza",value:x.limpeza,color:"#ec4899"},{name:"Uber/Taxi",value:x.uberTaxi,color:"#8b5cf6"},{name:"Outras",value:x.outras,color:"#6b7280"}].filter(T=>T.value>0)},[v]),b=N.useMemo(()=>{const x=v.reduce((R,M)=>R+M.tempoVoo,0)/60,T=v.reduce((R,M)=>R+M.total,0),C=v.reduce((R,M)=>R+M.combustivelConsumido,0),E=v.reduce((R,M)=>R+M.provisaoTboGrossi,0),P=v.reduce((R,M)=>R+M.provisaoTboShimada,0);return{voos:v.length,horas:x,custos:T,combustivelLbs:C,custoHora:x>0?T/x:0,tboGrossi:E,tboShimada:P,tboTotal:E+P}},[v]),_=N.useMemo(()=>{const x={};return v.forEach(T=>{const C=`${T.origem}  ${T.destino}`;x[C]||(x[C]={rota:C,voos:0,horas:0,custos:0}),x[C].voos++,x[C].horas+=T.tempoVoo/60,x[C].custos+=T.total}),Object.values(x).sort((T,C)=>C.voos-T.voos).slice(0,10)},[v]),A=()=>{alert("Exportao PDF ser implementada em breve")};return t?o.jsxs("div",{className:"relatorios-lancamentos-page",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Relatrios de Lanamentos"}),o.jsxs("p",{className:"page-subtitle",children:["Anlise detalhada - ",t.prefixo]})]}),o.jsx("div",{className:"header-actions",children:o.jsx(me,{variant:"secondary",icon:o.jsx(su,{size:18}),onClick:A,children:"Exportar PDF"})})]}),o.jsxs(pe,{className:"filters-card",children:[o.jsx("div",{className:"filters-header",children:o.jsxs("div",{className:"filters-title",children:[o.jsx(Ys,{size:18}),o.jsx("span",{children:"Filtros"})]})}),o.jsxs("div",{className:"filters-row",children:[o.jsx(Je,{options:vte,value:i,onChange:x=>s(x.target.value)}),o.jsx(Q,{type:"date",value:c,onChange:x=>d(x.target.value),placeholder:"Data inicial"}),o.jsx(Q,{type:"date",value:f,onChange:x=>p(x.target.value),placeholder:"Data final"}),o.jsx(me,{variant:"ghost",size:"sm",onClick:()=>{s(""),d(""),p("")},children:"Limpar"})]})]}),o.jsxs("div",{className:"summary-grid",children:[o.jsxs(pe,{className:"stat-card",children:[o.jsx("div",{className:"stat-icon blue",children:o.jsx(Hr,{size:24})}),o.jsxs("div",{className:"stat-content",children:[o.jsx("span",{className:"stat-value",children:b.voos}),o.jsx("span",{className:"stat-label",children:"Voos"})]})]}),o.jsxs(pe,{className:"stat-card",children:[o.jsx("div",{className:"stat-icon green",children:o.jsx(_n,{size:24})}),o.jsxs("div",{className:"stat-content",children:[o.jsxs("span",{className:"stat-value",children:[b.horas.toFixed(1),"h"]}),o.jsx("span",{className:"stat-label",children:"Horas Totais"})]})]}),o.jsxs(pe,{className:"stat-card",children:[o.jsx("div",{className:"stat-icon yellow",children:o.jsx(Ji,{size:24})}),o.jsxs("div",{className:"stat-content",children:[o.jsxs("span",{className:"stat-value",children:[b.combustivelLbs.toLocaleString()," lbs"]}),o.jsx("span",{className:"stat-label",children:"Combustvel"})]})]}),o.jsxs(pe,{className:"stat-card",children:[o.jsx("div",{className:"stat-icon purple",children:o.jsx(vi,{size:24})}),o.jsxs("div",{className:"stat-content",children:[o.jsx("span",{className:"stat-value",children:le(b.custos)}),o.jsx("span",{className:"stat-label",children:"Custo Total"})]})]}),o.jsxs(pe,{className:"stat-card",children:[o.jsx("div",{className:"stat-icon red",children:o.jsx(yi,{size:24})}),o.jsxs("div",{className:"stat-content",children:[o.jsx("span",{className:"stat-value",children:le(b.custoHora)}),o.jsx("span",{className:"stat-label",children:"Custo/Hora"})]})]})]}),o.jsxs(pe,{className:"tbo-card",children:[o.jsx("h3",{children:"Proviso TBO Acumulada"}),o.jsxs("div",{className:"tbo-grid",children:[o.jsxs("div",{className:"tbo-item grossi",children:[o.jsx("span",{className:"tbo-label",children:"TBO Grossi"}),o.jsx("span",{className:"tbo-value",children:le(b.tboGrossi)})]}),o.jsxs("div",{className:"tbo-item shimada",children:[o.jsx("span",{className:"tbo-label",children:"TBO Shimada"}),o.jsx("span",{className:"tbo-value",children:le(b.tboShimada)})]}),o.jsxs("div",{className:"tbo-item total",children:[o.jsx("span",{className:"tbo-label",children:"Total Provisionado"}),o.jsx("span",{className:"tbo-value",children:le(b.tboTotal)})]}),n&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"tbo-item",children:[o.jsx("span",{className:"tbo-label",children:"Horas Acumuladas"}),o.jsxs("span",{className:"tbo-value",children:[n.horasAcumuladas.toFixed(1),"h"]})]}),o.jsxs("div",{className:"tbo-item",children:[o.jsx("span",{className:"tbo-label",children:"Valor/Hora"}),o.jsx("span",{className:"tbo-value",children:le(n.valorPorHora)})]})]})]})]}),o.jsxs("div",{className:"charts-grid",children:[o.jsxs(pe,{children:[o.jsx("h3",{children:"Custos por Grupo"}),o.jsx("div",{className:"chart-container",children:o.jsx(kr,{width:"100%",height:300,children:o.jsxs(Ws,{data:y,children:[o.jsx(Vn,{strokeDasharray:"3 3",stroke:"var(--border)"}),o.jsx(Vr,{dataKey:"nome",stroke:"var(--text-secondary)",fontSize:12}),o.jsx(jr,{stroke:"var(--text-secondary)",fontSize:12}),o.jsx(Tt,{contentStyle:{background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"8px"},formatter:x=>le(x)}),o.jsx(cn,{}),o.jsx(_r,{dataKey:"custos",name:"Custos",fill:"#6366f1",radius:[4,4,0,0]}),o.jsx(_r,{dataKey:"tbo",name:"TBO",fill:"#a855f7",radius:[4,4,0,0]})]})})})]}),o.jsxs(pe,{children:[o.jsx("h3",{children:"Distribuio de Custos"}),o.jsx("div",{className:"chart-container",children:o.jsx(kr,{width:"100%",height:300,children:o.jsxs(gu,{children:[o.jsx(un,{data:S,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",label:({name:x,percent:T})=>`${x} ${(T*100).toFixed(0)}%`,labelLine:!1,children:S.map((x,T)=>o.jsx(Si,{fill:x.color},`cell-${T}`))}),o.jsx(Tt,{contentStyle:{background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"8px"},formatter:x=>le(x)})]})})})]}),o.jsxs(pe,{className:"full-width",children:[o.jsx("h3",{children:"Evoluo Mensal"}),o.jsx("div",{className:"chart-container",children:o.jsx(kr,{width:"100%",height:300,children:o.jsxs(Zh,{data:w,children:[o.jsx(Vn,{strokeDasharray:"3 3",stroke:"var(--border)"}),o.jsx(Vr,{dataKey:"mes",stroke:"var(--text-secondary)",fontSize:12,tickFormatter:x=>{const[T,C]=x.split("-");return`${C}/${T.slice(2)}`}}),o.jsx(jr,{yAxisId:"left",stroke:"var(--text-secondary)",fontSize:12}),o.jsx(jr,{yAxisId:"right",orientation:"right",stroke:"var(--text-secondary)",fontSize:12}),o.jsx(Tt,{contentStyle:{background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"8px"},formatter:(x,T)=>T==="Custos"?le(x):x.toFixed(1)}),o.jsx(cn,{}),o.jsx(la,{yAxisId:"left",type:"monotone",dataKey:"custos",name:"Custos",stroke:"#6366f1",strokeWidth:2,dot:{fill:"#6366f1",strokeWidth:2}}),o.jsx(la,{yAxisId:"right",type:"monotone",dataKey:"horas",name:"Horas",stroke:"#22c55e",strokeWidth:2,dot:{fill:"#22c55e",strokeWidth:2}})]})})})]})]}),o.jsxs(pe,{children:[o.jsx("h3",{children:"Top 10 Rotas"}),o.jsx("div",{className:"rotas-table",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Rota"}),o.jsx("th",{children:"Voos"}),o.jsx("th",{children:"Horas"}),o.jsx("th",{children:"Custos"}),o.jsx("th",{children:"Custo/Hora"})]})}),o.jsx("tbody",{children:_.map((x,T)=>o.jsxs("tr",{children:[o.jsxs("td",{children:[o.jsxs("span",{className:"rota-rank",children:["#",T+1]}),x.rota]}),o.jsx("td",{children:x.voos}),o.jsxs("td",{children:[x.horas.toFixed(1),"h"]}),o.jsx("td",{children:le(x.custos)}),o.jsx("td",{children:le(x.horas>0?x.custos/x.horas:0)})]},x.rota))})]})})]}),o.jsxs(pe,{className:"resumo-final",children:[o.jsx("h3",{children:"Resumo Final - Estilo Planilha"}),o.jsx("div",{className:"resumo-table",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Categoria"}),o.jsx("th",{children:"Grossi"}),o.jsx("th",{children:"Shimada"}),o.jsx("th",{children:"Ambos"}),o.jsx("th",{children:"Outros"}),o.jsx("th",{children:"Total"})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{children:"Voos"}),o.jsx("td",{children:v.filter(x=>x.grupo==="grossi").length}),o.jsx("td",{children:v.filter(x=>x.grupo==="shimada").length}),o.jsx("td",{children:v.filter(x=>x.grupo==="grossi_shimada").length}),o.jsx("td",{children:v.filter(x=>x.grupo==="outros").length}),o.jsx("td",{className:"total",children:b.voos})]}),o.jsxs("tr",{children:[o.jsx("td",{children:"Horas"}),o.jsxs("td",{children:[(v.filter(x=>x.grupo==="grossi").reduce((x,T)=>x+T.tempoVoo,0)/60).toFixed(1),"h"]}),o.jsxs("td",{children:[(v.filter(x=>x.grupo==="shimada").reduce((x,T)=>x+T.tempoVoo,0)/60).toFixed(1),"h"]}),o.jsxs("td",{children:[(v.filter(x=>x.grupo==="grossi_shimada").reduce((x,T)=>x+T.tempoVoo,0)/60).toFixed(1),"h"]}),o.jsxs("td",{children:[(v.filter(x=>x.grupo==="outros").reduce((x,T)=>x+T.tempoVoo,0)/60).toFixed(1),"h"]}),o.jsxs("td",{className:"total",children:[b.horas.toFixed(1),"h"]})]}),o.jsxs("tr",{children:[o.jsx("td",{children:"Custos (sem TBO)"}),o.jsx("td",{children:le(v.filter(x=>x.grupo==="grossi").reduce((x,T)=>x+T.total-T.provisaoTboGrossi-T.provisaoTboShimada,0))}),o.jsx("td",{children:le(v.filter(x=>x.grupo==="shimada").reduce((x,T)=>x+T.total-T.provisaoTboGrossi-T.provisaoTboShimada,0))}),o.jsx("td",{children:le(v.filter(x=>x.grupo==="grossi_shimada").reduce((x,T)=>x+T.total-T.provisaoTboGrossi-T.provisaoTboShimada,0))}),o.jsx("td",{children:le(v.filter(x=>x.grupo==="outros").reduce((x,T)=>x+T.total-T.provisaoTboGrossi-T.provisaoTboShimada,0))}),o.jsx("td",{className:"total",children:le(b.custos-b.tboTotal)})]}),o.jsxs("tr",{className:"highlight-row",children:[o.jsx("td",{children:"Proviso TBO"}),o.jsx("td",{className:"grossi",children:le(b.tboGrossi)}),o.jsx("td",{className:"shimada",children:le(b.tboShimada)}),o.jsx("td",{children:"-"}),o.jsx("td",{children:"-"}),o.jsx("td",{className:"total",children:le(b.tboTotal)})]}),o.jsxs("tr",{className:"total-row",children:[o.jsx("td",{children:"TOTAL GERAL"}),o.jsx("td",{children:le(v.filter(x=>x.grupo==="grossi").reduce((x,T)=>x+T.total,0))}),o.jsx("td",{children:le(v.filter(x=>x.grupo==="shimada").reduce((x,T)=>x+T.total,0))}),o.jsx("td",{children:le(v.filter(x=>x.grupo==="grossi_shimada").reduce((x,T)=>x+T.total,0))}),o.jsx("td",{children:le(v.filter(x=>x.grupo==="outros").reduce((x,T)=>x+T.total,0))}),o.jsx("td",{className:"total",children:le(b.custos)})]})]})]})})]})]}):o.jsxs("div",{className:"empty-state",children:[o.jsx(Hr,{size:64,className:"empty-state-icon"}),o.jsx("h3",{children:"Selecione uma aeronave"}),o.jsx("p",{children:"Selecione uma aeronave no menu lateral para visualizar os relatrios."})]})}const Jd=["#6366f1","#8b5cf6","#ec4899","#f97316","#14b8a6","#84cc16","#f59e0b","#06b6d4"],yte=[{value:"mes_atual",label:"Ms Atual"},{value:"ultimos_30",label:"ltimos 30 dias"},{value:"trimestral",label:"Trimestre Atual"},{value:"anual",label:"Ano Atual"},{value:"personalizado",label:"Personalizado"}],bte=t=>{const e=new Date,r=e.toISOString().split("T")[0];let n;switch(t){case"mes_atual":n=new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0];break;case"ultimos_30":n=new Date(e.getTime()-720*60*60*1e3).toISOString().split("T")[0];break;case"trimestral":const a=Math.floor(e.getMonth()/3);n=new Date(e.getFullYear(),a*3,1).toISOString().split("T")[0];break;case"anual":n=new Date(e.getFullYear(),0,1).toISOString().split("T")[0];break;default:n=new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0]}return{start:n,end:r}};function xte(){const{selectedAircraft:t}=Ir(),[e,r]=N.useState("mes_atual"),[n,a]=N.useState(""),[i,s]=N.useState(""),[c,d]=N.useState(!1),[f,p]=N.useState(!1),[m,v]=N.useState(!0),[y,w]=N.useState(null),[S,b]=N.useState([]),[_,A]=N.useState(null),{startDate:x,endDate:T}=N.useMemo(()=>{if(e==="personalizado")return{startDate:n,endDate:i};const k=bte(e);return{startDate:k.start,endDate:k.end}},[e,n,i]);N.useEffect(()=>{if(!t||!x||!T)return;const k=U.getMemberUsageReport(t.id,x,T,{excluirInstrucao:c,excluirTeste:f,excluirManutencao:m});if(w(k),k.porMembro.length>0){const L=k.porMembro[0].memberId;A(L),C(L)}},[t,x,T,c,f,m]);const C=k=>{if(!t)return;const L=new Date().getFullYear(),F=U.getMemberUsageByMonth(t.id,k,L);b(F)},E=k=>{A(k),C(k)},P=N.useMemo(()=>y?y.porMembro.filter(k=>k.horasVoadas>0).map(k=>({name:k.memberName,value:k.horasVoadas,percentual:k.percentualHoras})):[],[y]),R=N.useMemo(()=>y?y.porMembro.filter(k=>k.cotaPercentual!==void 0).map(k=>({name:k.memberName,uso:k.percentualHoras,cota:k.cotaPercentual||0,diferenca:k.diferencaUsoCota||0})):[],[y]),M=()=>{if(!y)return;const k=["Scio","Horas Voadas","% do Total","N de Voos","% Cota","Diferena","Custo Total","Custo/Hora"],L=y.porMembro.map(Y=>[Y.memberName,Y.horasVoadas.toFixed(2),Y.percentualHoras.toFixed(1),Y.numeroVoos,Y.cotaPercentual?.toFixed(1)||"-",Y.diferencaUsoCota?.toFixed(1)||"-",Y.custoTotal?.toFixed(2)||"-",Y.custoMedioPorHora?.toFixed(2)||"-"]),F=[k.join(","),...L.map(Y=>Y.join(","))].join(`
`),z=new Blob([F],{type:"text/csv;charset=utf-8;"}),q=document.createElement("a");q.href=URL.createObjectURL(z),q.download=`uso_por_socio_${x}_${T}.csv`,q.click()},$=k=>k===void 0?null:k>5?o.jsxs("span",{className:"trend-indicator up",children:[o.jsx(yi,{size:14}),"+",k.toFixed(1),"%"]}):k<-5?o.jsxs("span",{className:"trend-indicator down",children:[o.jsx(Ob,{size:14}),k.toFixed(1),"%"]}):o.jsxs("span",{className:"trend-indicator neutral",children:[o.jsx(Iz,{size:14}),k.toFixed(1),"%"]});return t?o.jsxs("div",{className:"uso-por-socio-page",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Uso por Scio"}),o.jsxs("p",{className:"page-subtitle",children:["Anlise de utilizao da aeronave - ",t.prefixo]})]}),o.jsx("div",{className:"header-actions",children:o.jsx(me,{variant:"secondary",icon:o.jsx(su,{size:18}),onClick:M,children:"Exportar CSV"})})]}),o.jsx(pe,{className:"filters-card",children:o.jsxs("div",{className:"filters",children:[o.jsx(Ys,{size:18,className:"filter-icon"}),o.jsx(Je,{options:yte,value:e,onChange:k=>r(k.target.value)}),e==="personalizado"&&o.jsxs(o.Fragment,{children:[o.jsx(Q,{type:"date",value:n,onChange:k=>a(k.target.value),placeholder:"Data inicial"}),o.jsx(Q,{type:"date",value:i,onChange:k=>s(k.target.value),placeholder:"Data final"})]}),o.jsxs("div",{className:"filter-checkboxes",children:[o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:c,onChange:k=>d(k.target.checked)}),"Excluir Instruo"]}),o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:f,onChange:k=>p(k.target.checked)}),"Excluir Teste"]}),o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:m,onChange:k=>v(k.target.checked)}),"Excluir Manuteno"]})]})]})}),y&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"summary-cards",children:[o.jsxs(pe,{className:"summary-card",children:[o.jsx("div",{className:"summary-icon",children:o.jsx(_n,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:ft(y.horasTotais)}),o.jsx("span",{className:"summary-label",children:"Horas Totais"})]})]}),o.jsxs(pe,{className:"summary-card",children:[o.jsx("div",{className:"summary-icon",children:o.jsx(jc,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:y.voosTotais}),o.jsx("span",{className:"summary-label",children:"Total de Voos"})]})]}),o.jsxs(pe,{className:"summary-card",children:[o.jsx("div",{className:"summary-icon",children:o.jsx(ia,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:y.porMembro.length}),o.jsx("span",{className:"summary-label",children:"Scios Ativos"})]})]}),y.custoTotal!==void 0&&y.custoTotal>0&&o.jsxs(pe,{className:"summary-card",children:[o.jsx("div",{className:"summary-icon",children:o.jsx(yi,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:le(y.custoTotal)}),o.jsx("span",{className:"summary-label",children:"Custo Total"})]})]})]}),o.jsxs("div",{className:"charts-row",children:[o.jsx(pe,{title:"Distribuio de Uso (%)",className:"chart-card",children:P.length===0?o.jsxs("div",{className:"empty-chart",children:[o.jsx(ph,{size:48}),o.jsx("p",{children:"Nenhum voo registrado no perodo"})]}):o.jsx(kr,{width:"100%",height:300,children:o.jsxs(gu,{children:[o.jsx(un,{data:P,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",label:({name:k,percentual:L})=>`${k} (${L.toFixed(1)}%)`,labelLine:!1,children:P.map((k,L)=>o.jsx(Si,{fill:Jd[L%Jd.length]},`cell-${L}`))}),o.jsx(Tt,{formatter:k=>[`${k.toFixed(2)}h`,"Horas"],contentStyle:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"var(--radius-md)"}})]})})}),R.length>0&&o.jsx(pe,{title:"Uso vs Cota Societria (%)",className:"chart-card",children:o.jsx(kr,{width:"100%",height:300,children:o.jsxs(Ws,{data:R,layout:"vertical",children:[o.jsx(Vn,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),o.jsx(Vr,{type:"number",domain:[0,100],stroke:"var(--text-muted)"}),o.jsx(jr,{type:"category",dataKey:"name",stroke:"var(--text-muted)",width:100}),o.jsx(Tt,{contentStyle:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"var(--radius-md)"},formatter:(k,L)=>[`${k.toFixed(1)}%`,L==="uso"?"% Uso":"% Cota"]}),o.jsx(cn,{}),o.jsx(_r,{dataKey:"cota",name:"Cota",fill:"var(--text-muted)",opacity:.5}),o.jsx(_r,{dataKey:"uso",name:"Uso",fill:"var(--accent-color)"})]})})})]}),_&&S.length>0&&o.jsxs(pe,{title:`Evoluo Mensal - ${y.porMembro.find(k=>k.memberId===_)?.memberName||""}`,className:"monthly-chart",children:[o.jsx("div",{className:"member-selector",children:o.jsx(Je,{options:y.porMembro.map(k=>({value:k.memberId,label:k.memberName})),value:_,onChange:k=>E(k.target.value)})}),o.jsx(kr,{width:"100%",height:250,children:o.jsxs(Zh,{data:S,children:[o.jsx(Vn,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),o.jsx(Vr,{dataKey:"mes",stroke:"var(--text-muted)",tickFormatter:k=>{const[L,F]=k.split("-");return`${F}/${L.slice(2)}`}}),o.jsx(jr,{stroke:"var(--text-muted)"}),o.jsx(Tt,{contentStyle:{background:"var(--bg-card)",border:"1px solid var(--border-color)",borderRadius:"var(--radius-md)"},formatter:(k,L)=>[L==="horas"?`${k.toFixed(2)}h`:k,L==="horas"?"Horas":"Voos"]}),o.jsx(cn,{}),o.jsx(la,{type:"monotone",dataKey:"horas",name:"Horas",stroke:"var(--accent-color)",strokeWidth:2}),o.jsx(la,{type:"monotone",dataKey:"voos",name:"Voos",stroke:"var(--info-color)",strokeWidth:2})]})})]}),o.jsx(pe,{title:"Detalhamento por Scio",children:o.jsx(Qt,{columns:[{key:"memberName",header:"Scio",render:k=>k.memberName},{key:"memberRole",header:"Perfil",render:k=>o.jsx(Ze,{variant:k.memberRole==="admin"?"info":k.memberRole==="piloto"?"success":"default",children:k.memberRole==="admin"?"Admin":k.memberRole==="gestor"?"Gestor":k.memberRole==="piloto"?"Piloto":"Cotista"})},{key:"horasVoadas",header:"Horas",render:k=>ft(k.horasVoadas)},{key:"percentualHoras",header:"% do Total",render:k=>o.jsxs("div",{className:"percentage-cell",children:[o.jsx("div",{className:"percentage-bar",style:{width:`${Math.min(k.percentualHoras,100)}%`,background:Jd[y.porMembro.indexOf(k)%Jd.length]}}),o.jsxs("span",{children:[k.percentualHoras.toFixed(1),"%"]})]})},{key:"numeroVoos",header:"Voos",render:k=>k.numeroVoos},{key:"cotaPercentual",header:"% Cota",render:k=>k.cotaPercentual!==void 0?`${k.cotaPercentual.toFixed(1)}%`:"-"},{key:"diferencaUsoCota",header:"Diferena",render:k=>$(k.diferencaUsoCota)},{key:"custoTotal",header:"Custo Total",render:k=>k.custoTotal?le(k.custoTotal):"-"},{key:"custoMedioPorHora",header:"Custo/Hora",render:k=>k.custoMedioPorHora?le(k.custoMedioPorHora):"-"}],data:y.porMembro,keyExtractor:k=>k.memberId,emptyMessage:"Nenhum dado disponvel para o perodo selecionado"})}),o.jsxs("div",{className:"report-footer",children:[o.jsxs("span",{children:["Perodo: ",ht(x)," a ",ht(T)]}),y.filtros&&o.jsxs("span",{className:"filters-applied",children:["Filtros:",y.filtros.excluirInstrucao&&" -Instruo",y.filtros.excluirTeste&&" -Teste",y.filtros.excluirManutencao&&" -Manuteno"]})]})]}),!y&&o.jsxs("div",{className:"empty-state",children:[o.jsx(lo,{size:48}),o.jsx("h3",{children:"Selecione um perodo"}),o.jsx("p",{children:"Escolha um perodo para visualizar o relatrio de uso."})]})]}):o.jsxs("div",{className:"empty-state",children:[o.jsx(ia,{size:64,className:"empty-state-icon"}),o.jsx("h3",{children:"Selecione uma aeronave"}),o.jsx("p",{children:"Selecione uma aeronave no menu lateral para ver o relatrio de uso."})]})}const wte=[{value:"admin",label:"Administrador"},{value:"gestor",label:"Gestor"},{value:"piloto",label:"Piloto"},{value:"cotista",label:"Cotista"}];function Ste(){const{user:t,permissions:e}=cr(),[r,n]=N.useState([]),[a,i]=N.useState(!1),[s,c]=N.useState(!1),[d,f]=N.useState({}),[p,m]=N.useState({}),[v,y]=N.useState(null);N.useEffect(()=>{w()},[]);const w=()=>{n(U.getUsers())},S=()=>{if(!t||!d.nome||!d.email)return;const x={...d,active:d.active!==!1,horasTotais:d.horasTotais||0};U.saveUser(x,t.id,t.nome),w(),i(!1),f({})},b=()=>{if(!v||!p.tipo)return;const x={...p,userId:v.user.id};U.saveUserLicense(x),y({...v,licenses:U.getUserLicenses(v.user.id)}),c(!1),m({})},_=x=>{v&&confirm("Tem certeza que deseja excluir esta licena?")&&(U.deleteUserLicense(x),y({...v,licenses:U.getUserLicenses(v.user.id)}))},A=x=>{y({user:x,licenses:U.getUserLicenses(x.id)})};return e.canManageUsers?o.jsxs("div",{className:"usuarios-page",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Usurios"}),o.jsx("p",{className:"page-subtitle",children:"Gerenciamento de usurios e licenas"})]}),o.jsx(me,{icon:o.jsx(Zt,{size:18}),onClick:()=>{f({role:"piloto",active:!0}),i(!0)},children:"Novo Usurio"})]}),o.jsxs("div",{className:"users-summary",children:[o.jsx(pe,{className:"summary-card",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("div",{className:"summary-icon",children:o.jsx(ia,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:r.length}),o.jsx("span",{className:"summary-label",children:"Total"})]})]})}),o.jsx(pe,{className:"summary-card",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("div",{className:"summary-icon admin",children:o.jsx(io,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:r.filter(x=>x.role==="admin").length}),o.jsx("span",{className:"summary-label",children:"Admins"})]})]})}),o.jsx(pe,{className:"summary-card",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("div",{className:"summary-icon pilot",children:o.jsx(ia,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:r.filter(x=>x.role==="piloto").length}),o.jsx("span",{className:"summary-label",children:"Pilotos"})]})]})}),o.jsx(pe,{className:"summary-card",children:o.jsxs("div",{className:"summary-content",children:[o.jsx("div",{className:"summary-icon active",children:o.jsx($z,{size:24})}),o.jsxs("div",{className:"summary-info",children:[o.jsx("span",{className:"summary-value",children:r.filter(x=>x.active).length}),o.jsx("span",{className:"summary-label",children:"Ativos"})]})]})})]}),o.jsx(pe,{children:o.jsx(Qt,{columns:[{key:"nome",header:"Usurio",render:x=>o.jsxs("div",{className:"user-cell",children:[o.jsx("div",{className:"user-avatar",children:x.nome.charAt(0).toUpperCase()}),o.jsxs("div",{className:"user-info",children:[o.jsx("span",{className:"user-name",children:x.nome}),o.jsx("span",{className:"user-email",children:x.email})]})]})},{key:"role",header:"Perfil",render:x=>o.jsx(Ze,{variant:x.role==="admin"?"info":"default",children:Cee(x.role)})},{key:"telefone",header:"Telefone",render:x=>x.telefone||"-"},{key:"horasTotais",header:"Horas",render:x=>ft(x.horasTotais)},{key:"status",header:"Status",render:x=>o.jsx(Ze,{variant:x.active?"success":"default",children:x.active?"Ativo":"Inativo"})},{key:"actions",header:"",width:"120px",render:x=>o.jsxs("div",{className:"table-actions",children:[o.jsx(me,{size:"sm",variant:"ghost",onClick:()=>A(x),children:"Licenas"}),o.jsx("button",{className:"action-btn",onClick:()=>{f(x),i(!0)},children:o.jsx(zr,{size:14})})]})}],data:r,keyExtractor:x=>x.id,emptyMessage:"Nenhum usurio cadastrado"})}),o.jsx(mt,{isOpen:a,onClose:()=>i(!1),title:d.id?"Editar Usurio":"Novo Usurio",size:"md",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>i(!1),children:"Cancelar"}),o.jsx(me,{onClick:S,children:"Salvar"})]}),children:o.jsxs("div",{className:"form-grid",children:[o.jsx(Q,{label:"Nome",value:d.nome||"",onChange:x=>f({...d,nome:x.target.value}),required:!0}),o.jsx(Q,{label:"Email",type:"email",value:d.email||"",onChange:x=>f({...d,email:x.target.value}),required:!0}),o.jsx(Q,{label:"Telefone",value:d.telefone||"",onChange:x=>f({...d,telefone:x.target.value})}),o.jsx(Je,{label:"Perfil",options:wte,value:d.role||"piloto",onChange:x=>f({...d,role:x.target.value})}),o.jsx(Q,{label:"Horas Totais",type:"number",value:d.horasTotais||0,onChange:x=>f({...d,horasTotais:parseFloat(x.target.value)})}),o.jsx("div",{className:"checkbox-wrapper",children:o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:d.active!==!1,onChange:x=>f({...d,active:x.target.checked})}),"Usurio ativo"]})})]})}),o.jsx(mt,{isOpen:!!v,onClose:()=>y(null),title:`Licenas - ${v?.user.nome}`,size:"lg",children:o.jsxs("div",{className:"licenses-section",children:[o.jsxs("div",{className:"licenses-header",children:[o.jsx("h4",{children:"Licenas e Habilitaes"}),o.jsx(me,{size:"sm",icon:o.jsx(Zt,{size:16}),onClick:()=>{m({}),c(!0)},children:"Adicionar"})]}),o.jsxs("div",{className:"licenses-list",children:[v?.licenses.map(x=>{const T=x.validade?zn(x.validade):null,C=T!==null&&T<=0,E=T!==null&&T>0&&T<=30;return o.jsxs("div",{className:`license-item ${C?"expired":E?"near-expiry":""}`,children:[o.jsxs("div",{className:"license-info",children:[o.jsx("span",{className:"license-type",children:x.tipo}),x.numero&&o.jsxs("span",{className:"license-number",children:["N ",x.numero]}),x.validade&&o.jsxs("span",{className:"license-validity",children:["Validade: ",ht(x.validade)]})]}),o.jsxs("div",{className:"license-actions",children:[T!==null&&o.jsx(Ze,{variant:C?"danger":E?"warning":"success",children:C?"Vencida":`${T}d`}),o.jsx("button",{className:"action-btn danger",onClick:()=>_(x.id),children:o.jsx(Ur,{size:14})})]})]},x.id)}),v?.licenses.length===0&&o.jsx("div",{className:"empty-licenses",children:o.jsx("p",{children:"Nenhuma licena cadastrada"})})]})]})}),o.jsx(mt,{isOpen:s,onClose:()=>c(!1),title:"Nova Licena",footer:o.jsxs(o.Fragment,{children:[o.jsx(me,{variant:"secondary",onClick:()=>c(!1),children:"Cancelar"}),o.jsx(me,{onClick:b,children:"Salvar"})]}),children:o.jsxs("div",{className:"form-grid",children:[o.jsx(Q,{label:"Tipo",value:p.tipo||"",onChange:x=>m({...p,tipo:x.target.value.toUpperCase()}),placeholder:"CMA, PP, PC, IFRA, MLTE...",required:!0}),o.jsx(Q,{label:"Nmero",value:p.numero||"",onChange:x=>m({...p,numero:x.target.value})}),o.jsx(Q,{label:"Validade",type:"date",value:p.validade||"",onChange:x=>m({...p,validade:x.target.value})})]})})]}):o.jsxs("div",{className:"empty-state",children:[o.jsx(io,{size:64,className:"empty-state-icon"}),o.jsx("h3",{children:"Acesso Restrito"}),o.jsx("p",{children:"Voc no tem permisso para gerenciar usurios."})]})}function jte(){const{permissions:t}=cr(),[e,r]=N.useState(U.getConfig()),[n,a]=N.useState([]),[i,s]=N.useState(!1);N.useEffect(()=>{a(U.getAuditLogs().slice(0,50))},[]);const c=()=>{U.saveConfig(e),s(!0),setTimeout(()=>s(!1),3e3)};return o.jsxs("div",{className:"configuracoes-page",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Configuraes"}),o.jsx("p",{className:"page-subtitle",children:"Preferncias do sistema"})]}),o.jsx(me,{icon:o.jsx(YN,{size:18}),onClick:c,children:i?"Salvo!":"Salvar Alteraes"})]}),o.jsxs("div",{className:"config-grid",children:[o.jsx(pe,{title:"Alertas e Notificaes",className:"config-card",children:o.jsxs("div",{className:"config-section",children:[o.jsxs("div",{className:"config-item",children:[o.jsxs("div",{className:"config-info",children:[o.jsx(tc,{size:20}),o.jsxs("div",{children:[o.jsx("span",{className:"config-label",children:"Alerta de Manuteno (dias)"}),o.jsx("span",{className:"config-hint",children:"Dias antes do vencimento para alertar"})]})]}),o.jsx(Q,{type:"number",value:e.alertaManutencaoDias,onChange:d=>r({...e,alertaManutencaoDias:parseInt(d.target.value)}),className:"config-input"})]}),o.jsxs("div",{className:"config-item",children:[o.jsxs("div",{className:"config-info",children:[o.jsx(_n,{size:20}),o.jsxs("div",{children:[o.jsx("span",{className:"config-label",children:"Alerta de Manuteno (horas)"}),o.jsx("span",{className:"config-hint",children:"Horas antes do vencimento para alertar"})]})]}),o.jsx(Q,{type:"number",value:e.alertaManutencaoHoras,onChange:d=>r({...e,alertaManutencaoHoras:parseInt(d.target.value)}),className:"config-input"})]}),o.jsxs("div",{className:"config-item",children:[o.jsxs("div",{className:"config-info",children:[o.jsx(tc,{size:20}),o.jsxs("div",{children:[o.jsx("span",{className:"config-label",children:"Alerta de Documento (dias)"}),o.jsx("span",{className:"config-hint",children:"Dias antes do vencimento para alertar"})]})]}),o.jsx(Q,{type:"number",value:e.alertaDocumentoDias,onChange:d=>r({...e,alertaDocumentoDias:parseInt(d.target.value)}),className:"config-input"})]}),o.jsxs("div",{className:"config-item",children:[o.jsxs("div",{className:"config-info",children:[o.jsx(tc,{size:20}),o.jsxs("div",{children:[o.jsx("span",{className:"config-label",children:"Alerta de Pagamento (dias)"}),o.jsx("span",{className:"config-hint",children:"Dias antes do vencimento para alertar"})]})]}),o.jsx(Q,{type:"number",value:e.alertaPagamentoDias,onChange:d=>r({...e,alertaPagamentoDias:parseInt(d.target.value)}),className:"config-input"})]})]})}),o.jsx(pe,{title:"Parmetros de Voo",className:"config-card",children:o.jsxs("div",{className:"config-section",children:[o.jsxs("div",{className:"config-item",children:[o.jsxs("div",{className:"config-info",children:[o.jsx(_n,{size:20}),o.jsxs("div",{children:[o.jsx("span",{className:"config-label",children:"Reserva de Combustvel (min)"}),o.jsx("span",{className:"config-hint",children:"Minutos de reserva padro"})]})]}),o.jsx(Q,{type:"number",value:e.reservaCombustivelMinutos,onChange:d=>r({...e,reservaCombustivelMinutos:parseInt(d.target.value)}),className:"config-input"})]}),o.jsxs("div",{className:"config-item",children:[o.jsxs("div",{className:"config-info",children:[o.jsx(io,{size:20}),o.jsxs("div",{children:[o.jsx("span",{className:"config-label",children:"Margem de Segurana (%)"}),o.jsx("span",{className:"config-hint",children:"Percentual adicional de combustvel"})]})]}),o.jsx(Q,{type:"number",value:e.margemSegurancaPercentual,onChange:d=>r({...e,margemSegurancaPercentual:parseInt(d.target.value)}),className:"config-input"})]}),o.jsxs("div",{className:"config-item",children:[o.jsxs("div",{className:"config-info",children:[o.jsx(Ji,{size:20}),o.jsxs("div",{children:[o.jsx("span",{className:"config-label",children:"Fator Converso lbs  litros"}),o.jsx("span",{className:"config-hint",children:"Para AVGAS: ~0.567 (545 lbs = 309 L)"})]})]}),o.jsx(Q,{type:"number",step:"0.01",value:e.fatorConversaoLbsLitros||.567,onChange:d=>r({...e,fatorConversaoLbsLitros:parseFloat(d.target.value)}),className:"config-input"})]})]})}),o.jsx(pe,{title:"Proviso TBO",className:"config-card tbo-card",children:o.jsxs("div",{className:"config-section",children:[o.jsxs("div",{className:"tbo-info-box",children:[o.jsx(_c,{size:24}),o.jsxs("div",{children:[o.jsx("h4",{children:"Configurao da Proviso de TBO"}),o.jsx("p",{children:"A proviso TBO  calculada automaticamente com base no tempo de voo registrado. O valor  provisionado por hora voada para cobrir custos futuros de reviso geral (TBO)."})]})]}),o.jsxs("div",{className:"config-item highlight",children:[o.jsxs("div",{className:"config-info",children:[o.jsx(_c,{size:20}),o.jsxs("div",{children:[o.jsx("span",{className:"config-label",children:"Valor da Proviso TBO (R$/hora)"}),o.jsx("span",{className:"config-hint",children:"Padro: R$ 2.800,00 por hora voada"})]})]}),o.jsx(Q,{type:"number",step:"100",value:e.tboValorPorHora||2800,onChange:d=>r({...e,tboValorPorHora:parseFloat(d.target.value)}),className:"config-input tbo-input"})]}),o.jsxs("div",{className:"tbo-example",children:[o.jsx("span",{className:"example-label",children:"Exemplo de clculo:"}),o.jsxs("div",{className:"example-calc",children:[o.jsxs("span",{children:["1 hora de voo  ",le(e.tboValorPorHora||2800)," = "]}),o.jsx("strong",{children:le(e.tboValorPorHora||2800)}),o.jsx("span",{children:" de proviso"})]})]}),o.jsxs("div",{className:"tbo-rules",children:[o.jsx("h5",{children:"Regras aplicadas:"}),o.jsxs("ul",{children:[o.jsx("li",{children:"A proviso  calculada automaticamente ao registrar um lanamento de voo"}),o.jsx("li",{children:"O valor  dividido entre os grupos conforme o tipo de voo (Grossi / Shimada / Ambos)"}),o.jsx("li",{children:"A proviso  includa no custo total do voo e no rateio entre membros"}),o.jsx("li",{children:"Um saldo acumulado de proviso TBO  mantido por aeronave"})]})]})]})}),o.jsx(pe,{title:"Reserva de Margem (Liquidez)",className:"config-card tbo-card",children:o.jsxs("div",{className:"config-section",children:[o.jsxs("div",{className:"tbo-info-box",children:[o.jsx(X_,{size:24}),o.jsxs("div",{children:[o.jsx("h4",{children:"Configurao da Reserva de Margem"}),o.jsx("p",{children:"A reserva de margem garante liquidez mnima para cobrir chamadas de margem e eventos extraordinrios. Este valor deve estar sempre disponvel em conta separada, no sendo considerado caixa livre."})]})]}),o.jsxs("div",{className:"config-item highlight",children:[o.jsxs("div",{className:"config-info",children:[o.jsx(X_,{size:20}),o.jsxs("div",{children:[o.jsx("span",{className:"config-label",children:"Valor Mnimo da Reserva (R$)"}),o.jsx("span",{className:"config-hint",children:"Padro: R$ 200.000,00"})]})]}),o.jsx(Q,{type:"number",step:"10000",value:e.reservaMargemMinima||2e5,onChange:d=>r({...e,reservaMargemMinima:parseFloat(d.target.value)}),className:"config-input tbo-input"})]}),o.jsxs("div",{className:"config-item",children:[o.jsxs("div",{className:"config-info",children:[o.jsx(tc,{size:20}),o.jsxs("div",{children:[o.jsx("span",{className:"config-label",children:"Alertar quando abaixo de (%)"}),o.jsx("span",{className:"config-hint",children:"Percentual do mnimo para gerar alerta (ex: 110% = alerta se < 110%)"})]})]}),o.jsx(Q,{type:"number",value:e.alertaReservaPercentual||110,onChange:d=>r({...e,alertaReservaPercentual:parseInt(d.target.value)}),className:"config-input"})]}),o.jsxs("div",{className:"tbo-rules",children:[o.jsx("h5",{children:"Regras da Reserva:"}),o.jsxs("ul",{children:[o.jsxs("li",{children:["A reserva ",o.jsx("strong",{children:"no entra no clculo de caixa operacional"})]}),o.jsx("li",{children:"No pode ser usada para despesas comuns do dia a dia"}),o.jsx("li",{children:"Somente administradores podem movimentar esta reserva"}),o.jsx("li",{children:"Uso emergencial requer justificativa obrigatria e auditoria"}),o.jsx("li",{children:'Se abaixo do mnimo, status financeiro ser marcado como "Risco de Liquidez"'})]})]})]})}),t.canManageUsers&&o.jsx(pe,{title:"Trilha de Auditoria",className:"config-card full-width",children:o.jsxs("div",{className:"audit-section",children:[o.jsxs("div",{className:"audit-info",children:[o.jsx(Tz,{size:20}),o.jsxs("span",{children:["ltimas ",n.length," alteraes registradas"]})]}),o.jsxs("div",{className:"audit-list",children:[n.map(d=>o.jsxs("div",{className:"audit-item",children:[o.jsxs("div",{className:"audit-action",children:[o.jsx("span",{className:`action-badge ${d.action}`,children:d.action==="create"?"Criou":d.action==="update"?"Alterou":"Excluiu"}),o.jsx("span",{className:"audit-entity",children:d.entity})]}),o.jsxs("div",{className:"audit-details",children:[o.jsx("span",{className:"audit-user",children:d.userName}),o.jsx("span",{className:"audit-time",children:Yx(d.timestamp)})]})]},d.id)),n.length===0&&o.jsx("div",{className:"empty-audit",children:o.jsx("p",{children:"Nenhuma alterao registrada"})})]})]})}),o.jsx(pe,{title:"Sobre o Sistema",className:"config-card",children:o.jsxs("div",{className:"about-section",children:[o.jsx("div",{className:"about-logo",children:o.jsx(mh,{size:48})}),o.jsx("h3",{children:"AeroGesto"}),o.jsx("p",{children:"Sistema de Gesto de Aeronaves Compartilhadas"}),o.jsxs("div",{className:"about-details",children:[o.jsx("span",{children:"Verso 1.0.0"}),o.jsx("span",{children:""}),o.jsx("span",{children:"Desenvolvido com React + TypeScript"})]})]})})]})]})}class _te{async loadFromCSV(){try{let e=await fetch("/data/aircraft-catalog.csv");if(e.ok||(e=await fetch("/src/data/aircraft-catalog.csv")),!e.ok){const n=localStorage.getItem("aircraft_catalog_csv");if(n)return console.log("CSV no encontrado no servidor, usando cache"),this.parseCSV(n);throw new Error("CSV no encontrado. Coloque o arquivo em public/data/aircraft-catalog.csv ou faa upload manual")}const r=await e.text();return localStorage.setItem("aircraft_catalog_csv",r),localStorage.setItem("aircraft_catalog_csv_timestamp",Date.now().toString()),this.parseCSV(r)}catch(e){console.error("Erro ao carregar CSV:",e);const r=localStorage.getItem("aircraft_catalog_csv");if(r)return console.log("Usando CSV do cache"),this.parseCSV(r);throw e}}parseCSV(e){const r=e.split(`
`).filter(c=>c.trim());if(r.length===0)return[];const n=this.parseCSVLine(r[0]).map(c=>c.trim().toLowerCase()),i=["manufacturer","model","aircraft_type"].filter(c=>!n.includes(c));if(i.length>0)throw new Error(`CSV est faltando colunas obrigatrias: ${i.join(", ")}`);const s=[];for(let c=1;c<r.length;c++){const d=this.parseCSVLine(r[c]);if(d.length!==n.length){console.warn(`Linha ${c+1} tem nmero incorreto de colunas, pulando...`);continue}const f={};n.forEach((v,y)=>{f[v]=d[y]?.trim().replace(/^"|"$/g,"")||""});const p=f.aircraft_type.toLowerCase();if(!["pistao","turbohelice","jato","helicoptero"].includes(p)){console.warn(`Linha ${c+1}: tipo de aeronave invlido "${f.aircraft_type}", pulando...`);continue}if(!f.manufacturer||!f.model){console.warn(`Linha ${c+1}: fabricante ou modelo faltando, pulando...`);continue}const m={manufacturer:f.manufacturer,model:f.model,variant:f.variant||void 0,aircraftType:p};if(f.year_start){const v=parseInt(f.year_start);if(!isNaN(v)&&(m.yearRange={start:v},f.year_end)){const y=parseInt(f.year_end);isNaN(y)||(m.yearRange.end=y)}}s.push(m)}return s}parseCSVLine(e){const r=[];let n="",a=!1;for(let i=0;i<e.length;i++){const s=e[i];s==='"'?a=!a:s===","&&!a?(r.push(n),n=""):n+=s}return r.push(n),r}async loadFromFile(e){return new Promise((r,n)=>{const a=new FileReader;a.onload=i=>{try{const s=i.target?.result,c=this.parseCSV(s);localStorage.setItem("aircraft_catalog_csv",s),localStorage.setItem("aircraft_catalog_csv_timestamp",Date.now().toString()),r(c)}catch(s){n(s)}},a.onerror=()=>n(new Error("Erro ao ler arquivo")),a.readAsText(e,"UTF-8")})}hasCachedCSV(){return!!localStorage.getItem("aircraft_catalog_csv")}getCacheTimestamp(){const e=localStorage.getItem("aircraft_catalog_csv_timestamp");return e?parseInt(e):null}}const ic=new _te,as={MANUFACTURERS:"aerogestao_catalog_manufacturers",MODELS:"aerogestao_catalog_models",SYNC_STATUS:"aerogestao_catalog_sync_status"},Qd=20;class Ate{manufacturers=new Map;models=new Map;syncStatus=null;constructor(){this.loadFromCache()}getManufacturers(e){let r=Array.from(this.manufacturers.values());if(e){const n=this.normalizeString(e);r=r.filter(a=>this.normalizeString(a.name).includes(n))}return r.sort((n,a)=>n.name.localeCompare(a.name))}getManufacturerModels(e,r){let n=Array.from(this.models.values()).filter(a=>a.manufacturerId===e);if(r){const a=this.normalizeString(r);n=n.filter(i=>this.normalizeString(i.model).includes(a)||i.variant&&this.normalizeString(i.variant).includes(a))}return n.sort((a,i)=>a.model!==i.model?a.model.localeCompare(i.model):(a.variant||"").localeCompare(i.variant||""))}getModel(e){return this.models.get(e)||null}getModels(e={},r=1){let n=Array.from(this.models.values());if(e.manufacturerId&&(n=n.filter(f=>f.manufacturerId===e.manufacturerId)),e.aircraftType&&e.aircraftType.length>0&&(n=n.filter(f=>e.aircraftType.includes(f.aircraftType))),e.search){const f=this.normalizeString(e.search);n=n.filter(p=>this.normalizeString(p.manufacturerName).includes(f)||this.normalizeString(p.model).includes(f)||p.variant&&this.normalizeString(p.variant).includes(f))}e.minRange!==void 0&&(n=n.filter(f=>f.specsSummary.range&&f.specsSummary.range>=e.minRange)),e.maxRange!==void 0&&(n=n.filter(f=>f.specsSummary.range&&f.specsSummary.range<=e.maxRange)),e.minSeats!==void 0&&(n=n.filter(f=>f.specsSummary.seats&&f.specsSummary.seats>=e.minSeats)),e.maxSeats!==void 0&&(n=n.filter(f=>f.specsSummary.seats&&f.specsSummary.seats<=e.maxSeats)),e.minMTOW!==void 0&&(n=n.filter(f=>f.specsSummary.mtow&&f.specsSummary.mtow>=e.minMTOW)),e.maxMTOW!==void 0&&(n=n.filter(f=>f.specsSummary.mtow&&f.specsSummary.mtow<=e.maxMTOW)),e.fuelType&&e.fuelType.length>0&&(n=n.filter(f=>f.specsSummary.fuelType&&e.fuelType.includes(f.specsSummary.fuelType))),e.hasCompleteSpecs!==void 0&&(n=n.filter(f=>f.isComplete===e.hasCompleteSpecs));const a=n.length,i=Math.ceil(a/Qd),s=(r-1)*Qd,c=s+Qd;return{models:n.slice(s,c),pagination:{page:r,pageSize:Qd,total:a,totalPages:i},filters:e}}saveManufacturer(e){this.manufacturers.set(e.id,e),this.saveToCache()}saveModel(e){this.models.set(e.id,e);const r=this.manufacturers.get(e.manufacturerId);if(r){const n=Array.from(this.models.values()).filter(a=>a.manufacturerId===e.manufacturerId).length;r.modelCount=n,r.lastUpdated=new Date().toISOString(),this.manufacturers.set(r.id,r)}this.saveToCache()}async linkModelSpecs(e,r,n,a,i){const s=this.models.get(e);if(!s)return null;const c=await Qx.getAircraftSpecs(r,n,a,i);if(!c)return null;const d={id:s.specsId||crypto.randomUUID(),createdAt:s.createdAt,updatedAt:new Date().toISOString()};return s.specsId=d.id,s.isComplete=c.isComplete,s.missingFields=c.missingFields,s.sources=c.sources,s.lastUpdated=new Date().toISOString(),c.mtow?.value&&(s.specsSummary.mtow=c.mtow.value),c.seats&&(s.specsSummary.seats=c.seats),c.range?.value&&(s.specsSummary.range=c.range.value),c.cruiseSpeed?.normal?.value&&(s.specsSummary.cruiseSpeed=c.cruiseSpeed.normal.value),c.engineType&&(s.specsSummary.engineType=c.engineType),c.fuelType&&(s.specsSummary.fuelType=c.fuelType),this.saveModel(s),d.id}async syncCatalog(e=!0){this.syncStatus={lastSync:new Date().toISOString(),status:"running",progress:{total:0,processed:0,errors:0}},this.saveSyncStatus();try{const r=await this.buildCanonicalList();this.syncStatus.progress.total=r.models.length,this.saveSyncStatus();for(const n of r.models)try{let a;if(e&&(a=Array.from(this.models.values()).find(c=>c.manufacturerName.toLowerCase()===n.manufacturer.toLowerCase()&&c.model.toLowerCase()===n.model.toLowerCase()&&(!n.variant||c.variant===n.variant)),a)){const c=Date.now()-new Date(a.lastUpdated).getTime();if(a.isComplete&&c<90*24*60*60*1e3){this.syncStatus.progress.processed++,this.saveSyncStatus();continue}}let i=Array.from(this.manufacturers.values()).find(c=>this.normalizeString(c.name)===this.normalizeString(n.manufacturer));i||(i={id:crypto.randomUUID(),name:n.manufacturer,normalizedName:this.normalizeString(n.manufacturer),modelCount:0,lastUpdated:new Date().toISOString(),createdAt:new Date().toISOString()},this.saveManufacturer(i));const s={id:a?.id||crypto.randomUUID(),manufacturerId:i.id,manufacturerName:i.name,model:n.model,normalizedModel:this.normalizeString(n.model),variant:n.variant,yearRange:n.yearRange,aircraftType:n.aircraftType,specsSummary:{},isComplete:!1,missingFields:[],sources:[],lastUpdated:new Date().toISOString(),createdAt:a?.createdAt||new Date().toISOString()};this.saveModel(s),await this.linkModelSpecs(s.id,n.manufacturer,n.model,n.variant,n.yearRange?.start),this.syncStatus.progress.processed++,this.saveSyncStatus()}catch(a){console.error(`Erro ao processar modelo ${n.manufacturer} ${n.model}:`,a),this.syncStatus.progress.errors++,this.saveSyncStatus()}this.syncStatus.status="idle",this.syncStatus.nextSync=new Date(Date.now()+10080*60*1e3).toISOString()}catch(r){this.syncStatus.status="error",this.syncStatus.error=r instanceof Error?r.message:"Erro desconhecido"}finally{this.saveSyncStatus()}}async buildCanonicalList(){try{const e=await ic.loadFromCSV();return{manufacturers:Array.from(new Set(e.map(n=>n.manufacturer))),models:e}}catch(e){console.warn("Erro ao carregar CSV, usando lista padro:",e);const r=[{manufacturer:"Beechcraft",model:"King Air C90",variant:"C90GTi",aircraftType:"turbohelice"},{manufacturer:"Beechcraft",model:"King Air B200",aircraftType:"turbohelice"},{manufacturer:"Beechcraft",model:"Bonanza A36",aircraftType:"pistao"},{manufacturer:"Beechcraft",model:"Baron 58",aircraftType:"pistao"},{manufacturer:"Cessna",model:"172",aircraftType:"pistao"},{manufacturer:"Cessna",model:"182",aircraftType:"pistao"},{manufacturer:"Cessna",model:"206",aircraftType:"pistao"},{manufacturer:"Cessna",model:"Caravan",aircraftType:"turbohelice"},{manufacturer:"Cessna",model:"Citation",variant:"CJ3",aircraftType:"jato"},{manufacturer:"Cessna",model:"Citation",variant:"XLS",aircraftType:"jato"},{manufacturer:"Piper",model:"Cherokee",aircraftType:"pistao"},{manufacturer:"Piper",model:"Archer",aircraftType:"pistao"},{manufacturer:"Piper",model:"Seneca",aircraftType:"pistao"},{manufacturer:"Piper",model:"Seminole",aircraftType:"pistao"},{manufacturer:"Embraer",model:"Phenom 100",aircraftType:"jato"},{manufacturer:"Embraer",model:"Phenom 300",aircraftType:"jato"},{manufacturer:"Embraer",model:"Legacy 450",aircraftType:"jato"},{manufacturer:"Embraer",model:"Legacy 500",aircraftType:"jato"},{manufacturer:"Daher",model:"TBM",variant:"900",aircraftType:"turbohelice"},{manufacturer:"Daher",model:"TBM",variant:"940",aircraftType:"turbohelice"},{manufacturer:"Pilatus",model:"PC-12",aircraftType:"turbohelice"},{manufacturer:"Pilatus",model:"PC-24",aircraftType:"jato"}];return{manufacturers:Array.from(new Set(r.map(a=>a.manufacturer))),models:r}}}normalizeString(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}getSyncStatus(){return this.syncStatus}saveToCache(){localStorage.setItem(as.MANUFACTURERS,JSON.stringify(Array.from(this.manufacturers.values()))),localStorage.setItem(as.MODELS,JSON.stringify(Array.from(this.models.values())))}loadFromCache(){const e=localStorage.getItem(as.MANUFACTURERS);e&&JSON.parse(e).forEach(i=>this.manufacturers.set(i.id,i));const r=localStorage.getItem(as.MODELS);r&&JSON.parse(r).forEach(i=>this.models.set(i.id,i));const n=localStorage.getItem(as.SYNC_STATUS);n&&(this.syncStatus=JSON.parse(n))}saveSyncStatus(){localStorage.setItem(as.SYNC_STATUS,JSON.stringify(this.syncStatus))}}const is=new Ate;function Ote(){const t=go(),[e,r]=N.useState("manufacturers"),[n,a]=N.useState(null),[i,s]=N.useState(null),[c,d]=N.useState([]),[f,p]=N.useState(""),[m,v]=N.useState([]),[y,w]=N.useState(""),[S,b]=N.useState(1),[_,A]=N.useState(1),[x,T]=N.useState({}),[C,E]=N.useState(!1),[P,R]=N.useState(!1),[M,$]=N.useState(is.getSyncStatus()),[k,L]=N.useState(!1),[F,z]=N.useState(!1);N.useEffect(()=>{q(),Y();const re=setInterval(()=>{$(is.getSyncStatus())},1e3);return()=>clearInterval(re)},[]),N.useEffect(()=>{e==="manufacturers"?q():e==="models"&&Y()},[e,f,y,x,S]);const q=()=>{const re=is.getManufacturers(f);d(re)},Y=()=>{const re=is.getModels(x,S);v(re.models),A(re.pagination.totalPages)},te=re=>{a(re),r("models"),T({...x,manufacturerId:re.id}),b(1)},ee=re=>{s(re),r("details")},oe=()=>{e==="details"?(r("models"),s(null)):e==="models"&&(r("manufacturers"),a(null),T({}),b(1))},ue=async()=>{R(!0);try{await is.syncCatalog(!0),q(),Y(),$(is.getSyncStatus())}catch(re){console.error("Erro ao sincronizar:",re),alert("Erro ao sincronizar catlogo")}finally{R(!1)}},W=async re=>{const K=re.target.files?.[0];if(K){if(!K.name.endsWith(".csv")){alert("Por favor, selecione um arquivo CSV");return}z(!0);try{await ic.loadFromFile(K),alert('CSV importado com sucesso! Clique em "Atualizar Dados" para sincronizar.'),L(!1)}catch(fe){console.error("Erro ao importar CSV:",fe),alert(`Erro ao importar CSV: ${fe.message}`)}finally{z(!1),re.target.value=""}}},J=()=>{i&&t("/aeronaves?manufacturer="+encodeURIComponent(i.manufacturerName)+"&model="+encodeURIComponent(i.model)+"&variant="+encodeURIComponent(i.variant||""))},D=re=>({pistao:"Pisto",turbohelice:"Turbohlice",jato:"Jato",helicoptero:"Helicptero"})[re]||re;return o.jsxs("div",{className:"catalogo-page",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Catlogo de Aeronaves"}),o.jsxs("p",{className:"page-subtitle",children:[e==="manufacturers"&&"Selecione um fabricante",e==="models"&&n&&`Modelos - ${n.name}`,e==="details"&&i&&`${i.manufacturerName} ${i.model}`]})]}),o.jsxs("div",{className:"header-actions",children:[M&&o.jsxs("div",{className:"sync-status",children:[o.jsx(lo,{size:16}),o.jsxs("span",{children:["ltima atualizao: ",new Date(M.lastSync).toLocaleString("pt-BR")]})]}),o.jsx(me,{variant:"outline",onClick:()=>L(!0),children:"Importar CSV"}),o.jsx(me,{variant:"secondary",icon:o.jsx(KN,{size:16,className:P?"spinning":""}),onClick:ue,disabled:P,children:P?"Sincronizando...":"Atualizar Dados"})]})]}),e!=="manufacturers"&&o.jsx(me,{variant:"outline",icon:o.jsx(wz,{size:16}),onClick:oe,style:{marginBottom:"1rem"},children:"Voltar"}),e==="manufacturers"&&o.jsxs(pe,{title:"Fabricantes",children:[o.jsx("div",{className:"search-bar",children:o.jsx(Q,{placeholder:"Buscar fabricante...",value:f,onChange:re=>p(re.target.value),icon:o.jsx(J_,{size:16})})}),o.jsxs("div",{className:"manufacturers-grid",children:[c.map(re=>o.jsxs("div",{className:"manufacturer-card",onClick:()=>te(re),children:[o.jsx(di,{size:32}),o.jsxs("div",{className:"manufacturer-info",children:[o.jsx("h3",{children:re.name}),o.jsxs("p",{children:[re.modelCount," modelo",re.modelCount!==1?"s":""]})]}),o.jsx(_b,{size:20})]},re.id)),c.length===0&&o.jsxs("div",{className:"empty-state",children:[o.jsx(Hr,{size:48}),o.jsx("p",{children:"Nenhum fabricante encontrado"})]})]})]}),e==="models"&&o.jsx(o.Fragment,{children:o.jsxs(pe,{title:"Modelos",children:[o.jsxs("div",{className:"models-toolbar",children:[o.jsx("div",{className:"search-bar",children:o.jsx(Q,{placeholder:"Buscar modelo...",value:y,onChange:re=>w(re.target.value),icon:o.jsx(J_,{size:16})})}),o.jsx(me,{variant:"outline",icon:o.jsx(Ys,{size:16}),onClick:()=>E(!0),children:"Filtros"})]}),o.jsxs("div",{className:"models-grid",children:[m.map(re=>o.jsxs("div",{className:"model-card",onClick:()=>ee(re),children:[o.jsxs("div",{className:"model-header",children:[o.jsxs("div",{children:[o.jsx("h3",{children:re.model}),re.variant&&o.jsx("span",{className:"variant",children:re.variant})]}),o.jsx(Ze,{variant:re.isComplete?"success":"warning",size:"sm",children:re.isComplete?"Completo":"Incompleto"})]}),o.jsxs("div",{className:"model-specs-summary",children:[re.specsSummary.seats&&o.jsxs("div",{className:"spec-item",children:[o.jsx("span",{className:"spec-label",children:"Assentos:"}),o.jsx("span",{children:re.specsSummary.seats})]}),re.specsSummary.range&&o.jsxs("div",{className:"spec-item",children:[o.jsx("span",{className:"spec-label",children:"Alcance:"}),o.jsxs("span",{children:[re.specsSummary.range," NM"]})]}),re.specsSummary.cruiseSpeed&&o.jsxs("div",{className:"spec-item",children:[o.jsx("span",{className:"spec-label",children:"Cruzeiro:"}),o.jsxs("span",{children:[re.specsSummary.cruiseSpeed," kt"]})]}),o.jsxs("div",{className:"spec-item",children:[o.jsx("span",{className:"spec-label",children:"Tipo:"}),o.jsx("span",{children:D(re.aircraftType)})]})]}),o.jsx(_b,{size:20})]},re.id)),m.length===0&&o.jsxs("div",{className:"empty-state",children:[o.jsx(Hr,{size:48}),o.jsx("p",{children:"Nenhum modelo encontrado"})]})]}),_>1&&o.jsxs("div",{className:"pagination",children:[o.jsx(me,{variant:"outline",onClick:()=>b(re=>Math.max(1,re-1)),disabled:S===1,children:"Anterior"}),o.jsxs("span",{children:["Pgina ",S," de ",_]}),o.jsx(me,{variant:"outline",onClick:()=>b(re=>Math.min(_,re+1)),disabled:S===_,children:"Prxima"})]})]})}),e==="details"&&i&&o.jsx(Cte,{model:i,onUseInAircraft:J}),o.jsx(mt,{isOpen:C,onClose:()=>E(!1),title:"Filtros",size:"md",children:o.jsxs("div",{className:"filters-content",children:[o.jsx(Je,{label:"Tipo de Aeronave",value:x.aircraftType?.[0]||"",onChange:re=>{const K=re.target.value;T({...x,aircraftType:K?[K]:void 0})},options:[{value:"",label:"Todos"},{value:"pistao",label:"Pisto"},{value:"turbohelice",label:"Turbohlice"},{value:"jato",label:"Jato"},{value:"helicoptero",label:"Helicptero"}]}),o.jsx(Q,{label:"Alcance Mnimo (NM)",type:"number",value:x.minRange||"",onChange:re=>T({...x,minRange:re.target.value?parseInt(re.target.value):void 0})}),o.jsx(Q,{label:"Alcance Mximo (NM)",type:"number",value:x.maxRange||"",onChange:re=>T({...x,maxRange:re.target.value?parseInt(re.target.value):void 0})}),o.jsx(Q,{label:"Assentos Mnimo",type:"number",value:x.minSeats||"",onChange:re=>T({...x,minSeats:re.target.value?parseInt(re.target.value):void 0})}),o.jsx(Q,{label:"Assentos Mximo",type:"number",value:x.maxSeats||"",onChange:re=>T({...x,maxSeats:re.target.value?parseInt(re.target.value):void 0})}),o.jsxs("div",{className:"filter-actions",children:[o.jsx(me,{onClick:()=>{T({}),E(!1)},children:"Limpar"}),o.jsx(me,{onClick:()=>E(!1),children:"Aplicar"})]})]})}),o.jsx(mt,{isOpen:k,onClose:()=>L(!1),title:"Importar CSV do Catlogo",size:"md",children:o.jsxs("div",{className:"upload-content",children:[o.jsx("p",{style:{marginBottom:"1rem",color:"var(--text-secondary)"},children:"Faa upload do arquivo CSV com os dados do catlogo de aeronaves."}),o.jsxs("div",{className:"upload-instructions",children:[o.jsx("h4",{children:"Formato esperado:"}),o.jsx("code",{style:{display:"block",padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"var(--radius-md)",marginTop:"0.5rem",fontSize:"0.875rem"},children:"manufacturer,model,variant,aircraft_type,year_start,year_end"}),o.jsxs("p",{style:{marginTop:"1rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:["Colunas obrigatrias: ",o.jsx("strong",{children:"manufacturer"}),", ",o.jsx("strong",{children:"model"}),", ",o.jsx("strong",{children:"aircraft_type"}),o.jsx("br",{}),"Colunas opcionais: ",o.jsx("strong",{children:"variant"}),", ",o.jsx("strong",{children:"year_start"}),", ",o.jsx("strong",{children:"year_end"})]})]}),o.jsx("div",{style:{marginTop:"1.5rem"},children:o.jsxs("label",{className:"file-upload-label",children:[o.jsx("input",{type:"file",accept:".csv",onChange:W,disabled:F,style:{display:"none"}}),o.jsx(me,{variant:"secondary",disabled:F,style:{width:"100%"},children:F?"Importando...":"Selecionar Arquivo CSV"})]})}),ic.hasCachedCSV()&&o.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"var(--success-light)",borderRadius:"var(--radius-md)",fontSize:"0.875rem"},children:[" CSV j importado anteriormente",ic.getCacheTimestamp()&&o.jsxs("div",{style:{marginTop:"0.25rem",color:"var(--text-secondary)"},children:["Importado em: ",new Date(ic.getCacheTimestamp()).toLocaleString("pt-BR")]})]})]})})]})}function Cte({model:t,onUseInAircraft:e}){const[r]=N.useState(!1);return o.jsx("div",{className:"model-details",children:o.jsxs(pe,{title:`${t.manufacturerName} ${t.model}${t.variant?` ${t.variant}`:""}`,children:[o.jsxs("div",{className:"details-header",children:[o.jsxs("div",{children:[o.jsx(Ze,{variant:t.isComplete?"success":"warning",size:"md",children:t.isComplete?o.jsxs(o.Fragment,{children:[o.jsx(fw,{size:16,style:{marginRight:4}}),"Especificaes Completas"]}):o.jsxs(o.Fragment,{children:[o.jsx(Tr,{size:16,style:{marginRight:4}}),"Especificaes Incompletas"]})}),t.missingFields.length>0&&o.jsxs("p",{className:"missing-fields",children:["Campos faltantes: ",t.missingFields.join(", ")]})]}),o.jsx(me,{onClick:e,children:"Usar no Cadastro de Aeronave"})]}),r?o.jsxs("div",{className:"loading-state",children:[o.jsx(hw,{size:32,className:"spinning"}),o.jsx("p",{children:"Carregando especificaes..."})]}):o.jsxs("div",{className:"specs-sections",children:[o.jsxs("div",{className:"specs-section",children:[o.jsx("h3",{children:"Performance"}),o.jsxs("div",{className:"specs-grid",children:[t.specsSummary.cruiseSpeed&&o.jsxs("div",{className:"spec-card",children:[o.jsx("span",{className:"spec-label",children:"Velocidade de Cruzeiro"}),o.jsxs("span",{className:"spec-value",children:[t.specsSummary.cruiseSpeed," KTAS"]})]}),t.specsSummary.range&&o.jsxs("div",{className:"spec-card",children:[o.jsx("span",{className:"spec-label",children:"Alcance"}),o.jsxs("span",{className:"spec-value",children:[t.specsSummary.range," NM"]})]})]})]}),t.specsSummary.mtow&&o.jsxs("div",{className:"specs-section",children:[o.jsx("h3",{children:"Pesos"}),o.jsx("div",{className:"specs-grid",children:o.jsxs("div",{className:"spec-card",children:[o.jsx("span",{className:"spec-label",children:"MTOW"}),o.jsxs("span",{className:"spec-value",children:[t.specsSummary.mtow.toLocaleString()," lbs"]})]})})]}),t.specsSummary.engineType&&o.jsxs("div",{className:"specs-section",children:[o.jsx("h3",{children:"Propulso"}),o.jsxs("div",{className:"specs-grid",children:[o.jsxs("div",{className:"spec-card",children:[o.jsx("span",{className:"spec-label",children:"Motor"}),o.jsx("span",{className:"spec-value",children:t.specsSummary.engineType})]}),t.specsSummary.fuelType&&o.jsxs("div",{className:"spec-card",children:[o.jsx("span",{className:"spec-label",children:"Combustvel"}),o.jsx("span",{className:"spec-value",children:t.specsSummary.fuelType==="avgas"?"AVGAS":"Jet A"})]})]})]}),t.specsSummary.seats&&o.jsxs("div",{className:"specs-section",children:[o.jsx("h3",{children:"Dimenses"}),o.jsx("div",{className:"specs-grid",children:o.jsxs("div",{className:"spec-card",children:[o.jsx("span",{className:"spec-label",children:"Assentos"}),o.jsx("span",{className:"spec-value",children:t.specsSummary.seats})]})})]}),t.sources.length>0&&o.jsxs("div",{className:"specs-section",children:[o.jsx("h3",{children:"Fontes de Dados"}),o.jsx("div",{className:"sources-list",children:t.sources.map((n,a)=>o.jsxs("div",{className:"source-item",children:[o.jsx("span",{className:"source-type",children:n.type}),n.url&&o.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",children:"Ver fonte"}),o.jsx("span",{className:"source-date",children:new Date(n.collectedAt).toLocaleDateString("pt-BR")})]},a))})]}),o.jsx("div",{className:"specs-section",children:o.jsxs("p",{className:"last-updated",children:["ltima atualizao: ",new Date(t.lastUpdated).toLocaleString("pt-BR")]})})]})]})})}const Tte="modulepreload",Ete=function(t){return"/"+t},dN={},Pte=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let f=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var s=f;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");a=f(r.map(p=>{if(p=Ete(p),p in dN)return;dN[p]=!0;const m=p.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":Tte,m||(y.as="script"),y.crossOrigin="",y.href=p,d&&y.setAttribute("nonce",d),document.head.appendChild(y),m)return new Promise((w,S)=>{y.addEventListener("load",w),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&i(d.reason);return e().catch(i)})};class kte{async parseCSV(e){const n=(await e.text()).split(`
`).filter(d=>d.trim());if(n.length===0)return[];const i=n[0].includes(";")?";":",",s=this.parseCSVLine(n[0],i).map(d=>d.trim().toLowerCase()),c=[];for(let d=1;d<n.length;d++){const f=this.parseCSVLine(n[d],i);if(f.length===0||f.every(m=>!m.trim()))continue;const p={};s.forEach((m,v)=>{p[m]=f[v]?.trim()||""}),c.push(p)}return c}parseCSVLine(e,r){const n=[];let a="",i=!1;for(let s=0;s<e.length;s++){const c=e[s],d=e[s+1];c==='"'?i&&d==='"'?(a+='"',s++):i=!i:c===r&&!i?(n.push(a),a=""):a+=c}return n.push(a),n}async parseExcel(e){try{const r=await Pte(()=>import("./xlsx-CNerDvZX.js"),[]),n=await e.arrayBuffer(),a=r.read(n,{type:"array"}),i=a.SheetNames[0],s=a.Sheets[i];return r.utils.sheet_to_json(s,{defval:""}).map(d=>{const f={};return Object.keys(d).forEach(p=>{f[p.toLowerCase().trim()]=d[p]}),f})}catch(r){throw new Error(`Erro ao ler arquivo Excel: ${r.message}. Certifique-se de que a biblioteca xlsx est instalada.`)}}async parseFile(e){const r=e.name.toLowerCase();if(r.endsWith(".csv"))return this.parseCSV(e);if(r.endsWith(".xlsx")||r.endsWith(".xls"))return this.parseExcel(e);throw new Error("Formato de arquivo no suportado. Use CSV ou Excel (.xlsx, .xls)")}parseDate(e){if(!e||!e.trim())return null;const r=[/^(\d{2})\/(\d{2})\/(\d{4})$/,/^(\d{4})-(\d{2})-(\d{2})$/,/^(\d{2})-(\d{2})-(\d{4})$/];for(const a of r){const i=e.match(a);if(i){if(a===r[0])return`${i[3]}-${i[2]}-${i[1]}`;if(a===r[1])return e;if(a===r[2])return`${i[3]}-${i[2]}-${i[1]}`}}const n=new Date(e);return isNaN(n.getTime())?null:n.toISOString().split("T")[0]}parseNumber(e){if(typeof e=="number")return e;if(!e||!e.toString().trim())return 0;const r=e.toString().replace(/R\$/g,"").replace(/\./g,"").replace(/,/g,".").replace(/\s/g,"").trim(),n=parseFloat(r);return isNaN(n)?0:n}parseHours(e){if(typeof e=="number")return e;if(!e||!e.toString().trim())return 0;const r=e.toString().trim(),n=r.match(/^(\d{1,2}):(\d{2})$/);if(n){const a=parseInt(n[1])||0,i=parseInt(n[2])||0;return a+i/60}return this.parseNumber(r)}mapRowToFlight(e,r,n){const a=A=>{for(const x of A)if(e[x]!==void 0&&e[x]!==null&&e[x]!=="")return e[x];return null},i=a(["data","date","data do voo","data_voo","data voo"]),s=this.parseDate(i?.toString()||"");if(!s)return null;const c=a(["origem","origin","de","from","origem icao","origem_icao"])?.toString()||"",d=a(["destino","dest","destination","para","to","destino icao","destino_icao"])?.toString()||"";if(!c||!d)return null;const f=this.parseHours(a(["tempo voo","tempo_voo","horas","hours","flight time","tempo","durao","duration"])||0),p=this.parseHours(a(["horas motor","horas_motor","motor","engine hours"])||f),m=this.parseHours(a(["horas clula","horas_celula","clula","airframe hours"])||f),v=Math.round(this.parseNumber(a(["ciclos","cycles","pousos","landings"])||1)),y=this.parseNumber(a(["combustvel","combustivel","fuel","combustvel consumido","fuel consumed"])||0),w=this.parseNumber(a(["abastecimento","refuel","combustvel abastecido","fuel added"])||0),S=a(["piloto","pilot","comandante"])?.toString()||"";let b=n;if(S){const x=U.getUsers().find(T=>T.nome.toLowerCase().includes(S.toLowerCase())||S.toLowerCase().includes(T.nome.toLowerCase()));x&&(b=x.id)}return{id:crypto.randomUUID(),aircraftId:r,pilotoId:b,data:s,origem:c.split(" ")[0],origemIcao:c.length<=4?c.toUpperCase():void 0,destino:d.split(" ")[0],destinoIcao:d.length<=4?d.toUpperCase():void 0,tempoVoo:f||0,horasMotor:p||f||0,horasCelula:m||f||0,ciclos:v||1,combustivelConsumido:y||void 0,combustivelAbastecido:w||void 0,observacoes:a(["observaes","observacoes","obs","notes","observao"])?.toString()||void 0,createdAt:new Date().toISOString(),createdBy:n,updatedAt:new Date().toISOString()}}mapRowToExpense(e,r,n){const a=w=>{for(const S of w)if(e[S]!==void 0&&e[S]!==null&&e[S]!=="")return e[S];return null},i=a(["data","date","data despesa","data_despesa"])?.toString()||"",s=this.parseDate(i);if(!s)return null;const c=a(["descrio","descricao","description","desc","tipo","categoria"])?.toString()||"";if(!c)return null;const d=this.parseNumber(a(["valor","value","custo","cost","preo","preco"])||0);if(d<=0)return null;const f=a(["categoria","category","tipo despesa","tipo_despesa"])?.toString().toLowerCase()||"";let p="outros";f.includes("combust")||f.includes("fuel")?p="combustivel":f.includes("manuten")||f.includes("maintenance")?p="manutencao":f.includes("hangar")||f.includes("hangar")?p="hangaragem":f.includes("seguro")||f.includes("insurance")?p="seguro":f.includes("taxa")||f.includes("fee")?p="taxas":(f.includes("pea")||f.includes("part"))&&(p="pecas");const v=(a(["tipo","type","fixo","varivel","variavel"])?.toString().toLowerCase()||"").includes("fixo")?"fixo":"variavel";return{id:crypto.randomUUID(),aircraftId:r,categoria:p,tipo:v,descricao:c,valor:d,moeda:"BRL",data:s,fornecedor:a(["fornecedor","supplier","vendor"])?.toString()||void 0,rateioAutomatico:!0,createdAt:new Date().toISOString(),createdBy:n}}mapRowToRevenue(e,r,n,a){const i=S=>{for(const b of S)if(e[b]!==void 0&&e[b]!==null&&e[b]!=="")return e[b];return null},s=i(["data","date","data receita","data_receita"])?.toString()||"",c=this.parseDate(s);if(!c)return null;const d=i(["descrio","descricao","description","desc","tipo"])?.toString()||"";if(!d)return null;const f=this.parseNumber(i(["valor","value","receita","revenue"])||0);if(f<=0)return null;const p=i(["categoria","category","tipo receita"])?.toString().toLowerCase()||"";let m="outras_receitas";p.includes("aplicao")||p.includes("aplicacao")||p.includes("investment")?m="aplicacao_financeira":p.includes("aporte")||p.includes("contribution")?m="aporte_financeiro":(p.includes("reembolso")||p.includes("refund"))&&(m="reembolso");const v=i(["conta","account","conta bancria","conta_bancaria"])?.toString()||"";let y=a[0]?.id||"";if(v&&a.length>0){const S=a.find(b=>b.nome.toLowerCase().includes(v.toLowerCase())||v.toLowerCase().includes(b.nome.toLowerCase()));S&&(y=S.id)}return y?{id:crypto.randomUUID(),aircraftId:r,categoria:m,descricao:d,valor:f,moeda:"BRL",data:c,contaBancariaId:y,origem:i(["origem","source","de onde","from"])?.toString()||void 0,rateioAutomatico:!1,createdAt:new Date().toISOString(),createdBy:n}:null}async importSpreadsheet(e,r,n,a={}){const i={success:!0,imported:{flights:0,expenses:0,revenues:0},errors:[],warnings:[]};try{const s=await this.parseFile(e);if(s.length===0)return i.errors.push("Planilha vazia ou sem dados vlidos"),i.success=!1,i;let c=s;(a.filterMonth||a.filterYear)&&(c=s.filter(f=>{const p=f.data||f.date||f["data do voo"]||f.data_despesa||"",m=this.parseDate(p?.toString()||"");if(!m)return!1;const v=new Date(m);return!(a.filterYear&&v.getFullYear()!==a.filterYear||a.filterMonth&&v.getMonth()+1!==a.filterMonth)}),c.length===0&&i.warnings.push("Nenhum registro encontrado para o perodo especificado"));const d=U.getBankAccounts(r);if(a.importFlights!==!1)for(const f of c)try{const p=this.mapRowToFlight(f,r,n);p&&(U.saveFlight(p,n,"Importao"),i.imported.flights++)}catch(p){i.errors.push(`Erro ao importar voo: ${p.message}`)}if(a.importExpenses!==!1)for(const f of c)try{const p=this.mapRowToExpense(f,r,n);p&&(U.saveExpense(p,n,"Importao"),i.imported.expenses++)}catch(p){i.errors.push(`Erro ao importar despesa: ${p.message}`)}if(a.importRevenues!==!1)for(const f of c)try{const p=this.mapRowToRevenue(f,r,n,d);p&&(U.saveRevenue(p,n,"Importao"),i.imported.revenues++)}catch(p){i.errors.push(`Erro ao importar receita: ${p.message}`)}i.imported.flights===0&&i.imported.expenses===0&&i.imported.revenues===0&&i.warnings.push("Nenhum dado foi importado. Verifique se as colunas da planilha esto corretas.")}catch(s){i.success=!1,i.errors.push(`Erro ao processar arquivo: ${s.message}`)}return i}async previewSpreadsheet(e,r=10){const n=await this.parseFile(e);return{headers:n.length>0?Object.keys(n[0]):[],rows:n.slice(0,r),totalRows:n.length}}}const fN=new kte;function Nte(){const{user:t}=cr(),{selectedAircraft:e}=Ir(),[r,n]=N.useState(null),[a,i]=N.useState(null),[s,c]=N.useState(!1),[d,f]=N.useState(null),[p,m]=N.useState(!1),[v,y]=N.useState({importFlights:!0,importExpenses:!0,importRevenues:!0,filterMonth:12,filterYear:new Date().getFullYear()}),w=async b=>{const _=b.target.files?.[0];if(_){console.log("Arquivo selecionado:",_.name),n(_),f(null),i(null);try{console.log("Gerando preview...");const A=await fN.previewSpreadsheet(_,10);console.log("Preview gerado:",A),i(A)}catch(A){console.error("Erro ao gerar preview:",A),alert(`Erro ao ler arquivo: ${A.message}`),n(null),i(null)}}},S=async()=>{if(console.log("handleImport chamado",{file:r,user:t,selectedAircraft:e,preview:a}),!r||!t||!e){alert("Selecione um arquivo e uma aeronave");return}if(!a){alert("Erro: Preview dos dados no disponvel. Tente selecionar o arquivo novamente.");return}c(!0),f(null);try{console.log("Iniciando importao...",v);const b=await fN.importSpreadsheet(r,e.id,t.id,v);console.log("Resultado da importao:",b),f(b),b.success?(alert(`Importao concluda!

Voos: ${b.imported.flights}
Despesas: ${b.imported.expenses}
Receitas: ${b.imported.revenues}`),setTimeout(()=>{window.location.reload()},2e3)):alert(`Erro na importao:
${b.errors.join(`
`)}`)}catch(b){console.error("Erro ao importar:",b),f({success:!1,imported:{flights:0,expenses:0,revenues:0},errors:[b.message||"Erro desconhecido ao importar"],warnings:[]}),alert(`Erro ao importar: ${b.message||"Erro desconhecido"}`)}finally{c(!1)}};return e?o.jsxs("div",{className:"importacao-page",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{children:[o.jsx("h1",{children:"Importao de Dados"}),o.jsxs("p",{className:"page-subtitle",children:["Importe voos, despesas e receitas da sua planilha - ",e.prefixo]})]})}),o.jsxs(pe,{children:[o.jsxs("div",{style:{marginBottom:"1.5rem"},children:[o.jsx("h3",{style:{margin:"0 0 0.5rem",fontSize:"1.125rem",fontWeight:600},children:"Upload de Planilha"}),o.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Suporta arquivos CSV e Excel (.xlsx, .xls). Os dados sero mapeados automaticamente."})]}),o.jsx("div",{style:{border:"2px dashed var(--border-color)",borderRadius:"0.5rem",padding:"2rem",textAlign:"center",background:r?"var(--bg-secondary)":"transparent",transition:"all 0.2s"},children:r?o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginBottom:"1rem"},children:[o.jsx(nv,{size:24,style:{color:"var(--success-color)"}}),o.jsx("span",{style:{fontWeight:600},children:r.name}),o.jsx("button",{onClick:()=>{n(null),i(null),f(null)},style:{background:"none",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"0.25rem"},children:o.jsx(vh,{size:18})})]}),a&&o.jsxs("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:[a.totalRows," linhas encontradas  ",a.headers.length," colunas"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Cb,{size:48,style:{color:"var(--text-secondary)",marginBottom:"1rem"}}),o.jsx("p",{style:{margin:"0 0 1rem",color:"var(--text-secondary)"},children:"Arraste o arquivo aqui ou clique para selecionar"}),o.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:w,style:{display:"none"},id:"file-input"}),o.jsx("label",{htmlFor:"file-input",style:{cursor:"pointer"},children:o.jsx(me,{icon:o.jsx(nv,{size:18}),children:"Selecionar Arquivo"})})]})}),a&&o.jsxs("div",{style:{marginTop:"1.5rem"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[o.jsx("h4",{style:{margin:0,fontSize:"0.9375rem",fontWeight:600},children:"Preview dos Dados"}),o.jsx(me,{variant:"secondary",size:"sm",icon:o.jsx(WN,{size:14}),onClick:()=>m(!0),children:"Ver Preview Completo"})]}),o.jsx("div",{style:{maxHeight:"200px",overflow:"auto",border:"1px solid var(--border-color)",borderRadius:"0.25rem",fontSize:"0.75rem"},children:o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[o.jsx("thead",{style:{position:"sticky",top:0,background:"var(--bg-primary)",zIndex:1},children:o.jsx("tr",{children:a.headers.slice(0,6).map((b,_)=>o.jsx("th",{style:{padding:"0.5rem",textAlign:"left",borderBottom:"1px solid var(--border-color)",fontWeight:600},children:b},_))})}),o.jsx("tbody",{children:a.rows.slice(0,5).map((b,_)=>o.jsx("tr",{children:a.headers.slice(0,6).map((A,x)=>o.jsx("td",{style:{padding:"0.5rem",borderBottom:"1px solid var(--border-color)"},children:String(b[A]||"").substring(0,30)},x))},_))})]})}),a.totalRows>5&&o.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.75rem",color:"var(--text-secondary)"},children:["Mostrando 5 de ",a.totalRows," linhas"]})]}),a&&o.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"var(--bg-secondary)",borderRadius:"0.5rem"},children:[o.jsx("h4",{style:{margin:"0 0 1rem",fontSize:"0.9375rem",fontWeight:600},children:"Opes de Importao"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:v.importFlights,onChange:b=>y({...v,importFlights:b.target.checked})}),o.jsx("span",{children:"Importar Voos"})]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:v.importExpenses,onChange:b=>y({...v,importExpenses:b.target.checked})}),o.jsx("span",{children:"Importar Despesas"})]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:v.importRevenues,onChange:b=>y({...v,importRevenues:b.target.checked})}),o.jsx("span",{children:"Importar Receitas"})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"0.875rem",marginBottom:"0.25rem",fontWeight:500},children:"Filtrar por Ms"}),o.jsxs("select",{value:v.filterMonth||"",onChange:b=>y({...v,filterMonth:b.target.value?parseInt(b.target.value):12}),style:{width:"100%",padding:"0.5rem",borderRadius:"0.25rem",border:"1px solid var(--border-color)"},children:[o.jsx("option",{value:"",children:"Todos os meses"}),o.jsx("option",{value:"1",children:"Janeiro"}),o.jsx("option",{value:"2",children:"Fevereiro"}),o.jsx("option",{value:"3",children:"Maro"}),o.jsx("option",{value:"4",children:"Abril"}),o.jsx("option",{value:"5",children:"Maio"}),o.jsx("option",{value:"6",children:"Junho"}),o.jsx("option",{value:"7",children:"Julho"}),o.jsx("option",{value:"8",children:"Agosto"}),o.jsx("option",{value:"9",children:"Setembro"}),o.jsx("option",{value:"10",children:"Outubro"}),o.jsx("option",{value:"11",children:"Novembro"}),o.jsx("option",{value:"12",children:"Dezembro"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"0.875rem",marginBottom:"0.25rem",fontWeight:500},children:"Filtrar por Ano"}),o.jsx("input",{type:"number",value:v.filterYear||new Date().getFullYear(),onChange:b=>y({...v,filterYear:b.target.value?parseInt(b.target.value):new Date().getFullYear()}),placeholder:"Ex: 2024",style:{width:"100%",padding:"0.5rem",borderRadius:"0.25rem",border:"1px solid var(--border-color)"}})]})]})]}),d&&o.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",borderRadius:"0.5rem",background:d.success?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",border:`1px solid ${d.success?"var(--success-color)":"var(--danger-color)"}`},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[d.success?o.jsx(fw,{size:20,style:{color:"var(--success-color)"}}):o.jsx(Tr,{size:20,style:{color:"var(--danger-color)"}}),o.jsx("h4",{style:{margin:0,fontSize:"0.9375rem",fontWeight:600},children:d.success?"Importao Concluda":"Erros na Importao"})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"0.75rem"},children:[o.jsxs("div",{children:[o.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Voos:"}),o.jsx("div",{style:{fontSize:"1.125rem",fontWeight:600},children:d.imported.flights})]}),o.jsxs("div",{children:[o.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Despesas:"}),o.jsx("div",{style:{fontSize:"1.125rem",fontWeight:600},children:d.imported.expenses})]}),o.jsxs("div",{children:[o.jsx("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Receitas:"}),o.jsx("div",{style:{fontSize:"1.125rem",fontWeight:600},children:d.imported.revenues})]})]}),d.warnings.length>0&&o.jsxs("div",{style:{marginTop:"0.75rem"},children:[o.jsx("strong",{style:{fontSize:"0.875rem"},children:"Avisos:"}),o.jsx("ul",{style:{margin:"0.25rem 0 0",paddingLeft:"1.5rem",fontSize:"0.875rem"},children:d.warnings.map((b,_)=>o.jsx("li",{children:b},_))})]}),d.errors.length>0&&o.jsxs("div",{style:{marginTop:"0.75rem"},children:[o.jsx("strong",{style:{fontSize:"0.875rem",color:"var(--danger-color)"},children:"Erros:"}),o.jsx("ul",{style:{margin:"0.25rem 0 0",paddingLeft:"1.5rem",fontSize:"0.875rem",color:"var(--danger-color)"},children:d.errors.map((b,_)=>o.jsx("li",{children:b},_))})]})]}),r&&o.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[o.jsx(me,{variant:"secondary",onClick:()=>{n(null),i(null),f(null)},children:"Cancelar"}),o.jsx("button",{type:"button",onClick:b=>{if(b.preventDefault(),b.stopPropagation(),console.log("Boto clicado!",{loading:s,preview:a,file:r,user:t,selectedAircraft:e}),!a){alert("Erro: Preview dos dados no disponvel. Tente selecionar o arquivo novamente.");return}S()},disabled:s,style:{padding:"0.625rem 1.25rem",borderRadius:"0.5rem",border:"none",background:s?"var(--text-secondary)":"var(--accent-color)",color:"white",fontWeight:500,cursor:s?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9375rem"},children:s?o.jsxs(o.Fragment,{children:[o.jsx(hw,{size:18,className:"spinning"}),"Importando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Cb,{size:18}),"Importar Dados"]})})]})]}),o.jsx(mt,{isOpen:p,onClose:()=>m(!1),title:"Preview Completo da Planilha",size:"lg",children:a&&o.jsxs("div",{style:{maxHeight:"70vh",overflow:"auto"},children:[o.jsx(Qt,{columns:a.headers.map(b=>({key:b,header:b,render:_=>String(_[b]||"").substring(0,50)})),data:a.rows,keyExtractor:(b,_)=>`row-${_??0}`,emptyMessage:"Nenhum dado encontrado"}),o.jsxs("p",{style:{marginTop:"1rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:["Mostrando ",a.rows.length," de ",a.totalRows," linhas"]})]})})]}):o.jsxs("div",{className:"empty-state",children:[o.jsx(nv,{size:64,className:"empty-state-icon"}),o.jsx("h3",{children:"Selecione uma aeronave"}),o.jsx("p",{children:"Selecione uma aeronave no menu lateral para importar dados."})]})}function Ite(){const{isAuthenticated:t,isLoading:e}=cr();return e?o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.125rem",color:"var(--text-secondary)"},children:"Carregando..."}):t?o.jsx(gz,{children:o.jsx(Fz,{children:o.jsxs(AN,{children:[o.jsx(Bt,{path:"/",element:o.jsx(Eee,{})}),o.jsx(Bt,{path:"/aeronaves",element:o.jsx(Iee,{})}),o.jsx(Bt,{path:"/catalogo",element:o.jsx(Ote,{})}),o.jsx(Bt,{path:"/logbook",element:o.jsx(Mee,{})}),o.jsx(Bt,{path:"/lancamentos",element:o.jsx(Dee,{})}),o.jsx(Bt,{path:"/manutencao",element:o.jsx(Lee,{})}),o.jsx(Bt,{path:"/financeiro",element:o.jsx(Kee,{})}),o.jsx(Bt,{path:"/patrimonio",element:o.jsx(Xee,{})}),o.jsx(Bt,{path:"/documentos",element:o.jsx(Qee,{})}),o.jsx(Bt,{path:"/agenda",element:o.jsx(Zee,{})}),o.jsx(Bt,{path:"/estimativa",element:o.jsx(pte,{})}),o.jsx(Bt,{path:"/relatorios",element:o.jsx(mte,{})}),o.jsx(Bt,{path:"/relatorios-lancamentos",element:o.jsx(gte,{})}),o.jsx(Bt,{path:"/uso-por-socio",element:o.jsx(xte,{})}),o.jsx(Bt,{path:"/usuarios",element:o.jsx(Ste,{})}),o.jsx(Bt,{path:"/importacao",element:o.jsx(Nte,{})}),o.jsx(Bt,{path:"/configuracoes",element:o.jsx(jte,{})})]})})}):o.jsx(_N,{to:"/login",replace:!0})}function hN({children:t}){const{isAuthenticated:e,isLoading:r}=cr();return r?o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.125rem",color:"var(--text-secondary)"},children:"Carregando..."}):e?o.jsx(_N,{to:"/",replace:!0}):o.jsx(o.Fragment,{children:t})}function Mte(){return o.jsx(EL,{children:o.jsx(vz,{children:o.jsxs(AN,{children:[o.jsx(Bt,{path:"/login",element:o.jsx(hN,{children:o.jsx(zz,{})})}),o.jsx(Bt,{path:"/cadastro",element:o.jsx(hN,{children:o.jsx(Uz,{})})}),o.jsx(Bt,{path:"/*",element:o.jsx(Ite,{})})]})})})}P$.createRoot(document.getElementById("root")).render(o.jsx(G.StrictMode,{children:o.jsx(Mte,{})}));
